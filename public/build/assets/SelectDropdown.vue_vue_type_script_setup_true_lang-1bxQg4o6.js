import{d as K,e as p,o as d,a as i,t as $,n as V,u as _,m as I,p as x,r as h,l as b,B as g,v as N,k as H,c as T,w,D as U,ae as A,f as L,F as q,h as O,y as z,b as j}from"./app-CZLkYVhz.js";import{_ as E}from"./Dropdown.vue_vue_type_script_setup_true_lang-2TV_nqEm.js";import{t as D}from"./bundle-mjs-D696Ktp4.js";import{o as y}from"./index-CHolqtoz.js";const G={class:"px-1"},J=K({__name:"SelectDropdownItem",props:{name:{},selected:{type:Boolean},highlighted:{type:Boolean}},setup(u){const c=u;return(n,s)=>(d(),p("div",G,[i("div",{class:V(_(D)("flex items-center space-x-3 w-full px-1.5 py-1.5 rounded text-start text-sm font-medium leading-5 t hover:dark:text-[#BFC7D6] hover:text-gray-200 focus:outline-none focus:dark:bg-[#303F61]   dark:border-[#303F61]  transition duration-150 ease-in-out cursor-pointer ",c.highlighted&&"bg-card-background-active",c.selected?"bg-accent-300/20":"hover:bg-card-background-active"))},[i("span",null,$(n.name),1)],2)]))}}),P={class:"p-2 border-b dark:border-[#303F61] bg-white dark:bg-[#0F1426]"},Q=["data-select-id","value","data-item-id"],R={key:0,class:"px-5 py-2 text-sm text-gray-500 dark:text-gray-400"},ee=K({__name:"SelectDropdown",props:I({items:{},getKeyFromItem:{},getNameForItem:{},align:{default:"start"},class:{}},{modelValue:{default:null},modelModifiers:{},open:{default:!1},openModifiers:{}}),emits:I(["update:modelValue","changed"],["update:modelValue","update:open"]),setup(u,{emit:c}){const n=x(u,"modelValue"),s=x(u,"open"),t=u,m=h(null),f=h(""),l=b(()=>t.items.filter(e=>{var r,a;return t.getNameForItem(e).toLowerCase().includes(((a=(r=f.value)==null?void 0:r.toLowerCase())==null?void 0:a.trim())||"")})),o=h(n.value);g(n,()=>{n.value&&(o.value=n.value)}),N(()=>{o.value||F()}),g(l,()=>{F()});function F(){l.value.length>0&&l.value.find(e=>t.getKeyFromItem(e)===o.value)===void 0&&(o.value=t.getKeyFromItem(l.value[0]))}g(o,()=>{var e;if(o.value){const r=(e=m.value)==null?void 0:e.querySelector(`[data-select-id="${o.value}"]`);r==null||r.scrollIntoView({block:"nearest",inline:"nearest"})}});const B=c;function k(e){n.value=e,B("changed"),s.value=!1}function C(){if(v.value){const e=l.value.indexOf(v.value);e===0?o.value=t.getKeyFromItem(l.value[l.value.length-1]):o.value=t.getKeyFromItem(l.value[e-1])}}function M(){if(v.value){const e=l.value.indexOf(v.value);e===l.value.length-1?o.value=t.getKeyFromItem(l.value[0]):o.value=t.getKeyFromItem(l.value[e+1])}}const v=b(()=>t.items.find(e=>t.getKeyFromItem(e)===o.value));return y("ArrowDown",e=>{s.value===!0&&(M(),e.preventDefault())}),y("ArrowUp",e=>{s.value===!0&&(C(),e.preventDefault())}),y("Enter",e=>{s.value===!0&&(k(o.value),e.preventDefault())}),g(s,()=>{s.value===!0&&H(()=>{var r,a;const e=(r=m.value)==null?void 0:r.querySelector(`[data-select-id="${n.value}"]`);(a=m.value)==null||a.scrollTo({top:(e==null?void 0:e.offsetTop)??0,behavior:"instant"})})}),(e,r)=>(d(),T(E,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=a=>s.value=a),align:e.align,"close-on-content-click":!1},{trigger:w(()=>[z(e.$slots,"trigger")]),content:w(()=>[i("div",P,[U(i("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>f.value=a),type:"text",placeholder:"Search...",class:"w-full px-3 py-2 text-sm rounded-md border dark:border-[#303F61] dark:bg-[#1B2238] dark:text-white focus:outline-none"},null,512),[[A,f.value]])]),i("div",{ref_key:"dropdownViewport",ref:m,class:V(_(D)("py-1.5 max-h-60 overflow-y-scroll dark:border-[#303F61] dark:bg-[#0F1426] bg-white dark:text-[#7D88A1]",t.class))},[(d(!0),p(q,null,O(l.value,a=>(d(),p("div",{key:t.getKeyFromItem(a)??"none",class:"hover:dark:border-y dark:border-[#303F61] px-5 hover:bg-[#F3F3F4]",role:"option","data-select-id":t.getKeyFromItem(a),value:t.getKeyFromItem(a),"data-item-id":t.getKeyFromItem(a)},[j(J,{highlighted:t.getKeyFromItem(a)===o.value,selected:t.getKeyFromItem(a)===n.value,name:t.getNameForItem(a),onMouseenter:S=>o.value=t.getKeyFromItem(a),onClick:S=>k(t.getKeyFromItem(a))},null,8,["highlighted","selected","name","onMouseenter","onClick"])],8,Q))),128)),l.value.length===0?(d(),p("div",R," No results found ")):L("",!0)],2)]),_:3},8,["modelValue","align"]))}});export{ee as _};
//# sourceMappingURL=SelectDropdown.vue_vue_type_script_setup_true_lang-1bxQg4o6.js.map
