{"version":3,"file":"ReadOnlyTimeEntryRow.vue_vue_type_script_setup_true_lang-likYSDHR.js","sources":["../../../resources/js/Pages/Timesheet/ReadOnlyTimeEntryRow.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport MainContainer from '@/packages/ui/src/MainContainer.vue';\nimport TimeTrackerStartStop from '@/packages/ui/src/TimeTrackerStartStop.vue';\nimport type {\n    Client,\n    Project,\n    Tag,\n    Task,\n    TimeEntry,\n} from '@/packages/api/src';\nimport TimeEntryRowDurationInput from '@/packages/ui/src/TimeEntry/TimeEntryRowDurationInput.vue';\nimport { computed, inject, type ComputedRef } from 'vue';\n\nimport { twMerge } from 'tailwind-merge';\nimport BillableToggleButton from '@/packages/ui/src/Input/BillableToggleButton.vue';\nimport TagBadge from '@/packages/ui/src/Tag/TagBadge.vue';\nimport { ChevronRightIcon, LockClosedIcon } from '@heroicons/vue/16/solid';\nimport ProjectBadge from '@/packages/ui/src/Project/ProjectBadge.vue';\nimport type { Organization } from '@/packages/api/src';\nimport {\n    formatStartEnd,\n} from '@/packages/ui/src/utils/time';\nconst props = defineProps<{\n    timeEntry: TimeEntry;//\n    indent?: boolean;\n    projects: Project[];//\n    tasks: Task[];//\n    tags: Tag[];//\n    clients: Client[];// \n}>();\n\nconst emit = defineEmits<{ selected: []; unselected: [] }>();\n\n\nconst project = defineModel<string | null>('project', {\n    default: null,\n});\n\nconst task = defineModel<string | null>('task', {\n    default: null,\n});\n\n\nfunction timeEntryTags(model: string[]) {\n    return props.tags.filter((tag) => model.includes(tag.id));\n};\nfunction onSelectChange(checked: boolean) {\n    if (checked) {\n        emit('selected');\n    } else {\n        emit('unselected');\n    }\n}\n\nconst currentProject = computed(() => {\n    return props.projects.find(\n        (iteratingProject) => iteratingProject.id === props.timeEntry.project_id\n    );\n});\n\nconst currentTask = computed(() => {\n    console.log(\"tasks\", props.tasks);\n    return props.tasks.find(\n        (iteratingTasks) => iteratingTasks.id === props.timeEntry.task_id\n    );\n});\n\nconst selectedProjectName = computed(() => {\n    if (currentProject.value === null) {\n        return 'No Project';\n    }\n    if (!currentProject.value?.name) {\n        return 'No Project';\n    }\n    return currentProject.value?.name;\n});\n\nconst selectedProjectColor = computed(() => {\n    return currentProject.value?.color || 'var(--theme-color-icon-default)';\n});\nconst organization = inject<ComputedRef<Organization>>('organization');\n</script>\n\n<template>\n    <div class=\"  transition min-w-0 bg-row-background\"\n        data-testid=\"time_entry_row\">\n        <MainContainer class=\"min-w-0 dark:bg-[#171e31]\">\n            <div class=\" grid 2xl:grid-cols-12 xl:grid-cols-12 lg:grid-cols-6 md:grid-cols-6 sm:grid-cols-6 xs:grid-cols-6 py-2 min-w-0 items-center justify-between group\">\n\n                <div :title=\"timeEntry.description || ''\"\n                    class=\" 2xl:col-span-3 xl:col-span-3 lg:col-span-3 md:col-span-3 sm:col-span-6 xs:col-span-6 truncate text-ellipsis whitespace-nowrap overflow-hidden px-0  h-full min-w-0 pl-3 pr-1 left-0 top-0  text-sm text-text-primary font-medium bg-transparent focus-visible:ring-0 rounded-lg border-0\">\n                    {{ timeEntry.description }}\n                </div>\n                <ProjectBadge :color=\"selectedProjectColor\" :border=\"false\" tag=\"button\" :name=\"selectedProjectName\"\n                    :class=\"'2xl:col-span-4 xl:col-span-4 lg:col-span-3 md:col-span-3 sm:col-span-6 xs:col-span-6 focus:border-border-tertiary focus:outline-0 focus:bg-card-background-separator min-w-0 relative  '\n                        \">\n                    <div :title=\"selectedProjectName + ' > ' + (currentTask && currentTask.name)\"\n                        class=\"flex  items-center lg:space-x-1 min-w-0\">\n                        <span class=\"whitespace-nowrap text-xs lg:text-sm text-primary\">\n                            {{ selectedProjectName }}\n                        </span>\n                        <ChevronRightIcon v-if=\"currentTask\" class=\"w-4 lg:w-5 text-text-secondary shrink-0\">\n                        </ChevronRightIcon>\n                        <div v-if=\"currentTask\" class=\"min-w-0 shrink text-xs lg:text-sm truncate\">\n                            {{ currentTask.name }}\n                        </div>\n                    </div>\n                </ProjectBadge>\n\n                <div class=\"grid grid-cols-7   2xl:col-span-3   xl:col-span-2 lg:col-span-4 md:col-span-4 sm:col-span-3 xs:col-span-3\">\n                    <div :border=\"false\" :title=\"timeEntryTags(timeEntry.tags).map((tag: Tag) => tag.name).join(', ')\"\n                         size=\"large\"\n                        class=\"border-0 col-span-6 px-2 text-sm truncate sm:px-1.5 text-icon-default group-focus-within/dropdown:text-text-primary\">\n                        {{timeEntryTags(timeEntry.tags).map((tag: Tag) => tag.name).join(', ')}}</div>\n\n\n                    <BillableToggleButton v-if=\"timeEntry.billable\" :model-value=\"timeEntry.billable\"\n                        :class=\"twMerge('opacity-50 col-span-1  group-hover:opacity-100 focus-visible:opacity-100')\"\n                        size=\"small\">\n                    </BillableToggleButton>\n                </div>\n\n                <div class=\"  grid grid-cols-8 2xl:col-span-2 xl:col-span-3 lg:col-span-2 md:col-span-2  sm:col-span-3 xs:col-span-3 font-medium  \">\n\n                    <div class=\" col-span-6  \">\n\n                        {{ formatStartEnd(timeEntry.start, timeEntry.end, organization?.time_format) }}\n                    </div>\n                    <TimeEntryRowDurationInput :class=\"'col-span-2'\" :start=\"timeEntry.start\" :end=\"timeEntry.end\">\n                    </TimeEntryRowDurationInput>\n                </div>\n            </div>\n        </MainContainer>\n    </div>\n</template>\n\n<style scoped></style>\n"],"names":["props","__props","_useModel","timeEntryTags","model","tag","currentProject","computed","iteratingProject","currentTask","iteratingTasks","selectedProjectName","_a","_b","selectedProjectColor","organization","inject","_openBlock","_createElementBlock","_hoisted_1","_createVNode","MainContainer","_createElementVNode","_hoisted_2","timeEntry","_hoisted_3","ProjectBadge","_normalizeClass","_hoisted_5","_toDisplayString","_createBlock","_unref","ChevronRightIcon","_hoisted_6","_hoisted_7","_hoisted_8","BillableToggleButton","twMerge","_hoisted_9","_hoisted_10","formatStartEnd","TimeEntryRowDurationInput"],"mappings":"kjDAsBA,MAAMA,EAAQC,EAYEC,IAA2B,SAE1C,EAEYA,EAA0BD,EAAC,MAEvC,EAGD,SAASE,EAAcC,EAAiB,CACpC,OAAOJ,EAAM,KAAK,OAAQK,GAAQD,EAAM,SAASC,EAAI,EAAE,CAAC,CAAA,CAU5D,MAAMC,EAAiBC,EAAS,IACrBP,EAAM,SAAS,KACjBQ,GAAqBA,EAAiB,KAAOR,EAAM,UAAU,UAAA,CAErE,EAEKS,EAAcF,EAAS,KACzB,QAAQ,IAAI,QAASP,EAAM,KAAK,EACzBA,EAAM,MAAM,KACdU,GAAmBA,EAAe,KAAOV,EAAM,UAAU,OAAA,EAEjE,EAEKW,EAAsBJ,EAAS,IAAM,SAIvC,OAHID,EAAe,QAAU,MAGzB,GAACM,EAAAN,EAAe,QAAf,MAAAM,EAAsB,MAChB,cAEJC,EAAAP,EAAe,QAAf,YAAAO,EAAsB,IAAA,CAChC,EAEKC,EAAuBP,EAAS,IAAM,OACxC,QAAOK,EAAAN,EAAe,QAAf,YAAAM,EAAsB,QAAS,iCAAA,CACzC,EACKG,EAAeC,EAAkC,cAAc,gBAIjEC,EAAA,EAAAC,EAiDM,MAjDNC,EAiDM,CA/CFC,EA8CgBC,EAAA,CA9CD,MAAM,6BAA2B,WAC5C,IAAA,OA4CM,OA5CNC,EA4CM,MA5CNC,EA4CM,CA1CFD,EAGM,MAAA,CAHA,MAAOE,EAAAA,UAAU,aAAW,GAC9B,MAAM,wRAAA,EACHA,EAAAA,EAAAA,UAAU,WAAW,EAAA,EAAAC,CAAA,EAE5BL,EAceM,EAAA,CAdA,MAAOZ,EAAA,MAAuB,OAAQ,GAAO,IAAI,SAAU,KAAMH,EAAA,MAC3E,MAAKgB,EAAE,yLAAA,CACJ,aACJ,IAUM,CAVNL,EAUM,MAAA,CAVA,MAAOX,EAAA,MAAmB,OAAYF,SAAeA,EAAA,MAAY,MACnE,MAAM,wCAAA,GACNa,EAEO,OAFPM,EAEOC,EADAlB,EAAA,KAAmB,EAAA,CAAA,EAEFF,EAAA,WAAxBqB,EACmBC,EAAAC,CAAA,EAAA,OADkB,MAAM,yCAAA,aAEhCvB,EAAA,OAAXQ,EAAA,EAAAC,EAEM,MAFNe,EAEMJ,EADCpB,EAAA,MAAY,IAAI,EAAA,CAAA,6CAK/Ba,EAWM,MAXNY,EAWM,CAVFZ,EAGkF,MAAA,CAH5E,OAAQ,GAAQ,MAAOnB,EAAcqB,EAAAA,UAAU,IAAI,EAAE,IAAKnB,GAAaA,EAAI,IAAI,EAAE,KAAI,IAAA,EACtF,KAAK,QACN,MAAM,qHAAA,EACJwB,EAAA1B,EAAcqB,EAAAA,UAAU,IAAI,EAAE,IAAKnB,GAAaA,EAAI,IAAI,EAAE,KAAI,IAAA,CAAA,EAAA,EAAA8B,CAAA,EAGxCX,EAAAA,UAAU,cAAtCM,EAGuBM,EAAA,OAH0B,cAAaZ,EAAAA,UAAU,SACnE,QAAOO,EAAAM,CAAA,EAAO,0EAAA,CAAA,EACf,KAAK,OAAA,8CAIbf,EAQM,MARNgB,EAQM,CANFhB,EAGM,MAHNiB,EAGMV,EADCE,EAAAS,CAAA,EAAehB,EAAAA,UAAU,MAAOA,YAAU,KAAKO,EAAAA,EAAAhB,CAAA,IAAAgB,YAAAA,EAAc,WAAW,CAAA,EAAA,CAAA,EAE/EX,EAC4BqB,EAAA,CADA,QAAO,YAAY,EAAG,MAAOjB,EAAAA,UAAU,MAAQ,IAAKA,EAAAA,UAAU,GAAA"}