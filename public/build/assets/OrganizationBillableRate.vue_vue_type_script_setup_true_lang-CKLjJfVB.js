import{_ as C}from"./FormSection.vue_vue_type_script_setup_true_lang-C4ijKsjP.js";import{_ as S}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-DGqi3YE0.js";import{_ as y}from"./InputLabel.vue_vue_type_script_setup_true_lang-DP24QN7l.js";import{_ as M}from"./BillableRateInput.vue_vue_type_script_setup_true_lang-B3OqHB-h.js";import{u as O}from"./useOrganization-Dnx8kCk3.js";import{d as h,m as z,p as B,z as x,c as v,o as c,w as m,a as i,g as f,t as V,u as o,s as U,r as w,v as T,b as d,f as R}from"./app-CZLkYVhz.js";import{g as $}from"./money-BufCQq2I.js";import{_ as N}from"./BillableRateModal.vue_vue_type_script_setup_true_lang-Dz7krcgW.js";import{f as E}from"./money-B3Da-j29.js";import"./time-DR3Bm2fi.js";/* empty css                                                                             */import"./utc-YQln_hJX.js";import"./notification-BrLDF-00.js";import"./useUser-Dc3_Hjqo.js";import"./useCurrentTimeEntry-CruyZJNI.js";import{_ as D}from"./Checkbox.vue_vue_type_script_setup_true_lang-BTLhb63T.js";import"./permissions-hl9spDHx.js";import"./theme-DlEllDdR.js";const j={class:"py-0.5 text-center"},F=h({__name:"OrganizationBillableRateModal",props:z({newBillableRate:{}},{show:{default:!1},showModifiers:{},saving:{default:!1},savingModifiers:{}}),emits:z(["submit"],["update:show","update:saving"]),setup(g){const u=B(g,"show"),_=B(g,"saving"),b=x("organization");return(t,a)=>(c(),v(N,{show:u.value,"onUpdate:show":a[0]||(a[0]=e=>u.value=e),saving:_.value,"onUpdate:saving":a[1]||(a[1]=e=>_.value=e),title:"Update Organization Billable Rate",onSubmit:a[2]||(a[2]=e=>t.$emit("submit"))},{default:m(()=>{var e,n,p;return[i("p",j,[a[3]||(a[3]=f(" The organization billable rate will be updated to ")),i("strong",null,V(t.newBillableRate?o(E)(t.newBillableRate,o($)(),(e=o(b))==null?void 0:e.currency_format,(n=o(b))==null?void 0:n.currency_symbol,(p=o(b))==null?void 0:p.number_format):" none."),1),a[4]||(a[4]=f(". "))]),a[5]||(a[5]=i("p",{class:"py-0.5 text-center font-semibold"}," Do you want to update all existing time entries, where the organization billable rate applies as well? ",-1))]}),_:1,__:[5]},8,["show","saving"]))}}),q={class:"col-span-6"},A={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6"},H={class:"col-span-6 sm:col-span-4"},I={class:"flex items-center space-x-2"},me=h({__name:"OrganizationBillableRate",setup(g){const u=O(),{fetchOrganization:_,updateOrganization:b}=u,{organization:t}=U(u),a=w(!1),e=w({name:"",billable_rate:null,employees_can_see_billable_rates:!1});T(async()=>{var r,l,s;await _(),e.value={name:((r=t.value)==null?void 0:r.name)??"",billable_rate:(l=t.value)==null?void 0:l.billable_rate,employees_can_see_billable_rates:((s=t.value)==null?void 0:s.employees_can_see_billable_rates)??!1}});const n=w(!1);async function p(){a.value=!0,await b(e.value),a.value=!1,n.value=!1}function k(){var r;e.value.billable_rate===((r=t.value)==null?void 0:r.billable_rate)?p():n.value=!0}return(r,l)=>(c(),v(C,null,{title:m(()=>l[3]||(l[3]=[f(" Billable Rate")])),description:m(()=>l[4]||(l[4]=[f(" Configure the default billable rate for the organization. ")])),form:m(()=>[d(F,{show:n.value,"onUpdate:show":l[0]||(l[0]=s=>n.value=s),"new-billable-rate":e.value.billable_rate,onSubmit:p},null,8,["show","new-billable-rate"]),i("div",q,[i("div",A,[d(y,{for:"organizationBillableRate",class:"mb-2",value:"Organization Billable Rate"}),o(t)?(c(),v(M,{key:0,modelValue:e.value.billable_rate,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value.billable_rate=s),currency:o($)(),name:"organizationBillableRate"},null,8,["modelValue","currency"])):R("",!0)])]),i("div",G,[i("div",H,[i("div",I,[o(t)?(c(),v(o(D),{key:0,id:"organizationShowBillableRatesToEmployees",checked:e.value.employees_can_see_billable_rates,"onUpdate:checked":l[2]||(l[2]=s=>e.value.employees_can_see_billable_rates=s)},null,8,["checked"])):R("",!0),d(y,{for:"organizationShowBillableRatesToEmployees",value:"Show Billable Rates to Employees"})])])])]),actions:m(()=>[d(S,{onClick:k},{default:m(()=>l[5]||(l[5]=[f("Save")])),_:1,__:[5]})]),_:1}))}});export{me as _};
//# sourceMappingURL=OrganizationBillableRate.vue_vue_type_script_setup_true_lang-CKLjJfVB.js.map
