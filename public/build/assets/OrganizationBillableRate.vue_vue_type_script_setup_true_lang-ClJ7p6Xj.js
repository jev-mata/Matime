import{_ as C}from"./FormSection.vue_vue_type_script_setup_true_lang-C99SoZoZ.js";import{_ as S}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-CWUYAS8h.js";import{_ as y}from"./InputLabel.vue_vue_type_script_setup_true_lang-BJprejo3.js";import{_ as x}from"./BillableRateInput.vue_vue_type_script_setup_true_lang-B9u_Q2bT.js";import{u as M}from"./useOrganization-fnI1XVs5.js";import{d as h,x as z,y as B,B as O,b as v,o as c,w as m,f as i,l as f,t as V,u as o,A as U,r as w,q as T,e as d,j as R}from"./app-Dzd5B06R.js";import{g as $}from"./money-DE8Cj37t.js";import{_ as N}from"./BillableRateModal.vue_vue_type_script_setup_true_lang-BNQCoov9.js";import{f as E}from"./money-042SSt8Q.js";import"./time-D8Z5bJ3P.js";import"./utc-BCs3FwGo.js";import"./useMembers-D1lZTqLC.js";import"./notification-Cqm5OIAz.js";import{_ as j}from"./Checkbox.vue_vue_type_script_setup_true_lang-CGLsJy8v.js";import"./permissions-Cy8U4TFG.js";const D={class:"py-0.5 text-center"},q=h({__name:"OrganizationBillableRateModal",props:z({newBillableRate:{}},{show:{default:!1},showModifiers:{},saving:{default:!1},savingModifiers:{}}),emits:z(["submit"],["update:show","update:saving"]),setup(g){const u=B(g,"show"),_=B(g,"saving"),b=O("organization");return(t,a)=>(c(),v(N,{show:u.value,"onUpdate:show":a[0]||(a[0]=e=>u.value=e),saving:_.value,"onUpdate:saving":a[1]||(a[1]=e=>_.value=e),title:"Update Organization Billable Rate",onSubmit:a[2]||(a[2]=e=>t.$emit("submit"))},{default:m(()=>{var e,n,p;return[i("p",D,[a[3]||(a[3]=f(" The organization billable rate will be updated to ")),i("strong",null,V(t.newBillableRate?o(E)(t.newBillableRate,o($)(),(e=o(b))==null?void 0:e.currency_format,(n=o(b))==null?void 0:n.currency_symbol,(p=o(b))==null?void 0:p.number_format):" none."),1),a[4]||(a[4]=f(". "))]),a[5]||(a[5]=i("p",{class:"py-0.5 text-center font-semibold"}," Do you want to update all existing time entries, where the organization billable rate applies as well? ",-1))]}),_:1,__:[5]},8,["show","saving"]))}}),A={class:"col-span-6"},F={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6"},H={class:"col-span-6 sm:col-span-4"},I={class:"flex items-center space-x-2"},ie=h({__name:"OrganizationBillableRate",setup(g){const u=M(),{fetchOrganization:_,updateOrganization:b}=u,{organization:t}=U(u),a=w(!1),e=w({name:"",billable_rate:null,employees_can_see_billable_rates:!1});T(async()=>{var r,l,s;await _(),e.value={name:((r=t.value)==null?void 0:r.name)??"",billable_rate:(l=t.value)==null?void 0:l.billable_rate,employees_can_see_billable_rates:((s=t.value)==null?void 0:s.employees_can_see_billable_rates)??!1}});const n=w(!1);async function p(){a.value=!0,await b(e.value),a.value=!1,n.value=!1}function k(){var r;e.value.billable_rate===((r=t.value)==null?void 0:r.billable_rate)?p():n.value=!0}return(r,l)=>(c(),v(C,null,{title:m(()=>l[3]||(l[3]=[f(" Billable Rate")])),description:m(()=>l[4]||(l[4]=[f(" Configure the default billable rate for the organization. ")])),form:m(()=>[d(q,{show:n.value,"onUpdate:show":l[0]||(l[0]=s=>n.value=s),"new-billable-rate":e.value.billable_rate,onSubmit:p},null,8,["show","new-billable-rate"]),i("div",A,[i("div",F,[d(y,{for:"organizationBillableRate",class:"mb-2",value:"Organization Billable Rate"}),o(t)?(c(),v(x,{key:0,modelValue:e.value.billable_rate,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value.billable_rate=s),currency:o($)(),name:"organizationBillableRate"},null,8,["modelValue","currency"])):R("",!0)])]),i("div",G,[i("div",H,[i("div",I,[o(t)?(c(),v(o(j),{key:0,id:"organizationShowBillableRatesToEmployees",checked:e.value.employees_can_see_billable_rates,"onUpdate:checked":l[2]||(l[2]=s=>e.value.employees_can_see_billable_rates=s)},null,8,["checked"])):R("",!0),d(y,{for:"organizationShowBillableRatesToEmployees",value:"Show Billable Rates to Employees"})])])])]),actions:m(()=>[d(S,{onClick:k},{default:m(()=>l[5]||(l[5]=[f("Save")])),_:1,__:[5]})]),_:1}))}});export{ie as _};
//# sourceMappingURL=OrganizationBillableRate.vue_vue_type_script_setup_true_lang-ClJ7p6Xj.js.map
