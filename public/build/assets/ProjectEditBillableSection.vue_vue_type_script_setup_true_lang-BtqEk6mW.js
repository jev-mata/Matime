import{t as q}from"./bundle-mjs-D696Ktp4.js";import{r as K}from"./CheckCircleIcon-ByT7Dbrk.js";import{d as y,l as V,e as x,o as p,b as a,a as u,u as m,n as z,t as F,m as k,p as h,r as w,B as U,k as L,c as C,w as f,f as B,F as S,h as R,y as O,x as D,q as E,v as P,g as A}from"./app-CZLkYVhz.js";import{U as G,q as Q,G as H,Q as J,t as W,b as I,a as X}from"./AppLayout.vue_vue_type_script_setup_true_lang-7v21bPMn.js";import{U as Y,r as Z}from"./component-CexCnHe5.js";import{_ as T}from"./Dropdown.vue_vue_type_script_setup_true_lang-2TV_nqEm.js";import{c as ee}from"./color-NTCrcshl.js";import"./time-DR3Bm2fi.js";/* empty css                                                                             */import{_ as te}from"./TextInput.vue_vue_type_script_setup_true_lang-DUXudii_.js";import"./money-BufCQq2I.js";import"./utc-YQln_hJX.js";import"./notification-BrLDF-00.js";import"./useUser-Dc3_Hjqo.js";import"./useCurrentTimeEntry-CruyZJNI.js";import"./permissions-hl9spDHx.js";import"./theme-DlEllDdR.js";import{_ as N}from"./InputLabel.vue_vue_type_script_setup_true_lang-DP24QN7l.js";import{r as le}from"./ClockIcon-DtFwBiYn.js";import{_ as ae}from"./BillableRateInput.vue_vue_type_script_setup_true_lang-B3OqHB-h.js";import{_ as re}from"./SelectDropdown.vue_vue_type_script_setup_true_lang-1bxQg4o6.js";import{_ as oe}from"./Badge.vue_vue_type_script_setup_true_lang-Bn80q8dA.js";import{B as se}from"./BillableIcon-BlL7cW2e.js";const ne={class:"flex items-center space-x-3 w-full px-3 py-2.5 text-start text-sm font-medium leading-5 text-text-primary hover:bg-card-background-active focus:outline-none focus:bg-card-background-active transition duration-150 ease-in-out"},M=y({__name:"ClientDropdownItem",props:{name:{},selected:{type:Boolean}},setup(i){const n=i,e=V(()=>n.selected?"text-accent-200":"text-card-border");return(r,t)=>(p(),x("div",ne,[a(m(K),{class:z(m(q)(e.value,"w-5"))},null,8,["class"]),u("span",null,F(r.name),1)]))}}),ue={key:0,class:"bg-card-background-active"},Ae=y({__name:"ClientDropdown",props:k({clients:{},createClient:{type:Function}},{modelValue:{default:null},modelModifiers:{}}),emits:k(["update:modelValue","changed"],["update:modelValue"]),setup(i,{emit:n}){const e=h(i,"modelValue"),r=i,t=w(null),o=w(!1),l=w("");function v(c){return e.value===c}U(o,c=>{c&&L(()=>{var _,d;(d=(_=t.value)==null?void 0:_.$el)==null||d.focus()})});const g=V(()=>r.clients.filter(c=>{var _,d;return c.name.toLowerCase().includes(((d=(_=l.value)==null?void 0:_.toLowerCase())==null?void 0:d.trim())||"")}));async function s(){if(l.value.length>0&&g.value.length===0){const c=await r.createClient({name:l.value});c&&(e.value=c.id,l.value="",o.value=!1)}}const b=V(()=>r.clients.find(c=>c.id===e.value)??{id:null,name:"No Client"}),$=n;function j(c){e.value=c.id,$("changed")}return(c,_)=>(p(),C(T,{modelValue:o.value,"onUpdate:modelValue":_[1]||(_[1]=d=>o.value=d),align:"start",width:"60"},{trigger:f(()=>[O(c.$slots,"trigger")]),content:f(()=>[o.value?(p(),C(m(Y),{key:0,class:"dark:bg-[#0F1426] dark:border-[#303F61] dark:text-[#BFC7D6] bg-white text-text-primary border border-default-background-separator rounded-lg shadow-md",options:{immediate:!0,allowOutsideClick:!0}},{default:f(()=>[a(m(G),{"search-term":l.value,"onUpdate:searchTerm":_[0]||(_[0]=d=>l.value=d),open:o.value,"model-value":b.value,class:"relative","onUpdate:modelValue":j},{default:f(()=>[a(m(Q),null,{default:f(()=>[a(m(H),{ref_key:"searchInput",ref:t,class:"dark:bg-[#0F1426] dark:border-[#303F61] dark:text-[#BFC7D6] border-0 placeholder-muted text-sm text-text-primary py-2.5 focus:ring-0 border-b border-card-background-separator focus:border-card-background-separator w-full",placeholder:"Search for a client..."},null,512)]),_:1}),a(m(J),null,{default:f(()=>[a(m(W),{class:"w-60 max-h-60 overflow-y-scroll"},{default:f(()=>[a(m(I),{value:{id:null,name:"No Client"},class:"data-[highlighted]:dark:bg-[#3F4961] data-[highlighted]:bg-[#F3F3F4]"},{default:f(()=>[a(M,{selected:e.value===null,name:"No Client"},null,8,["selected"])]),_:1}),(p(!0),x(S,null,R(g.value,d=>(p(),C(m(I),{key:d.id,value:d,class:"data-[highlighted]:dark:bg-[#3F4961] data-[highlighted]:bg-[#F3F3F4]","data-client-id":d.id},{default:f(()=>[a(M,{selected:v(d.id),name:d.name},null,8,["selected","name"])]),_:2},1032,["value","data-client-id"]))),128)),l.value.length>0&&g.value.length===0?(p(),x("div",ue,[u("div",{class:"flex space-x-3 items-center px-4 py-3 text-xs text-text-primary font-medium border-t rounded-b-lg border-card-background-separator",onClick:s},[a(m(Z),{class:"w-5 flex-shrink-0"}),u("span",null,'Add "'+F(l.value)+'" as a new Client',1)])])):B("",!0)]),_:1})]),_:1})]),_:1},8,["search-term","open","model-value"])]),_:1})):B("",!0)]),_:3},8,["modelValue"]))}}),ie={class:"p-2 bg-input-background hover:bg-tertiary transition rounded-full border border-input-border"},de={class:"text-text-primary grid grid-cols-6 gap-3 px-3 py-3"},me=["onClick"],Ge=y({__name:"ProjectColorSelector",props:{modelValue:{default:""},modelModifiers:{}},emits:["update:modelValue"],setup(i){const n=h(i,"modelValue");return(e,r)=>(p(),x("div",null,[a(T,{align:"center"},{trigger:f(()=>[u("button",ie,[u("div",{style:D({backgroundColor:n.value}),class:"w-6 h-6 rounded-full cursor-pointer"},null,4)])]),content:f(()=>[u("div",de,[(p(!0),x(S,null,R(m(ee),t=>(p(),x("div",{key:t,style:D({backgroundColor:t,boxShadow:`var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) ${t}30`}),class:"w-4 h-4 rounded-full cursor-pointer",onClick:o=>n.value=t},null,12,me))),128))])]),_:1})]))}}),ce={class:"relative"},pe=y({__name:"DurationInput",props:{modelValue:{default:null},modelModifiers:{}},emits:k(["submit"],["update:modelValue"]),setup(i,{emit:n}){const e=h(i,"modelValue"),r=n,t=w("");function o(){const s=parseInt(t.value);isNaN(s)||(e.value=s*60*60),t.value=""}const l=V({get(){return t.value!==""?t.value:e.value===null?"":Math.round(e.value/60/60).toString()},set(s){s?t.value=s:t.value=""}});function v(s){s.target.select()}function g(){o(),r("submit")}return(s,b)=>(p(),x("div",ce,[a(m(te),{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=$=>l.value=$),class:"w-full overflow-hidden pr-14",placeholder:"0",onFocus:v,onBlur:o,onKeydown:E(g,["enter"])},null,8,["modelValue"]),b[1]||(b[1]=u("div",{class:"absolute top-0 right-0 h-full flex items-center px-4 font-medium"},[u("span",null," hours ")],-1))]))}}),fe={class:"pt-6"},be={class:"flex items-center space-x-1 mb-2"},Qe=y({__name:"EstimatedTimeSection",props:{modelValue:{},modelModifiers:{}},emits:k(["submit"],["update:modelValue"]),setup(i,{emit:n}){const e=h(i,"modelValue"),r=n;return(t,o)=>(p(),x("div",fe,[u("div",be,[a(m(le),{class:"text-text-quaternary w-4"}),a(N,{for:"billable",value:"Time Estimated"})]),a(pe,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=l=>e.value=l),class:"max-w-[150px]",onSubmit:o[1]||(o[1]=l=>r("submit"))},null,8,["modelValue"])]))}}),ve=y({__name:"ProjectBillableSelect",props:{modelValue:{default:"non-billable"},modelModifiers:{}},emits:["update:modelValue"],setup(i){const n=h(i,"modelValue"),e=[{key:"non-billable",name:"Non-billable"},{key:"default-rate",name:"Default Rate"},{key:"custom-rate",name:"Custom Rate"}];function r(l){return l.key}function t(l){return l.name}function o(l){const v=e.find(g=>r(g)===l);return v?t(v):""}return(l,v)=>(p(),C(re,{class:"",modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=g=>n.value=g),"get-key-from-item":r,"get-name-for-item":t,items:e},{trigger:f(()=>[a(oe,{tag:"button",size:"xlarge",class:"dark:bg-[#0F1426] dark:border-[#303F61] border-[#DFDFDF] bg-[#E0E3E5] hover:bg-[#BFC7D6] cursor-pointer"},{default:f(()=>[u("span",null,F(o(n.value)),1),a(m(X),{class:"text-text-secondary w-5"})]),_:1})]),_:1},8,["modelValue"]))}}),ge={class:"sm:flex items-center space-y-2 sm:space-y-0 sm:space-x-4 pt-6"},_e={class:""},xe={class:"flex items-center space-x-1 mb-2"},he={key:0},ye={class:"flex items-center text-text-secondary text-xs pt-2 pl-1"},He=y({__name:"ProjectEditBillableSection",props:k({currency:{}},{billableRate:{},billableRateModifiers:{},isBillable:{type:Boolean},isBillableModifiers:{}}),emits:k(["submit"],["update:billableRate","update:isBillable"]),setup(i,{emit:n}){const e=w("non-billable"),r=h(i,"billableRate"),t=h(i,"isBillable");P(()=>{t.value===!0&&(r.value?e.value="custom-rate":e.value="default-rate")}),U(e,()=>{e.value==="non-billable"?(t.value=!1,r.value=null):e.value==="default-rate"?(t.value=!0,r.value=null):t.value=!0}),e.value="non-billable";const o={"non-billable":"New time entries for this project will not be marked billable by default.","default-rate":"New time entries for this project will be billable at the default rate by default.","custom-rate":"New time entries for this project will be billable at a custom rate by default."},l=V(()=>o[e.value]),v=n;return(g,s)=>(p(),x(S,null,[u("div",ge,[u("div",_e,[u("div",xe,[a(se,{class:"text-text-quaternary h-4 ml-1 mr-0.5"}),a(N,{for:"billable",value:"Billable Default"})]),a(ve,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=b=>e.value=b),class:"dark:bg-[#0F1426] dark:border-[#303F61] dark:text-[#636E88]"},null,8,["modelValue"])]),e.value==="custom-rate"?(p(),x("div",he,[a(N,{for:"billableRate",value:"Billable Rate",class:"mb-2"}),a(ae,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=b=>r.value=b),currency:g.currency,name:"billableRate",onKeydown:s[2]||(s[2]=E(b=>v("submit"),["enter"]))},null,8,["modelValue","currency"])])):B("",!0)]),u("div",ye,[u("span",null,[s[3]||(s[3]=u("span",{class:"font-semibold"}," Info: ",-1)),A(" "+F(l.value),1)])])],64))}});export{Qe as _,Ge as a,Ae as b,He as c};
//# sourceMappingURL=ProjectEditBillableSection.vue_vue_type_script_setup_true_lang-BtqEk6mW.js.map
