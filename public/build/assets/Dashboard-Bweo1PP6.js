import{T as Ue,_ as Ze}from"./AppLayout.vue_vue_type_script_setup_true_lang-BfXcHqGL.js";import{_ as Xe}from"./TimeTracker.vue_vue_type_script_setup_true_lang-DqSiGLXj.js";import{u as j}from"./useQuery-BH-Arugy.js";import{_ as Je}from"./ProjectDropdownItem.vue_vue_type_script_setup_true_lang-wvL1v9C2.js";import{a as tr,b as er,g as ht,c as rr}from"./useMembers-D1lZTqLC.js";import{h as k,o as _,f as S,d as A,A as Vt,c as V,e as C,t as q,w as E,b as P,j as Q,u as g,p as ir,F as Ut,i as Zt,l as Bt,N as Ft,n as Xt,r as ar,B as wt,C as Jt}from"./app-Dzd5B06R.js";import{u as Tt}from"./init-Ddj1H8ev.js";import{g as Re,f as nr,a as it,b as oe,c as or,d as sr}from"./time-D8Z5bJ3P.js";import{r as lr}from"./TimeTrackerProjectTaskDropdown.vue_vue_type_script_setup_true_lang-BwWIfvvx.js";import{_ as Pe}from"./CardTitle.vue_vue_type_script_setup_true_lang-CyznVp_q.js";import{_ as Gt}from"./SecondaryButton.vue_vue_type_script_setup_true_lang-DBBC7wMi.js";import{a as K,u as ur}from"./notification-Cqm5OIAz.js";import{_ as Mt}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-CcpHAXFE.js";import{g as cr}from"./money-DE8Cj37t.js";import{d as pr}from"./utc-BCs3FwGo.js";import{d as hr}from"./permissions-Cy8U4TFG.js";import{r as dr}from"./CheckCircleIcon-Cls-9biQ.js";import{r as se}from"./PlusCircleIcon-DmKTIJnt.js";import{E as kt,b as H,k as vr,i as J,e as M,a as R,c as lt,s as zt,f as Lt,d as B,n as fr,g as gr,l as tt,m as at,p as yr,h as mr,j as Ot,o as le,_ as F,t as _r,q as br,r as ue,R as ut,u as xr,v as Sr,Z as Ae,C as wr,w as Mr,x as kr,S as Ir,y as Cr,z as $e,A as Dr,B as Vr,P as Tr,D as zr,F as He,G as Y,H as Z,I as jt,J as Lr,K as Ee,L as ce,M as Or,N as Ne,O as Rr,Q as Pr,T as Ar,U as We,V as pe,W as Be,X as $r,Y as Hr,$ as bt,a0 as he,a1 as Kt,a2 as qt,a3 as Er,a4 as mt,a5 as Rt,a6 as Pt,a7 as Nr,a8 as Wr,a9 as Br,aa as Fr,ab as Gr,ac as jr,ad as de,ae as Kr,af as qr,ag as ct,ah as te,ai as Yr,aj as ee,ak as Fe,al as re,am as Ge,an as ie,ao as Qr}from"./install-CcUZdaBt.js";import{a as X}from"./index-NRw1C4BU.js";import{a as ve,M as At}from"./MainContainer-WpbdfkDp.js";import{f as Ur}from"./money-042SSt8Q.js";import{r as Zr}from"./ClockIcon-CYfSOCq5.js";import{_ as Xr}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-CCwwB18o.js";import"./bundle-mjs-D696Ktp4.js";import"./useFocusGuards-BJPjJVKi.js";import"./billing-BrKRBYHJ.js";import"./useOrganization-fnI1XVs5.js";import"./DialogModal.vue_vue_type_script_setup_true_lang-Cdp4pUKI.js";import"./Modal.vue_vue_type_script_setup_true_lang-s_ZkTFQt.js";import"./PrimaryButton.vue_vue_type_script_setup_true_lang-CWUYAS8h.js";import"./theme-CJTqdCW4.js";import"./TagDropdown.vue_vue_type_script_setup_true_lang-DArOXIGF.js";import"./TagCreateModal.vue_vue_type_script_setup_true_lang-BZ1Krxqg.js";import"./TextInput.vue_vue_type_script_setup_true_lang-Cw992cSP.js";import"./component-D2dmHEOx.js";import"./SelectDropdown.vue_vue_type_script_setup_true_lang-CaZ4i_G-.js";import"./DatePicker-DsbVNWEA.js";import"./BillableIcon-C1VJddF3.js";import"./ProjectCreateModal.vue_vue_type_script_setup_true_lang-CZmoGoj9.js";import"./ProjectEditBillableSection.vue_vue_type_script_setup_true_lang-DqRZf2t1.js";import"./InputLabel.vue_vue_type_script_setup_true_lang-BJprejo3.js";import"./BillableRateInput.vue_vue_type_script_setup_true_lang-B9u_Q2bT.js";import"./usePrimitiveElement-Dt-Gdg0c.js";import"./useLocale-CRrU4gHp.js";import"./clamp-D21Fl2C-.js";import"./createLucideIcon-CLDLlRIF.js";import"./PlusIcon-DXN6bajS.js";function Jr(o,r){return _(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[S("path",{d:"M11.983 1.907a.75.75 0 0 0-1.292-.657l-8.5 9.5A.75.75 0 0 0 2.75 12h6.572l-1.305 6.093a.75.75 0 0 0 1.292.657l8.5-9.5A.75.75 0 0 0 17.25 8h-6.572l1.305-6.093Z"})])}function ti(o,r){return _(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[S("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z","clip-rule":"evenodd"})])}const ei={class:"px-3.5 py-2 grid grid-cols-5 border-b border-b-card-background-separator"},ri={class:"col-span-4"},ii={class:"font-medium text-text-primary text-sm pb-1 truncate"},ai={key:0},ni={key:1,class:"text-text-tertiary"},oi={class:"flex items-center lg:space-x-0.5 min-w-0"},si={class:"whitespace-nowrap"},li={key:1,class:"min-w-0 shrink truncate"},ui={class:"flex items-center justify-center"},ci=A({__name:"RecentlyTrackedTasksCardEntry",props:{timeEntry:{}},setup(o){const r=o,{projects:t}=Vt(tr()),e=V(()=>t.value.find(c=>c.id===r.timeEntry.project_id)),{tasks:i}=Vt(er()),a=V(()=>i.value.find(c=>c.id===r.timeEntry.task_id)),{currentTimeEntry:n}=Vt(Tt()),{setActiveState:s}=Tt();async function l(){n.value.id&&await s(!1),n.value.description=r.timeEntry.description,n.value.project_id=r.timeEntry.project_id,n.value.task_id=r.timeEntry.task_id,n.value.tags=r.timeEntry.tags,n.value.billable=r.timeEntry.billable,n.value.start=Re().utc().format(),await s(!0),Tt().fetchCurrentTimeEntry()}return(c,p)=>{var u;return _(),k("div",ei,[S("div",ri,[S("p",ii,[c.timeEntry.description?(_(),k("span",ai,q(c.timeEntry.description),1)):(_(),k("span",ni,"No description"))]),C(Je,{size:"base",class:"min-w-0 max-w-full",color:(u=e.value)==null?void 0:u.color},{default:E(()=>{var h;return[S("div",oi,[S("span",si,q(((h=e.value)==null?void 0:h.name)??"No Project"),1),a.value?(_(),P(g(lr),{key:0,class:"w-4 text-text-secondary shrink-0"})):Q("",!0),a.value?(_(),k("div",li,q(a.value.name),1)):Q("",!0)])]}),_:1},8,["color"])]),S("div",ui,[C(Ue,{onChanged:l})])])}}}),pi={class:"flex flex-col"},hi={class:"rounded-lg bg-card-background border border-card-border flex-1 flex items-stretch shadow-card"},di={class:"w-full flex flex-col"},It=A({__name:"DashboardCard",props:{title:{},icon:{}},setup(o){return(r,t)=>(_(),k("section",pi,[C(Pe,{title:r.title,icon:r.icon},null,8,["title","icon"]),S("div",hi,[S("div",di,[ir(r.$slots,"default")])])]))}}),vi={key:0,class:"flex justify-center items-center h-40"},fi={key:1},gi={key:2,class:"text-center flex flex-1 justify-center items-center"},yi={key:3,class:"text-center flex flex-1 justify-center items-center text-sm"},mi=A({__name:"RecentlyTrackedTasksCard",setup(o){const r=V(()=>ht()),{data:t,isLoading:e,refetch:i}=j({queryKey:["timeEntries",r],queryFn:()=>K.getTimeEntries({params:{organization:r.value},queries:{member_id:rr()}}),enabled:V(()=>!!r.value)}),a=V(()=>t.value?t.value.data:[]),n=V(()=>a.value.filter(l=>l.end!==null).filter((l,c,p)=>c===p.findIndex(u=>u.description===l.description&&u.task_id===l.task_id&&u.project_id===l.project_id&&u.tags.length===l.tags.length&&u.tags.every(h=>l.tags.includes(h))&&u.billable===l.billable)).slice(0,4));return window.addEventListener("dashboard:refresh",()=>{i()}),(s,l)=>(_(),P(It,{title:"Recent Time Entries",icon:g(dr)},{default:E(()=>[g(e)?(_(),k("div",vi,[C(g(Mt))])):n.value&&n.value.length>0?(_(),k("div",fi,[(_(!0),k(Ut,null,Zt(n.value,c=>(_(),P(ci,{key:c.id,"time-entry":c,class:Xt(n.value.length===4?"last:border-0":"")},null,8,["time-entry","class"]))),128))])):(_(),k("div",gi,[S("div",null,[C(g(se),{class:"w-8 text-icon-default inline pb-2"}),l[3]||(l[3]=S("h3",{class:"text-text-primary font-semibold text-sm"}," No recent tasks found ",-1)),l[4]||(l[4]=S("p",{class:"pb-5 text-sm"},"Create tasks inside of a project!",-1)),C(Gt,{onClick:l[0]||(l[0]=c=>g(Ft).visit(s.route("projects")))},{default:E(()=>l[2]||(l[2]=[Bt("Go to Projects ")])),_:1,__:[2]})])])),a.value&&a.value.length===1?(_(),k("div",yi,[S("div",null,[C(g(se),{class:"w-8 text-icon-default inline pb-2"}),l[6]||(l[6]=S("h3",{class:"text-text-primary font-semibold"},"Add more tasks",-1)),l[7]||(l[7]=S("p",{class:"pb-5"},"Create tasks inside of a project!",-1)),C(Gt,{onClick:l[1]||(l[1]=c=>g(Ft).visit(s.route("projects")))},{default:E(()=>l[5]||(l[5]=[Bt("Go to Projects ")])),_:1,__:[5]})])])):Q("",!0)]),_:1},8,["icon"]))}}),_i=A({__name:"DayOverviewCardChart",props:{history:{}},setup(o){const r=o,t=X("--theme-color-chart",null,{observe:!0}),e=V(()=>r.history.map(a=>({value:a,itemStyle:{borderWidth:1,borderColor:"rgba("+t.value+",0.8)",borderRadius:[2,2,0,0],color:"rgba("+t.value+",0.8)"}}))),i=ar({grid:{top:0,right:0,left:0,bottom:0},backgroundColor:"transparent",xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],markLine:{lineStyle:{color:"rgba(125,156,188,0.1)",type:"dashed"}},axisLine:{lineStyle:{color:"transparent"}},axisLabel:{fontSize:16,fontWeight:600,margin:24,fontFamily:"Outfit, sans-serif"},axisTick:{lineStyle:{color:"transparent"}}},yAxis:{type:"value",splitLine:{lineStyle:{color:"transparent"}}},series:[{data:e,type:"bar"}]});return(a,n)=>(_(),P(g(kt),{style:{height:"20px",width:"80px"},class:"chart",option:i.value},null,8,["option"]))}}),bi={class:"px-3.5 py-2 flex justify-between @container border-b border-card-background-separator"},xi={class:"flex items-center min-w-[70px]"},Si={class:"font-semibold text-sm text-text-primary"},wi={class:"items-center justify-center flex-1 hidden @2xs:flex"},Mi={class:"flex text-sm items-center justify-center text-text-secondary min-w-[65px] font-semibold"},ki=A({__name:"DayOverviewCardEntry",props:{date:{},duration:{},history:{}},setup(o){const r=wt("organization");return(t,e)=>{var i,a;return _(),k("div",bi,[S("div",xi,[S("p",Si,q(g(nr)(t.date)),1)]),S("div",wi,[C(_i,{history:t.history},null,8,["history"])]),S("div",Mi,q(g(it)(t.duration,(i=g(r))==null?void 0:i.interval_format,(a=g(r))==null?void 0:a.number_format)),1)])}}}),Ii={key:0,class:"flex justify-center items-center h-40"},Ci={key:1},Di={key:2,class:"text-center text-gray-500 py-8"},Vi=A({__name:"LastSevenDaysCard",setup(o){const r=V(()=>ht()),{data:t,isLoading:e}=j({queryKey:["lastSevenDays",r],queryFn:()=>K.lastSevenDays({params:{organization:r.value}}),enabled:V(()=>!!r.value),placeholderData:Array.from({length:7},(i,a)=>({date:new Date(Date.now()-a*24*60*60*1e3).toISOString().split("T")[0],duration:0,history:Array(8).fill(0)}))});return(i,a)=>(_(),P(It,{title:"Last 7 Days",icon:g(ti)},{default:E(()=>[g(e)?(_(),k("div",Ii,[C(g(Mt))])):g(t)?(_(),k("div",Ci,[(_(!0),k(Ut,null,Zt(g(t),n=>(_(),P(ki,{key:n.date,class:Xt(g(t).length===7?"last:border-0 first:pt-3":""),date:n.date,history:n.history,duration:n.duration},null,8,["class","date","history","duration"]))),128))])):(_(),k("div",Di," No data available "))]),_:1},8,["icon"]))}}),Ti={class:"px-4 py-2 2xl:py-3 border-b border-card-background-separator"},zi={class:"col-span-2"},Li={class:"flex justify-between"},Oi={class:"font-semibold text-sm text-text-primary"},Ri={key:0,class:"flex space-x-1.5 items-center justify-end"},Pi={class:"text-text-secondary text-sm font-medium text-ellipsis whitespace-nowrap max-w-full overflow-hidden"},Ai=A({__name:"TeamActivityCardEntry",props:{name:{},description:{},working:{type:Boolean}},setup(o){return(r,t)=>(_(),k("div",Ti,[S("div",zi,[S("div",Li,[S("p",Oi,q(r.name),1),r.working?(_(),k("div",Ri,t[0]||(t[0]=[S("span",{class:"relative flex h-3 w-3 justify-center items-center"},[S("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-75"}),S("span",{class:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})],-1),S("span",{class:"text-green-500 font-medium text-sm block pb-0.5"}," working ",-1)]))):Q("",!0)]),S("div",Pi,q(r.description),1)])]))}}),$i={key:0,class:"flex justify-center items-center h-40"},Hi={key:1},Ei={key:2,class:"text-center text-gray-500 py-8"},Ni={key:3,class:"text-center flex flex-1 justify-center items-center"},Wi=A({__name:"TeamActivityCard",setup(o){const r=V(()=>ht()),{data:t,isLoading:e}=j({queryKey:["latestTeamActivity",r],queryFn:()=>K.latestTeamActivity({params:{organization:r.value}}),enabled:V(()=>!!r.value)});return(i,a)=>(_(),P(It,{title:"Team Activity",icon:g(ve)},{default:E(()=>[g(e)?(_(),k("div",$i,[C(g(Mt))])):g(t)?(_(),k("div",Hi,[(_(!0),k(Ut,null,Zt(g(t),n=>(_(),P(Ai,{key:n.time_entry_id,class:Xt(g(t).length===4?"last:border-0":""),name:n.name,description:n.description,working:n.status},null,8,["class","name","description","working"]))),128))])):(_(),k("div",Ei," No team activity found ")),g(t)&&g(t).length<=1?(_(),k("div",Ni,[S("div",null,[C(g(ve),{class:"w-8 text-icon-default inline pb-2"}),a[2]||(a[2]=S("h3",{class:"text-text-primary font-semibold text-sm"}," Invite your co-workers ",-1)),a[3]||(a[3]=S("p",{class:"pb-5 text-sm"},"You can invite your entire team.",-1)),C(Gt,{onClick:a[0]||(a[0]=n=>g(Ft).visit(i.route("members")))},{default:E(()=>a[1]||(a[1]=[Bt("Go to Members ")])),_:1,__:[1]})])])):Q("",!0)]),_:1},8,["icon"]))}});var pt=M,Bi=J,xt=-1,O=function(){function o(r){var t=r.mappingMethod,e=r.type,i=this.option=B(r);this.type=e,this.mappingMethod=t,this._normalizeData=ji[t];var a=o.visualHandlers[e];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?($t(i),Fi(i)):t==="category"?i.categories?Gi(i):$t(i,!0):(gr(t!=="linear"||i.dataExtent),$t(i))}return o.prototype.mapValueToVisual=function(r){var t=this._normalizeData(r);return this._normalizedToVisual(t,r)},o.prototype.getNormalizer=function(){return H(this._normalizeData,this)},o.listVisualTypes=function(){return vr(o.visualHandlers)},o.isValidType=function(r){return o.visualHandlers.hasOwnProperty(r)},o.eachVisual=function(r,t,e){J(r)?M(r,t,e):t.call(e,r)},o.mapVisual=function(r,t,e){var i,a=R(r)?[]:J(r)?{}:(i=!0,null);return o.eachVisual(r,function(n,s){var l=t.call(e,n,s);i?a=l:a[s]=l}),a},o.retrieveVisuals=function(r){var t={},e;return r&&pt(o.visualHandlers,function(i,a){r.hasOwnProperty(a)&&(t[a]=r[a],e=!0)}),e?t:null},o.prepareVisualTypes=function(r){if(R(r))r=r.slice();else if(Bi(r)){var t=[];pt(r,function(e,i){t.push(i)}),r=t}else return[];return r.sort(function(e,i){return i==="color"&&e!=="color"&&e.indexOf("color")===0?1:-1}),r},o.dependsOn=function(r,t){return t==="color"?!!(r&&r.indexOf(t)===0):r===t},o.findPieceIndex=function(r,t,e){for(var i,a=1/0,n=0,s=t.length;n<s;n++){var l=t[n].value;if(l!=null){if(l===r||lt(l)&&l===r+"")return n;e&&h(l,n)}}for(var n=0,s=t.length;n<s;n++){var c=t[n],p=c.interval,u=c.close;if(p){if(p[0]===-1/0){if(yt(u[1],r,p[1]))return n}else if(p[1]===1/0){if(yt(u[0],p[0],r))return n}else if(yt(u[0],p[0],r)&&yt(u[1],r,p[1]))return n;e&&h(p[0],n),e&&h(p[1],n)}}if(e)return r===1/0?t.length-1:r===-1/0?0:i;function h(d,v){var y=Math.abs(d-r);y<a&&(a=y,i=v)}},o.visualHandlers={color:{applyVisual:ot("color"),getColorMapper:function(){var r=this.option;return H(r.mappingMethod==="category"?function(t,e){return!e&&(t=this._normalizeData(t)),st.call(this,t)}:function(t,e,i){var a=!!i;return!e&&(t=this._normalizeData(t)),i=Lt(t,r.parsedVisual,i),a?i:zt(i,"rgba")},this)},_normalizedToVisual:{linear:function(r){return zt(Lt(r,this.option.parsedVisual),"rgba")},category:st,piecewise:function(r,t){var e=Qt.call(this,t);return e==null&&(e=zt(Lt(r,this.option.parsedVisual),"rgba")),e},fixed:U}},colorHue:gt(function(r,t){return Ot(r,t)}),colorSaturation:gt(function(r,t){return Ot(r,null,t)}),colorLightness:gt(function(r,t){return Ot(r,null,null,t)}),colorAlpha:gt(function(r,t){return mr(r,t)}),decal:{applyVisual:ot("decal"),_normalizedToVisual:{linear:null,category:st,piecewise:null,fixed:null}},opacity:{applyVisual:ot("opacity"),_normalizedToVisual:Yt([0,1])},liftZ:{applyVisual:ot("liftZ"),_normalizedToVisual:{linear:U,category:U,piecewise:U,fixed:U}},symbol:{applyVisual:function(r,t,e){var i=this.mapValueToVisual(r);e("symbol",i)},_normalizedToVisual:{linear:fe,category:st,piecewise:function(r,t){var e=Qt.call(this,t);return e==null&&(e=fe.call(this,r)),e},fixed:U}},symbolSize:{applyVisual:ot("symbolSize"),_normalizedToVisual:Yt([0,1])}},o}();function Fi(o){var r=o.pieceList;o.hasSpecialVisual=!1,M(r,function(t,e){t.originIndex=e,t.visual!=null&&(o.hasSpecialVisual=!0)})}function Gi(o){var r=o.categories,t=o.categoryMap={},e=o.visual;if(pt(r,function(n,s){t[n]=s}),!R(e)){var i=[];J(e)?pt(e,function(n,s){var l=t[s];i[l??xt]=n}):i[xt]=e,e=je(o,i)}for(var a=r.length-1;a>=0;a--)e[a]==null&&(delete t[r[a]],r.pop())}function $t(o,r){var t=o.visual,e=[];J(t)?pt(t,function(a){e.push(a)}):t!=null&&e.push(t);var i={color:1,symbol:1};!r&&e.length===1&&!i.hasOwnProperty(o.type)&&(e[1]=e[0]),je(o,e)}function gt(o){return{applyVisual:function(r,t,e){var i=this.mapValueToVisual(r);e("color",o(t("color"),i))},_normalizedToVisual:Yt([0,1])}}function fe(o){var r=this.option.visual;return r[Math.round(tt(o,[0,1],[0,r.length-1],!0))]||{}}function ot(o){return function(r,t,e){e(o,this.mapValueToVisual(r))}}function st(o){var r=this.option.visual;return r[this.option.loop&&o!==xt?o%r.length:o]}function U(){return this.option.visual[0]}function Yt(o){return{linear:function(r){return tt(r,o,this.option.visual,!0)},category:st,piecewise:function(r,t){var e=Qt.call(this,t);return e==null&&(e=tt(r,o,this.option.visual,!0)),e},fixed:U}}function Qt(o){var r=this.option,t=r.pieceList;if(r.hasSpecialVisual){var e=O.findPieceIndex(o,t),i=t[e];if(i&&i.visual)return i.visual[this.type]}}function je(o,r){return o.visual=r,o.type==="color"&&(o.parsedVisual=at(r,function(t){var e=yr(t);return e||[0,0,0,1]})),r}var ji={linear:function(o){return tt(o,this.option.dataExtent,[0,1],!0)},piecewise:function(o){var r=this.option.pieceList,t=O.findPieceIndex(o,r,!0);if(t!=null)return tt(t,[0,r.length-1],[0,1],!0)},category:function(o){var r=this.option.categories?this.option.categoryMap[o]:o;return r??xt},fixed:fr};function yt(o,r,t){return o?r<=t:r<t}function Ki(o,r,t,e,i,a){o=o||0;var n=t[1]-t[0];if(i!=null&&(i=et(i,[0,n])),a!=null&&(a=Math.max(a,i??0)),e==="all"){var s=Math.abs(r[1]-r[0]);s=et(s,[0,n]),i=a=et(s,[i,a]),e=0}r[0]=et(r[0],t),r[1]=et(r[1],t);var l=Ht(r,e);r[e]+=o;var c=i||0,p=t.slice();l.sign<0?p[0]+=c:p[1]-=c,r[e]=et(r[e],p);var u;return u=Ht(r,e),i!=null&&(u.sign!==l.sign||u.span<i)&&(r[1-e]=r[e]+l.sign*i),u=Ht(r,e),a!=null&&u.span>a&&(r[1-e]=r[e]+u.sign*a),r}function Ht(o,r){var t=o[r]-o[1-r];return{span:Math.abs(t),sign:t>0?-1:t<0?1:r?-1:1}}function et(o,r){return Math.min(r[1]!=null?r[1]:1/0,Math.max(r[0]!=null?r[0]:-1/0,o))}var qi=256,Yi=function(){function o(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var r=le.createCanvas();this.canvas=r}return o.prototype.update=function(r,t,e,i,a,n){var s=this._getBrush(),l=this._getGradient(a,"inRange"),c=this._getGradient(a,"outOfRange"),p=this.pointSize+this.blurSize,u=this.canvas,h=u.getContext("2d"),d=r.length;u.width=t,u.height=e;for(var v=0;v<d;++v){var y=r[v],f=y[0],m=y[1],b=y[2],x=i(b);h.globalAlpha=x,h.drawImage(s,f-p,m-p)}if(!u.width||!u.height)return u;for(var D=h.getImageData(0,0,u.width,u.height),I=D.data,w=0,N=I.length,$=this.minOpacity,G=this.maxOpacity,L=G-$;w<N;){var x=I[w+3]/256,T=Math.floor(x*(qi-1))*4;if(x>0){var z=n(x)?l:c;x>0&&(x=x*L+$),I[w++]=z[T],I[w++]=z[T+1],I[w++]=z[T+2],I[w++]=z[T+3]*x*256}else w+=4}return h.putImageData(D,0,0),u},o.prototype._getBrush=function(){var r=this._brushCanvas||(this._brushCanvas=le.createCanvas()),t=this.pointSize+this.blurSize,e=t*2;r.width=e,r.height=e;var i=r.getContext("2d");return i.clearRect(0,0,e,e),i.shadowOffsetX=e,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),r},o.prototype._getGradient=function(r,t){for(var e=this._gradientPixels,i=e[t]||(e[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],n=0,s=0;s<256;s++)r[t](s/255,!0,a),i[n++]=a[0],i[n++]=a[1],i[n++]=a[2],i[n++]=a[3];return i},o}();function Qi(o,r,t){var e=o[1]-o[0];r=at(r,function(n){return{interval:[(n.interval[0]-o[0])/e,(n.interval[1]-o[0])/e]}});var i=r.length,a=0;return function(n){var s;for(s=a;s<i;s++){var l=r[s].interval;if(l[0]<=n&&n<=l[1]){a=s;break}}if(s===i)for(s=a-1;s>=0;s--){var l=r[s].interval;if(l[0]<=n&&n<=l[1]){a=s;break}}return s>=0&&s<i&&t[s]}}function Ui(o,r){var t=o[1]-o[0];return r=[(r[0]-o[0])/t,(r[1]-o[0])/t],function(e){return e>=r[0]&&e<=r[1]}}function ge(o){var r=o.dimensions;return r[0]==="lng"&&r[1]==="lat"}var Zi=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t}return r.prototype.render=function(t,e,i){var a;e.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===t&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var n=t.coordinateSystem;n.type==="cartesian2d"||n.type==="calendar"?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):ge(n)&&this._renderOnGeo(n,t,a,i)},r.prototype.incrementalPrepareRender=function(t,e,i){this.group.removeAll()},r.prototype.incrementalRender=function(t,e,i,a){var n=e.coordinateSystem;n&&(ge(n)?this.render(e,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,a,t.start,t.end,!0)))},r.prototype.eachRendered=function(t){_r(this._progressiveEls||this.group,t)},r.prototype._renderOnCartesianAndCalendar=function(t,e,i,a,n){var s=t.coordinateSystem,l=br(s,"cartesian2d"),c,p,u,h;if(l){var d=s.getAxis("x"),v=s.getAxis("y");c=d.getBandWidth()+.5,p=v.getBandWidth()+.5,u=d.scale.getExtent(),h=v.scale.getExtent()}for(var y=this.group,f=t.getData(),m=t.getModel(["emphasis","itemStyle"]).getItemStyle(),b=t.getModel(["blur","itemStyle"]).getItemStyle(),x=t.getModel(["select","itemStyle"]).getItemStyle(),D=t.get(["itemStyle","borderRadius"]),I=ue(t),w=t.getModel("emphasis"),N=w.get("focus"),$=w.get("blurScope"),G=w.get("disabled"),L=l?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],T=i;T<a;T++){var z=void 0,Ct=f.getItemVisual(T,"style");if(l){var dt=f.get(L[0],T),vt=f.get(L[1],T);if(isNaN(f.get(L[2],T))||isNaN(dt)||isNaN(vt)||dt<u[0]||dt>u[1]||vt<h[0]||vt>h[1])continue;var ae=s.dataToPoint([dt,vt]);z=new ut({shape:{x:ae[0]-c/2,y:ae[1]-p/2,width:c,height:p},style:Ct})}else{if(isNaN(f.get(L[1],T)))continue;z=new ut({z2:1,shape:s.dataToRect([f.get(L[0],T)]).contentShape,style:Ct})}if(f.hasItemOption){var nt=f.getItemModel(T),ft=nt.getModel("emphasis");m=ft.getModel("itemStyle").getItemStyle(),b=nt.getModel(["blur","itemStyle"]).getItemStyle(),x=nt.getModel(["select","itemStyle"]).getItemStyle(),D=nt.get(["itemStyle","borderRadius"]),N=ft.get("focus"),$=ft.get("blurScope"),G=ft.get("disabled"),I=ue(nt)}z.shape.r=D;var Dt=t.getRawValue(T),ne="-";Dt&&Dt[2]!=null&&(ne=Dt[2]+""),xr(z,I,{labelFetcher:t,labelDataIndex:T,defaultOpacity:Ct.opacity,defaultText:ne}),z.ensureState("emphasis").style=m,z.ensureState("blur").style=b,z.ensureState("select").style=x,Sr(z,N,$,G),z.incremental=n,n&&(z.states.emphasis.hoverLayer=!0),y.add(z),f.setItemGraphicEl(T,z),this._progressiveEls&&this._progressiveEls.push(z)}},r.prototype._renderOnGeo=function(t,e,i,a){var n=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=e.getData(),c=this._hmLayer||this._hmLayer||new Yi;c.blurSize=e.get("blurSize"),c.pointSize=e.get("pointSize"),c.minOpacity=e.get("minOpacity"),c.maxOpacity=e.get("maxOpacity");var p=t.getViewRect().clone(),u=t.getRoamTransform();p.applyTransform(u);var h=Math.max(p.x,0),d=Math.max(p.y,0),v=Math.min(p.width+p.x,a.getWidth()),y=Math.min(p.height+p.y,a.getHeight()),f=v-h,m=y-d,b=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],x=l.mapArray(b,function(N,$,G){var L=t.dataToPoint([N,$]);return L[0]-=h,L[1]-=d,L.push(G),L}),D=i.getExtent(),I=i.type==="visualMap.continuous"?Ui(D,i.option.range):Qi(D,i.getPieceList(),i.option.selected);c.update(x,f,m,n.color.getNormalizer(),{inRange:n.color.getColorMapper(),outOfRange:s.color.getColorMapper()},I);var w=new Ae({style:{width:f,height:m,x:h,y:d,image:c.canvas},silent:!0});this.group.add(w)},r.type="heatmap",r}(wr),Xi=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t}return r.prototype.getInitialData=function(t,e){return Mr(null,this,{generateCoord:"value"})},r.prototype.preventIncremental=function(){var t=kr.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},r.type="series.heatmap",r.dependencies=["grid","geo","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},r}(Ir);function Ji(o){o.registerChartView(Zi),o.registerSeriesModel(Xi)}var ta=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t}return r.prototype.init=function(t,e,i){var a=Cr(t);o.prototype.init.apply(this,arguments),ye(t,a)},r.prototype.mergeOption=function(t){o.prototype.mergeOption.apply(this,arguments),ye(this.option,t)},r.prototype.getCellSize=function(){return this.option.cellSize},r.type="calendar",r.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},r}($e);function ye(o,r){var t=o.cellSize,e;R(t)?e=t:e=o.cellSize=[t,t],e.length===1&&(e[1]=e[0]);var i=at([0,1],function(a){return Dr(r,a)&&(e[a]="auto"),e[a]!=null&&e[a]!=="auto"});Vr(o,r,{type:"box",ignoreSize:i})}var ea=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t}return r.prototype.render=function(t,e,i){var a=this.group;a.removeAll();var n=t.coordinateSystem,s=n.getRangeInfo(),l=n.getOrient(),c=e.getLocaleModel();this._renderDayRect(t,s,a),this._renderLines(t,s,l,a),this._renderYearText(t,s,l,a),this._renderMonthText(t,c,l,a),this._renderWeekText(t,c,s,l,a)},r.prototype._renderDayRect=function(t,e,i){for(var a=t.coordinateSystem,n=t.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),c=e.start.time;c<=e.end.time;c=a.getNextNDay(c,1).time){var p=a.dataToRect([c],!1).tl,u=new ut({shape:{x:p[0],y:p[1],width:s,height:l},cursor:"default",style:n});i.add(u)}},r.prototype._renderLines=function(t,e,i,a){var n=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),c=t.get(["splitLine","show"]),p=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,h=0;u.time<=e.end.time;h++){v(u.formatedDate),h===0&&(u=s.getDateInfo(e.start.y+"-"+e.start.m));var d=u.date;d.setMonth(d.getMonth()+1),u=s.getDateInfo(d)}v(s.getNextNDay(e.end.time,1).formatedDate);function v(y){n._firstDayOfMonth.push(s.getDateInfo(y)),n._firstDayPoints.push(s.dataToRect([y],!1).tl);var f=n._getLinePointsOfOneWeek(t,y,i);n._tlpoints.push(f[0]),n._blpoints.push(f[f.length-1]),c&&n._drawSplitline(f,l,a)}c&&this._drawSplitline(n._getEdgesPoints(n._tlpoints,p,i),l,a),c&&this._drawSplitline(n._getEdgesPoints(n._blpoints,p,i),l,a)},r.prototype._getEdgesPoints=function(t,e,i){var a=[t[0].slice(),t[t.length-1].slice()],n=i==="horizontal"?0:1;return a[0][n]=a[0][n]-e/2,a[1][n]=a[1][n]+e/2,a},r.prototype._drawSplitline=function(t,e,i){var a=new Tr({z2:20,shape:{points:t},style:e});i.add(a)},r.prototype._getLinePointsOfOneWeek=function(t,e,i){for(var a=t.coordinateSystem,n=a.getDateInfo(e),s=[],l=0;l<7;l++){var c=a.getNextNDay(n.time,l),p=a.dataToRect([c.time],!1);s[2*c.day]=p.tl,s[2*c.day+1]=p[i==="horizontal"?"bl":"tr"]}return s},r.prototype._formatterLabel=function(t,e){return lt(t)&&t?zr(t,e):He(t)?t(e):e.nameMap},r.prototype._yearTextPositionControl=function(t,e,i,a,n){var s=e[0],l=e[1],c=["center","bottom"];a==="bottom"?(l+=n,c=["center","top"]):a==="left"?s-=n:a==="right"?(s+=n,c=["center","top"]):l-=n;var p=0;return(a==="left"||a==="right")&&(p=Math.PI/2),{rotation:p,x:s,y:l,style:{align:c[0],verticalAlign:c[1]}}},r.prototype._renderYearText=function(t,e,i,a){var n=t.getModel("yearLabel");if(n.get("show")){var s=n.get("margin"),l=n.get("position");l||(l=i!=="horizontal"?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],p=(c[0][0]+c[1][0])/2,u=(c[0][1]+c[1][1])/2,h=i==="horizontal"?0:1,d={top:[p,c[h][1]],bottom:[p,c[1-h][1]],left:[c[1-h][0],u],right:[c[h][0],u]},v=e.start.y;+e.end.y>+e.start.y&&(v=v+"-"+e.end.y);var y=n.get("formatter"),f={start:e.start.y,end:e.end.y,nameMap:v},m=this._formatterLabel(y,f),b=new Y({z2:30,style:Z(n,{text:m}),silent:n.get("silent")});b.attr(this._yearTextPositionControl(b,d[l],i,l,s)),a.add(b)}},r.prototype._monthTextPositionControl=function(t,e,i,a,n){var s="left",l="top",c=t[0],p=t[1];return i==="horizontal"?(p=p+n,e&&(s="center"),a==="start"&&(l="bottom")):(c=c+n,e&&(l="middle"),a==="start"&&(s="right")),{x:c,y:p,align:s,verticalAlign:l}},r.prototype._renderMonthText=function(t,e,i,a){var n=t.getModel("monthLabel");if(n.get("show")){var s=n.get("nameMap"),l=n.get("margin"),c=n.get("position"),p=n.get("align"),u=[this._tlpoints,this._blpoints];(!s||lt(s))&&(s&&(e=ce(s)||e),s=e.get(["time","monthAbbr"])||[]);var h=c==="start"?0:1,d=i==="horizontal"?0:1;l=c==="start"?-l:l;for(var v=p==="center",y=n.get("silent"),f=0;f<u[h].length-1;f++){var m=u[h][f].slice(),b=this._firstDayOfMonth[f];if(v){var x=this._firstDayPoints[f];m[d]=(x[d]+u[0][f+1][d])/2}var D=n.get("formatter"),I=s[+b.m-1],w={yyyy:b.y,yy:(b.y+"").slice(2),MM:b.m,M:+b.m,nameMap:I},N=this._formatterLabel(D,w),$=new Y({z2:30,style:jt(Z(n,{text:N}),this._monthTextPositionControl(m,v,i,c,l)),silent:y});a.add($)}}},r.prototype._weekTextPositionControl=function(t,e,i,a,n){var s="center",l="middle",c=t[0],p=t[1],u=i==="start";return e==="horizontal"?(c=c+a+(u?1:-1)*n[0]/2,s=u?"right":"left"):(p=p+a+(u?1:-1)*n[1]/2,l=u?"bottom":"top"),{x:c,y:p,align:s,verticalAlign:l}},r.prototype._renderWeekText=function(t,e,i,a,n){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,c=s.get("position"),p=s.get("nameMap"),u=s.get("margin"),h=l.getFirstDayOfWeek();if(!p||lt(p)){p&&(e=ce(p)||e);var d=e.get(["time","dayOfWeekShort"]);p=d||at(e.get(["time","dayOfWeekAbbr"]),function(w){return w[0]})}var v=l.getNextNDay(i.end.time,7-i.lweek).time,y=[l.getCellWidth(),l.getCellHeight()];u=Lr(u,Math.min(y[1],y[0])),c==="start"&&(v=l.getNextNDay(i.start.time,-(7+i.fweek)).time,u=-u);for(var f=s.get("silent"),m=0;m<7;m++){var b=l.getNextNDay(v,m),x=l.dataToRect([b.time],!1).center,D=m;D=Math.abs((m+h)%7);var I=new Y({z2:30,style:jt(Z(s,{text:p[D]}),this._weekTextPositionControl(x,a,c,u,y)),silent:f});n.add(I)}}},r.type="calendar",r}(Ee),Et=864e5,ra=function(){function o(r,t,e){this.type="calendar",this.dimensions=o.dimensions,this.getDimensionsInfo=o.getDimensionsInfo,this._model=r}return o.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},o.prototype.getRangeInfo=function(){return this._rangeInfo},o.prototype.getModel=function(){return this._model},o.prototype.getRect=function(){return this._rect},o.prototype.getCellWidth=function(){return this._sw},o.prototype.getCellHeight=function(){return this._sh},o.prototype.getOrient=function(){return this._orient},o.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},o.prototype.getDateInfo=function(r){r=Or(r);var t=r.getFullYear(),e=r.getMonth()+1,i=e<10?"0"+e:""+e,a=r.getDate(),n=a<10?"0"+a:""+a,s=r.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:n,day:s,time:r.getTime(),formatedDate:t+"-"+i+"-"+n,date:r}},o.prototype.getNextNDay=function(r,t){return t=t||0,t===0?this.getDateInfo(r):(r=new Date(this.getDateInfo(r).time),r.setDate(r.getDate()+t),this.getDateInfo(r))},o.prototype.update=function(r,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var e=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),n=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[e,7]:[7,e];M([0,1],function(u){p(a,u)&&(n[i[u]]=a[u]*s[u])});var l={width:t.getWidth(),height:t.getHeight()},c=this._rect=Ne(n,l);M([0,1],function(u){p(a,u)||(a[u]=c[i[u]]/s[u])});function p(u,h){return u[h]!=null&&u[h]!=="auto"}this._sw=a[0],this._sh=a[1]},o.prototype.dataToPoint=function(r,t){R(r)&&(r=r[0]),t==null&&(t=!0);var e=this.getDateInfo(r),i=this._rangeInfo,a=e.formatedDate;if(t&&!(e.time>=i.start.time&&e.time<i.end.time+Et))return[NaN,NaN];var n=e.day,s=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+n*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+n*this._sh+this._sh/2]},o.prototype.pointToData=function(r){var t=this.pointToDate(r);return t&&t.time},o.prototype.dataToRect=function(r,t){var e=this.dataToPoint(r,t);return{contentShape:{x:e[0]-(this._sw-this._lineWidth)/2,y:e[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:e,tl:[e[0]-this._sw/2,e[1]-this._sh/2],tr:[e[0]+this._sw/2,e[1]-this._sh/2],br:[e[0]+this._sw/2,e[1]+this._sh/2],bl:[e[0]-this._sw/2,e[1]+this._sh/2]}},o.prototype.pointToDate=function(r){var t=Math.floor((r[0]-this._rect.x)/this._sw)+1,e=Math.floor((r[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(e,t-1,i):this._getDateByWeeksAndDay(t,e-1,i)},o.prototype.convertToPixel=function(r,t,e){var i=me(t);return i===this?i.dataToPoint(e):null},o.prototype.convertFromPixel=function(r,t,e){var i=me(t);return i===this?i.pointToData(e):null},o.prototype.containPoint=function(r){return console.warn("Not implemented."),!1},o.prototype._initRangeOption=function(){var r=this._model.get("range"),t;if(R(r)&&r.length===1&&(r=r[0]),R(r))t=r;else{var e=r.toString();if(/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var i=this.getDateInfo(e),a=i.date;a.setMonth(a.getMonth()+1);var n=this.getNextNDay(a,-1);t=[i.formatedDate,n.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e])}if(!t)return r;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},o.prototype._getRangeInfo=function(r){var t=[this.getDateInfo(r[0]),this.getDateInfo(r[1])],e;t[0].time>t[1].time&&(e=!0,t.reverse());var i=Math.floor(t[1].time/Et)-Math.floor(t[0].time/Et)+1,a=new Date(t[0].time),n=a.getDate(),s=t[1].date.getDate();a.setDate(n+i-1);var l=a.getDate();if(l!==s)for(var c=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-t[1].time)*c>0;)i-=c,a.setDate(l-c);var p=Math.floor((i+t[0].day+6)/7),u=e?-p+1:p-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:p,nthWeek:u,fweek:t[0].day,lweek:t[1].day}},o.prototype._getDateByWeeksAndDay=function(r,t,e){var i=this._getRangeInfo(e);if(r>i.weeks||r===0&&t<i.fweek||r===i.weeks&&t>i.lweek)return null;var a=(r-1)*7-i.fweek+t,n=new Date(i.start.time);return n.setDate(+i.start.d+a),this.getDateInfo(n)},o.create=function(r,t){var e=[];return r.eachComponent("calendar",function(i){var a=new o(i);e.push(a),i.coordinateSystem=a}),r.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=e[i.get("calendarIndex")||0])}),e},o.dimensions=["time","value"],o}();function me(o){var r=o.calendarModel,t=o.seriesModel,e=r?r.coordinateSystem:t?t.coordinateSystem:null;return e}function ia(o){o.registerComponentModel(ta),o.registerComponentView(ea),o.registerCoordinateSystem("calendar",ra)}var _e=M;function be(o){if(o){for(var r in o)if(o.hasOwnProperty(r))return!0}}function xe(o,r,t){var e={};return _e(r,function(a){var n=e[a]=i();_e(o[a],function(s,l){if(O.isValidType(l)){var c={type:l,visual:s};t&&t(c,a),n[l]=new O(c),l==="opacity"&&(c=B(c),c.type="colorAlpha",n.__hidden.__alphaForOpacity=new O(c))}})}),e;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var n=new a;return n}}function aa(o,r,t){var e;M(t,function(i){r.hasOwnProperty(i)&&be(r[i])&&(e=!0)}),e&&M(t,function(i){r.hasOwnProperty(i)&&be(r[i])?o[i]=B(r[i]):delete o[i]})}function na(o,r,t,e){var i={};return M(o,function(a){var n=O.prepareVisualTypes(r[a]);i[a]=n}),{progress:function(n,s){var l;e!=null&&(l=s.getDimensionIndex(e));function c(I){return Rr(s,u,I)}function p(I,w){Pr(s,u,I,w)}for(var u,h=s.getStore();(u=n.next())!=null;){var d=s.getRawDataItem(u);if(!(d&&d.visualMap===!1))for(var v=e!=null?h.get(l,u):u,y=t(v),f=r[y],m=i[y],b=0,x=m.length;b<x;b++){var D=m[b];f[D]&&f[D].applyVisual(v,c,p)}}}}}var Ke={get:function(o,r,t){var e=B((oa[o]||{})[r]);return t&&R(e)?e[e.length-1]:e}},oa={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Se=O.mapVisual,sa=O.eachVisual,la=R,we=M,ua=We,ca=tt,St=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return r.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i)},r.prototype.optionUpdated=function(t,e){var i=this.option;!e&&aa(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},r.prototype.resetVisual=function(t){var e=this.stateList;t=H(t,this),this.controllerVisuals=xe(this.option.controller,e,t),this.targetVisuals=xe(this.option.target,e,t)},r.prototype.getItemSymbol=function(){return null},r.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return t==null||t==="all"?this.ecModel.eachSeries(function(i,a){e.push(a)}):e=Ar(t),e},r.prototype.eachTargetSeries=function(t,e){M(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&t.call(e,a)},this)},r.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries(function(i){i===t&&(e=!0)}),e},r.prototype.formatValueText=function(t,e,i){var a=this.option,n=a.precision,s=this.dataBound,l=a.formatter,c;i=i||["<",">"],R(t)&&(t=t.slice(),c=!0);var p=e?t:c?[u(t[0]),u(t[1])]:u(t);if(lt(l))return l.replace("{value}",c?p[0]:p).replace("{value2}",c?p[1]:p);if(He(l))return c?l(t[0],t[1]):l(t);if(c)return t[0]===s[0]?i[0]+" "+p[1]:t[1]===s[1]?i[1]+" "+p[0]:p[0]+" - "+p[1];return p;function u(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(n,20))}},r.prototype.resetExtent=function(){var t=this.option,e=ua([t.min,t.max]);this._dataExtent=e},r.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(e!=null)return t.getDimensionIndex(e);for(var i=t.dimensions,a=i.length-1;a>=0;a--){var n=i[a],s=t.getDimensionInfo(n);if(!s.isCalculationCoord)return s.storeDimIndex}},r.prototype.getExtent=function(){return this._dataExtent.slice()},r.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,i={inRange:e.inRange,outOfRange:e.outOfRange},a=e.target||(e.target={}),n=e.controller||(e.controller={});pe(a,i),pe(n,i);var s=this.isCategory();l.call(this,a),l.call(this,n),c.call(this,a,"inRange","outOfRange"),p.call(this,n);function l(u){la(e.color)&&!u.inRange&&(u.inRange={color:e.color.slice().reverse()}),u.inRange=u.inRange||{color:t.get("gradientColor")}}function c(u,h,d){var v=u[h],y=u[d];v&&!y&&(y=u[d]={},we(v,function(f,m){if(O.isValidType(m)){var b=Ke.get(m,"inactive",s);b!=null&&(y[m]=b,m==="color"&&!y.hasOwnProperty("opacity")&&!y.hasOwnProperty("colorAlpha")&&(y.opacity=[0,0]))}}))}function p(u){var h=(u.inRange||{}).symbol||(u.outOfRange||{}).symbol,d=(u.inRange||{}).symbolSize||(u.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),y=this.getItemSymbol(),f=y||"roundRect";we(this.stateList,function(m){var b=this.itemSize,x=u[m];x||(x=u[m]={color:s?v:[v]}),x.symbol==null&&(x.symbol=h&&B(h)||(s?f:[f])),x.symbolSize==null&&(x.symbolSize=d&&B(d)||(s?b[0]:[b[0],b[0]])),x.symbol=Se(x.symbol,function(w){return w==="none"?f:w});var D=x.symbolSize;if(D!=null){var I=-1/0;sa(D,function(w){w>I&&(I=w)}),x.symbolSize=Se(D,function(w){return ca(w,[0,I],[0,b[0]],!0)})}},this)}},r.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},r.prototype.isCategory=function(){return!!this.option.categories},r.prototype.setSelected=function(t){},r.prototype.getSelected=function(){return null},r.prototype.getValueState=function(t){return null},r.prototype.getVisualMeta=function(t){return null},r.type="visualMap",r.dependencies=["series"],r.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},r}($e),Me=[20,140],pa=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t}return r.prototype.optionUpdated=function(t,e){o.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},r.prototype.resetItemSize=function(){o.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=Me[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=Me[1])},r.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):R(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},r.prototype.completeVisualOption=function(){o.prototype.completeVisualOption.apply(this,arguments),M(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)},this)},r.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},r.prototype.getSelected=function(){var t=this.getExtent(),e=We((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},r.prototype.getValueState=function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries(function(i){var a=[],n=i.getData();n.each(this.getDataDimensionIndex(n),function(s,l){t[0]<=s&&s<=t[1]&&a.push(l)},this),e.push({seriesId:i.id,dataIndex:a})},this),e},r.prototype.getVisualMeta=function(t){var e=ke(this,"outOfRange",this.getExtent()),i=ke(this,"inRange",this.option.range.slice()),a=[];function n(d,v){a.push({value:d,color:t(d,v)})}for(var s=0,l=0,c=i.length,p=e.length;l<p&&(!i.length||e[l]<=i[0]);l++)e[l]<i[s]&&n(e[l],"outOfRange");for(var u=1;s<c;s++,u=0)u&&a.length&&n(i[s],"outOfRange"),n(i[s],"inRange");for(var u=1;l<p;l++)(!i.length||i[i.length-1]<e[l])&&(u&&(a.length&&n(a[a.length-1].value,"outOfRange"),u=0),n(e[l],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}},r.type="visualMap.continuous",r.defaultOption=Be(St.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),r}(St);function ke(o,r,t){if(t[0]===t[1])return t.slice();for(var e=200,i=(t[1]-t[0])/e,a=t[0],n=[],s=0;s<=e&&a<t[1];s++)n.push(a),a+=i;return n.push(t[1]),n}var qe=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return r.prototype.init=function(t,e){this.ecModel=t,this.api=e},r.prototype.render=function(t,e,i,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,e,i,a)},r.prototype.renderBackground=function(t){var e=this.visualMapModel,i=$r(e.get("padding")||0),a=t.getBoundingRect();t.add(new ut({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},r.prototype.getControllerVisual=function(t,e,i){i=i||{};var a=i.forceState,n=this.visualMapModel,s={};if(e==="color"){var l=n.get("contentColor");s.color=l}function c(d){return s[d]}function p(d,v){s[d]=v}var u=n.controllerVisuals[a||n.getValueState(t)],h=O.prepareVisualTypes(u);return M(h,function(d){var v=u[d];i.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",v=u.__alphaForOpacity),O.dependsOn(d,e)&&v&&v.applyVisual(t,c,p)}),s[e]},r.prototype.positionGroup=function(t){var e=this.visualMapModel,i=this.api;Hr(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},r.prototype.doRender=function(t,e,i,a){},r.type="visualMap",r}(Ee),Ie=[["left","right","width"],["top","bottom","height"]];function Ye(o,r,t){var e=o.option,i=e.align;if(i!=null&&i!=="auto")return i;for(var a={width:r.getWidth(),height:r.getHeight()},n=e.orient==="horizontal"?1:0,s=Ie[n],l=[0,null,10],c={},p=0;p<3;p++)c[Ie[1-n][p]]=l[p],c[s[p]]=p===2?t[0]:e[s[p]];var u=[["x","width",3],["y","height",0]][n],h=Ne(c,a,e.padding);return s[(h.margin[u[2]]||0)+h[u[0]]+h[u[1]]*.5<a[u[1]]*.5?0:1]}function _t(o,r){return M(o||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(r?r.componentIndex:"")}),o}var W=tt,ha=M,Ce=Math.min,Nt=Math.max,da=12,va=6,fa=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return r.prototype.init=function(t,e){o.prototype.init.call(this,t,e),this._hoverLinkFromSeriesMouseOver=H(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=H(this._hideIndicator,this)},r.prototype.doRender=function(t,e,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},r.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},r.prototype._renderEndsText=function(t,e,i){if(e){var a=e[1-i];a=a!=null?a+"":"";var n=this.visualMapModel,s=n.get("textGap"),l=n.itemSize,c=this._shapes.mainGroup,p=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],c),u=this._applyTransform(i===0?"bottom":"top",c),h=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new Y({style:Z(d,{x:p[0],y:p[1],verticalAlign:h==="horizontal"?"middle":u,align:h==="horizontal"?u:"center",text:a})}))}},r.prototype._renderBar=function(t){var e=this.visualMapModel,i=this._shapes,a=e.itemSize,n=this._orient,s=this._useHandle,l=Ye(e,this.api,a),c=i.mainGroup=this._createBarGroup(l),p=new bt;c.add(p),p.add(i.outOfRange=De()),p.add(i.inRange=De(null,s?Te(this._orient):null,H(this._dragHandle,this,"all",!1),H(this._dragHandle,this,"all",!0))),p.setClipPath(new ut({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var u=e.textStyleModel.getTextRect("国"),h=Nt(u.width,u.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(e,c,0,a,h,n),this._createHandle(e,c,1,a,h,n)),this._createIndicator(e,c,a,h,n),t.add(c)},r.prototype._createHandle=function(t,e,i,a,n,s){var l=H(this._dragHandle,this,i,!1),c=H(this._dragHandle,this,i,!0),p=he(t.get("handleSize"),a[0]),u=Kt(t.get("handleIcon"),-p/2,-p/2,p,p,null,!0),h=Te(this._orient);u.attr({cursor:h,draggable:!0,drift:l,ondragend:c,onmousemove:function(m){qt(m.event)}}),u.x=a[0]/2,u.useStyle(t.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Er(u,!0),e.add(u);var d=this.visualMapModel.textStyleModel,v=new Y({cursor:h,draggable:!0,drift:l,onmousemove:function(m){qt(m.event)},ondragend:c,style:Z(d,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var y=[p,0],f=this._shapes;f.handleThumbs[i]=u,f.handleLabelPoints[i]=y,f.handleLabels[i]=v},r.prototype._createIndicator=function(t,e,i,a,n){var s=he(t.get("indicatorSize"),i[0]),l=Kt(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var c=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Ae){var p=l.style;l.useStyle(jt({image:p.image,x:p.x,y:p.y,width:p.width,height:p.height},c))}else l.useStyle(c);e.add(l);var u=this.visualMapModel.textStyleModel,h=new Y({silent:!0,invisible:!0,style:Z(u,{x:0,y:0,text:""})});this.group.add(h);var d=[(n==="horizontal"?a/2:va)+i[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=h,v.indicatorLabelPoint=d,this._firstShowIndicator=!0},r.prototype._dragHandle=function(t,e,i,a){if(this._useHandle){if(this._dragging=!e,!e){var n=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(t,n[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():Ve(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},r.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[W(e[0],i,a,!0),W(e[1],i,a,!0)]},r.prototype._updateInterval=function(t,e){e=e||0;var i=this.visualMapModel,a=this._handleEnds,n=[0,i.itemSize[1]];Ki(e,a,n,t,0);var s=i.getExtent();this._dataInterval=[W(a[0],n,s,!0),W(a[1],n,s,!0)]},r.prototype._updateView=function(t){var e=this.visualMapModel,i=e.getExtent(),a=this._shapes,n=[0,e.itemSize[1]],s=t?n:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),c=this._createBarVisual(i,i,n,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(s,l)},r.prototype._createBarVisual=function(t,e,i,a){var n={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,n),l=[this.getControllerVisual(t[0],"symbolSize",n),this.getControllerVisual(t[1],"symbolSize",n)],c=this._createBarPoints(i,l);return{barColor:new mt(0,0,0,1,s),barPoints:c,handlesColor:[s[0].color,s[s.length-1].color]}},r.prototype._makeColorGradient=function(t,e){var i=100,a=[],n=(t[1]-t[0])/i;a.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var s=1;s<i;s++){var l=t[0]+n*s;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",e),offset:s/i})}return a.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),a},r.prototype._createBarPoints=function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},r.prototype._createBarGroup=function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new bt(e==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:e==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:e==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},r.prototype._updateHandle=function(t,e){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,n=i.handleThumbs,s=i.handleLabels,l=a.itemSize,c=a.getExtent(),p=this._applyTransform("left",i.mainGroup);ha([0,1],function(u){var h=n[u];h.setStyle("fill",e.handlesColor[u]),h.y=t[u];var d=W(t[u],[0,l[1]],c,!0),v=this.getControllerVisual(d,"symbolSize");h.scaleX=h.scaleY=v/l[0],h.x=l[0]-v/2;var y=Rt(i.handleLabelPoints[u],Pt(h,this.group));if(this._orient==="horizontal"){var f=p==="left"||p==="top"?(l[0]-v)/2:(l[0]-v)/-2;y[1]+=f}s[u].setStyle({x:y[0],y:y[1],text:a.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},r.prototype._showIndicator=function(t,e,i,a){var n=this.visualMapModel,s=n.getExtent(),l=n.itemSize,c=[0,l[1]],p=this._shapes,u=p.indicator;if(u){u.attr("invisible",!1);var h={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",h),v=this.getControllerVisual(t,"symbolSize"),y=W(t,s,c,!0),f=l[0]-v/2,m={x:u.x,y:u.y};u.y=y,u.x=f;var b=Rt(p.indicatorLabelPoint,Pt(u,this.group)),x=p.indicatorLabel;x.attr("invisible",!1);var D=this._applyTransform("left",p.mainGroup),I=this._orient,w=I==="horizontal";x.setStyle({text:(i||"")+n.formatValueText(e),verticalAlign:w?D:"middle",align:w?"center":D});var N={x:f,y,style:{fill:d}},$={style:{x:b[0],y:b[1]}};if(n.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var G={duration:100,easing:"cubicInOut",additive:!0};u.x=m.x,u.y=m.y,u.animateTo(N,G),x.animateTo($,G)}else u.attr(N),x.attr($);this._firstShowIndicator=!1;var L=this._shapes.handleLabels;if(L)for(var T=0;T<L.length;T++)this.api.enterBlur(L[T])}},r.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);a[1]=Ce(Nt(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},r.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},r.prototype._doHoverLinkToSeries=function(t,e){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var n=[0,a[1]],s=i.getExtent();t=Ce(Nt(n[0],t),n[1]);var l=ga(i,s,n),c=[t-l,t+l],p=W(t,n,s,!0),u=[W(c[0],n,s,!0),W(c[1],n,s,!0)];c[0]<n[0]&&(u[0]=-1/0),c[1]>n[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(p,u[1],"< ",l):u[1]===1/0?this._showIndicator(p,u[0],"> ",l):this._showIndicator(p,p,"≈ ",l));var h=this._hoverLinkDataIndices,d=[];(e||Ve(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var v=Nr(h,d);this._dispatchHighDown("downplay",_t(v[0],i)),this._dispatchHighDown("highlight",_t(v[1],i))}},r.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;if(Wr(t.target,function(l){var c=Br(l);if(c.dataIndex!=null)return e=c,!0},!0),!!e){var i=this.ecModel.getSeriesByIndex(e.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var n=i.getData(e.dataType),s=n.getStore().get(a.getDataDimensionIndex(n),e.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},r.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var i=0;i<e.length;i++)this.api.leaveBlur(e[i])},r.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",_t(t,this.visualMapModel)),t.length=0},r.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},r.prototype._applyTransform=function(t,e,i,a){var n=Pt(e,a?null:this.group);return R(t)?Rt(t,n,i):Fr(t,n,i)},r.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},r.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},r.type="visualMap.continuous",r}(qe);function De(o,r,t,e){return new Gr({shape:{points:o},draggable:!!t,cursor:r,drift:t,onmousemove:function(i){qt(i.event)},ondragend:e})}function ga(o,r,t){var e=da/2,i=o.get("hoverLinkDataSize");return i&&(e=W(i,r,t,!0)/2),e}function Ve(o){var r=o.get("hoverLinkOnHandle");return!!(r??o.get("realtime"))}function Te(o){return o==="vertical"?"ns-resize":"ew-resize"}var ya={type:"selectDataRange",event:"dataRangeSelected",update:"update"},ma=function(o,r){r.eachComponent({mainType:"visualMap",query:o},function(t){t.setSelected(o.selected)})},_a=[{createOnAllSeries:!0,reset:function(o,r){var t=[];return r.eachComponent("visualMap",function(e){var i=o.pipelineContext;!e.isTargetSeries(o)||i&&i.large||t.push(na(e.stateList,e.targetVisuals,H(e.getValueState,e),e.getDataDimensionIndex(o.getData())))}),t}},{createOnAllSeries:!0,reset:function(o,r){var t=o.getData(),e=[];r.eachComponent("visualMap",function(i){if(i.isTargetSeries(o)){var a=i.getVisualMeta(H(ba,null,o,i))||{stops:[],outerColors:[]},n=i.getDataDimensionIndex(t);n>=0&&(a.dimension=n,e.push(a))}}),o.getData().setVisual("visualMeta",e)}}];function ba(o,r,t,e){for(var i=r.targetVisuals[e],a=O.prepareVisualTypes(i),n={color:jr(o.getData(),"color")},s=0,l=a.length;s<l;s++){var c=a[s],p=i[c==="opacity"?"__alphaForOpacity":c];p&&p.applyVisual(t,u,h)}return n.color;function u(d){return n[d]}function h(d,v){n[d]=v}}var ze=M;function xa(o){var r=o&&o.visualMap;R(r)||(r=r?[r]:[]),ze(r,function(t){if(t){rt(t,"splitList")&&!rt(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&R(e)&&ze(e,function(i){J(i)&&(rt(i,"start")&&!rt(i,"min")&&(i.min=i.start),rt(i,"end")&&!rt(i,"max")&&(i.max=i.end))})}})}function rt(o,r){return o&&o.hasOwnProperty&&o.hasOwnProperty(r)}var Le=!1;function Qe(o){Le||(Le=!0,o.registerSubTypeDefaulter("visualMap",function(r){return!r.categories&&(!(r.pieces?r.pieces.length>0:r.splitNumber>0)||r.calculable)?"continuous":"piecewise"}),o.registerAction(ya,ma),M(_a,function(r){o.registerVisual(o.PRIORITY.VISUAL.COMPONENT,r)}),o.registerPreprocessor(xa))}function Sa(o){o.registerComponentModel(pa),o.registerComponentView(fa),Qe(o)}var wa=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t._pieceList=[],t}return r.prototype.optionUpdated=function(t,e){o.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Ma[this._mode].call(this,this._pieceList),this._resetSelected(t,e);var a=this.option.categories;this.resetVisual(function(n,s){i==="categories"?(n.mappingMethod="category",n.categories=B(a)):(n.dataExtent=this.getExtent(),n.mappingMethod="piecewise",n.pieceList=at(this._pieceList,function(l){return l=B(l),s!=="inRange"&&(l.visual=null),l}))})},r.prototype.completeVisualOption=function(){var t=this.option,e={},i=O.listVisualTypes(),a=this.isCategory();M(t.pieces,function(s){M(i,function(l){s.hasOwnProperty(l)&&(e[l]=1)})}),M(e,function(s,l){var c=!1;M(this.stateList,function(p){c=c||n(t,p,l)||n(t.target,p,l)},this),!c&&M(this.stateList,function(p){(t[p]||(t[p]={}))[l]=Ke.get(l,p==="inRange"?"active":"inactive",a)})},this);function n(s,l,c){return s&&s[l]&&s[l].hasOwnProperty(c)}o.prototype.completeVisualOption.apply(this,arguments)},r.prototype._resetSelected=function(t,e){var i=this.option,a=this._pieceList,n=(e?i:t).selected||{};if(i.selected=n,M(a,function(l,c){var p=this.getSelectedMapKey(l);n.hasOwnProperty(p)||(n[p]=!0)},this),i.selectedMode==="single"){var s=!1;M(a,function(l,c){var p=this.getSelectedMapKey(l);n[p]&&(s?n[p]=!1:s=!0)},this)}},r.prototype.getItemSymbol=function(){return this.get("itemSymbol")},r.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},r.prototype.getPieceList=function(){return this._pieceList},r.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},r.prototype.setSelected=function(t){this.option.selected=B(t)},r.prototype.getValueState=function(t){var e=O.findPieceIndex(t,this._pieceList);return e!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(t){var e=[],i=this._pieceList;return this.eachTargetSeries(function(a){var n=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,c){var p=O.findPieceIndex(l,i);p===t&&n.push(c)},this),e.push({seriesId:a.id,dataIndex:n})},this),e},r.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(t.value!=null)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return e},r.prototype.getVisualMeta=function(t){if(this.isCategory())return;var e=[],i=["",""],a=this;function n(p,u){var h=a.getRepresentValue({interval:p});u||(u=a.getValueState(h));var d=t(h,u);p[0]===-1/0?i[0]=d:p[1]===1/0?i[1]=d:e.push({value:p[0],color:d},{value:p[1],color:d})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var c=-1/0;return M(s,function(p){var u=p.interval;u&&(u[0]>c&&n([c,u[0]],"outOfRange"),n(u.slice()),c=u[1])},this),{stops:e,outerColors:i}},r.type="visualMap.piecewise",r.defaultOption=Be(St.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),r}(St),Ma={splitNumber:function(o){var r=this.option,t=Math.min(r.precision,20),e=this.getExtent(),i=r.splitNumber;i=Math.max(parseInt(i,10),1),r.splitNumber=i;for(var a=(e[1]-e[0])/i;+a.toFixed(t)!==a&&t<5;)t++;r.precision=t,a=+a.toFixed(t),r.minOpen&&o.push({interval:[-1/0,e[0]],close:[0,0]});for(var n=0,s=e[0];n<i;s+=a,n++){var l=n===i-1?e[1]:s+a;o.push({interval:[s,l],close:[1,1]})}r.maxOpen&&o.push({interval:[e[1],1/0],close:[0,0]}),de(o),M(o,function(c,p){c.index=p,c.text=this.formatValueText(c.interval)},this)},categories:function(o){var r=this.option;M(r.categories,function(t){o.push({text:this.formatValueText(t,!0),value:t})},this),Oe(r,o)},pieces:function(o){var r=this.option;M(r.pieces,function(t,e){J(t)||(t={value:t});var i={text:"",index:e};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var a=i.value=t.value;i.interval=[a,a],i.close=[1,1]}else{for(var n=i.interval=[],s=i.close=[0,0],l=[1,0,1],c=[-1/0,1/0],p=[],u=0;u<2;u++){for(var h=[["gte","gt","min"],["lte","lt","max"]][u],d=0;d<3&&n[u]==null;d++)n[u]=t[h[d]],s[u]=l[d],p[u]=d===2;n[u]==null&&(n[u]=c[u])}p[0]&&n[1]===1/0&&(s[0]=0),p[1]&&n[0]===-1/0&&(s[1]=0),n[0]===n[1]&&s[0]&&s[1]&&(i.value=n[0])}i.visual=O.retrieveVisuals(t),o.push(i)},this),Oe(r,o),de(o),M(o,function(t){var e=t.close,i=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function Oe(o,r){var t=o.inverse;(o.orient==="vertical"?!t:t)&&r.reverse()}var ka=function(o){F(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.type=r.type,t}return r.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get("textGap"),a=e.textStyleModel,n=a.getFont(),s=a.getTextColor(),l=this._getItemAlign(),c=e.itemSize,p=this._getViewData(),u=p.endsText,h=Kr(e.get("showLabel",!0),!u),d=!e.get("selectedMode");u&&this._renderEndsText(t,u[0],c,h,l),M(p.viewPieceList,function(v){var y=v.piece,f=new bt;f.onclick=H(this._onItemClick,this,y),this._enableHoverLink(f,v.indexInModelPieceList);var m=e.getRepresentValue(y);if(this._createItemSymbol(f,m,[0,0,c[0],c[1]],d),h){var b=this.visualMapModel.getValueState(m);f.add(new Y({style:{x:l==="right"?-i:c[0]+i,y:c[1]/2,text:y.text,verticalAlign:"middle",align:l,font:n,fill:s,opacity:b==="outOfRange"?.5:1},silent:d}))}t.add(f)},this),u&&this._renderEndsText(t,u[1],c,h,l),qr(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},r.prototype._enableHoverLink=function(t,e){var i=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(n){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:n,batch:_t(s.findTargetDataIndices(e),s)})}},r.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if(e.orient==="vertical")return Ye(t,this.api,t.itemSize);var i=e.align;return(!i||i==="auto")&&(i="left"),i},r.prototype._renderEndsText=function(t,e,i,a,n){if(e){var s=new bt,l=this.visualMapModel.textStyleModel;s.add(new Y({style:Z(l,{x:a?n==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?n:"center",text:e})})),t.add(s)}},r.prototype._getViewData=function(){var t=this.visualMapModel,e=at(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=t.get("text"),a=t.get("orient"),n=t.get("inverse");return(a==="horizontal"?n:!n)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},r.prototype._createItemSymbol=function(t,e,i,a){var n=Kt(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color"));n.silent=a,t.add(n)},r.prototype._onItemClick=function(t){var e=this.visualMapModel,i=e.option,a=i.selectedMode;if(a){var n=B(i.selected),s=e.getSelectedMapKey(t);a==="single"||a===!0?(n[s]=!0,M(n,function(l,c){n[c]=c===s})):n[s]=!n[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}},r.type="visualMap.piecewise",r}(qe);function Ia(o){o.registerComponentModel(wa),o.registerComponentView(ka),Qe(o)}function Ca(o){ct(Sa),ct(Ia)}const Da={class:"rounded-lg bg-card-background border-card-border shadow-card border px-3.5 py-2.5"},Va={class:"font-semibold text-sm text-text-secondary"},Ta={class:"text-2xl text-text-primary pt-1 font-semibold"},Wt=A({__name:"StatCard",props:{title:{},value:{}},setup(o){return(r,t)=>(_(),k("div",Da,[S("dt",Va,q(r.title),1),S("dd",Ta,q(r.value??"--"),1)]))}}),za=A({__name:"ProjectsChartCard",props:{weeklyProjectOverview:{}},setup(o){ct([te,Yr,ee,Fe,re,Ge]),Jt(ie,"dark");const r=X("--color-text-secondary",null,{observe:!0}),t=o,e=wt("organization"),i=t.weeklyProjectOverview.map(n=>({...n,itemStyle:{color:`${n.color}BB`},emphasis:{itemStyle:{color:`${n.color}`}}})),a=V(()=>({tooltip:{trigger:"item"},legend:{bottom:"bottom",top:"250px",textStyle:{color:r.value}},backgroundColor:"transparent",series:[{label:{show:!1},tooltip:{valueFormatter:n=>{var s,l;return it(n,(s=e==null?void 0:e.value)==null?void 0:s.interval_format,(l=e==null?void 0:e.value)==null?void 0:l.number_format)}},data:i,top:"-45%",radius:["30%","60%"],type:"pie"}]}));return(n,s)=>(_(),P(g(kt),{class:"h-[420px] max-w-[300px] mx-auto bg-transparent",autoresize:!0,option:a.value},null,8,["option"]))}}),La={class:"grid space-y-5 sm:space-y-0 sm:gap-x-6 xl:gap-x-6 grid-cols-1 lg:grid-cols-3 xl:grid-cols-4"},Oa={class:"col-span-2 xl:col-span-3"},Ra={class:"space-y-6"},Pa=A({__name:"ThisWeekOverview",setup(o){ct([te,Qr,ee,Fe,re,Ge]),Jt(ie,"dark");const r=V(()=>{const v=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],y={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"};if(y[oe()]){const f=[],m=v.indexOf(y[oe()]);for(let b=m;b<7+m;b++)f.push(v[b%v.length]);return f}else return v}),t=X("--theme-color-chart",null,{observe:!0}),e=V(()=>ht()),i=wt("organization"),{data:a}=j({queryKey:["weeklyProjectOverview",e],queryFn:()=>K.weeklyProjectOverview({params:{organization:e.value}}),enabled:V(()=>!!e.value)}),{data:n}=j({queryKey:["totalWeeklyTime",e],queryFn:()=>K.totalWeeklyTime({params:{organization:e.value}}),enabled:V(()=>!!e.value)}),{data:s}=j({queryKey:["totalWeeklyBillableTime",e],queryFn:()=>K.totalWeeklyBillableTime({params:{organization:e.value}}),enabled:V(()=>!!e.value)}),{data:l}=j({queryKey:["totalWeeklyBillableAmount",e],queryFn:()=>K.totalWeeklyBillableAmount({params:{organization:e.value}}),enabled:V(()=>!!e.value)}),{data:c}=j({queryKey:["weeklyHistory",e],queryFn:()=>K.weeklyHistory({params:{organization:e.value}}),enabled:V(()=>!!e.value)}),p=V(()=>{var v;return c.value?(v=c.value)==null?void 0:v.map(y=>({value:y.duration,itemStyle:{borderColor:new mt(0,0,0,1,[{offset:0,color:"rgba("+t.value+",0.7)"},{offset:1,color:"rgba("+t.value+",0.5)"}]),emphasis:{color:new mt(0,0,0,1,[{offset:0,color:"rgba("+t.value+",0.9)"},{offset:1,color:"rgba("+t.value+",0.7)"}])},borderRadius:[12,12,0,0],color:new mt(0,0,0,1,[{offset:0,color:"rgba("+t.value+",0.7)"},{offset:1,color:"rgba("+t.value+",0.5)"}])}})):[]}),u=X("--color-border-secondary",null,{observe:!0}),h=X("--color-text-secondary",null,{observe:!0}),d=V(()=>({tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:50,left:0},backgroundColor:"transparent",xAxis:{type:"category",data:r.value,axisLine:{lineStyle:{color:"transparent"}},axisLabel:{fontSize:16,fontWeight:600,margin:24,fontFamily:"Outfit, sans-serif",color:h.value},axisTick:{lineStyle:{color:"transparent"}}},yAxis:{type:"value",splitLine:{lineStyle:{color:u.value}}},series:[{data:p.value,type:"bar",tooltip:{valueFormatter:v=>{var y,f;return it(v,(y=i==null?void 0:i.value)==null?void 0:y.interval_format,(f=i==null?void 0:i.value)==null?void 0:f.number_format)}}}]}));return(v,y)=>{var f,m,b,x,D,I,w;return _(),k("div",La,[S("div",Oa,[C(Pe,{title:"This Week",class:"pb-8",icon:g(Zr)},null,8,["icon"]),g(c)?(_(),P(g(kt),{key:0,autoresize:!0,class:"chart",option:d.value},null,8,["option"])):Q("",!0)]),S("div",Ra,[C(Wt,{title:"Spent Time",value:g(n)?g(it)(g(n),(f=g(i))==null?void 0:f.interval_format,(m=g(i))==null?void 0:m.number_format):"--"},null,8,["value"]),C(Wt,{title:"Billable Time",value:g(s)?g(it)(g(s),(b=g(i))==null?void 0:b.interval_format,(x=g(i))==null?void 0:x.number_format):"--"},null,8,["value"]),C(Wt,{title:"Billable Amount",value:g(l)?g(Ur)(g(l).value,g(cr)(),(D=g(i))==null?void 0:D.currency_format,(I=g(i))==null?void 0:I.currency_symbol,(w=g(i))==null?void 0:w.number_format):"--"},null,8,["value"]),g(a)?(_(),P(za,{key:0,"weekly-project-overview":g(a)},null,8,["weekly-project-overview"])):Q("",!0)])])}}}),Aa=Xr(Pa,[["__scopeId","data-v-c77ccbac"]]),$a={class:"px-2"},Ha={key:0,class:"flex justify-center items-center h-40"},Ea={key:1},Na={key:2,class:"text-center text-gray-500 py-8"},Wa=A({__name:"ActivityGraphCard",setup(o){const r=wt("organization"),t=V(()=>ht()),{data:e,isLoading:i}=j({queryKey:["dailyTrackedHours",t],queryFn:()=>K.dailyTrackedHours({params:{organization:t.value}}),enabled:V(()=>!!t.value)});ct([ee,re,Ca,ia,Ji,te]),Jt(ie,"dark");const a=V(()=>!i.value&&e.value?Math.max(Math.max(...e.value.map(c=>c.duration)),1):1),n=X("--color-card-background",null,{observe:!0}),s=X("--color-bg-tertiary",null,{observe:!0}),l=V(()=>{var c;return{tooltip:{},visualMap:{min:0,max:a.value,type:"piecewise",orient:"horizontal",left:"center",top:"center",inRange:{color:[s.value,"#2DBE45"]},show:!1},calendar:{top:40,bottom:20,left:40,right:10,cellSize:[40,40],dayLabel:{firstDay:or.value},splitLine:{show:!1},range:[pr().format("YYYY-MM-DD"),Re()().subtract(50,"day").startOf("week").format("YYYY-MM-DD")],itemStyle:{color:"transparent",borderWidth:8,borderColor:n.value},yearLabel:{show:!1}},series:{type:"heatmap",coordinateSystem:"calendar",data:((c=e==null?void 0:e.value)==null?void 0:c.map(p=>[p.date,p.duration]))??[],itemStyle:{borderRadius:5,borderColor:"rgba(255,255,255,0.05)",borderWidth:1},tooltip:{valueFormatter:(p,u)=>{var h,d,v;return e!=null&&e.value?sr(e==null?void 0:e.value[u].date,(h=r==null?void 0:r.value)==null?void 0:h.date_format)+": "+it(p,(d=r==null?void 0:r.value)==null?void 0:d.interval_format,(v=r==null?void 0:r.value)==null?void 0:v.number_format):""}}},backgroundColor:"transparent"}});return(c,p)=>(_(),P(It,{title:"Activity Graph",icon:g(Jr)},{default:E(()=>[S("div",$a,[g(i)?(_(),k("div",Ha,[C(g(Mt))])):g(e)?(_(),k("div",Ea,[C(g(kt),{class:"chart",autoresize:!0,option:l.value,style:{height:"260px","background-color":"transparent"}},null,8,["option"])])):(_(),k("div",Na," No activity data available "))])]),_:1},8,["icon"]))}}),Hn=A({__name:"Dashboard",setup(o){const r=ur(),t=()=>{r.invalidateQueries({queryKey:["latestTasks"]}),r.invalidateQueries({queryKey:["lastSevenDays"]}),r.invalidateQueries({queryKey:["dailyTrackedHours"]}),r.invalidateQueries({queryKey:["latestTeamActivity"]}),r.invalidateQueries({queryKey:["weeklyProjectOverview"]}),r.invalidateQueries({queryKey:["totalWeeklyTime"]}),r.invalidateQueries({queryKey:["totalWeeklyBillableTime"]}),r.invalidateQueries({queryKey:["totalWeeklyBillableAmount"]}),r.invalidateQueries({queryKey:["weeklyHistory"]}),r.invalidateQueries({queryKey:["timeEntries"]})};return(e,i)=>(_(),P(Ze,{title:"Dashboard","data-testid":"dashboard_view"},{default:E(()=>[C(At,{class:"pt-5 sm:pt-8 pb-4 sm:pb-6 border-b border-default-background-separator"},{default:E(()=>[C(Xe,{onChange:t})]),_:1}),C(At,{class:"grid gap-5 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 pt-3 sm:pt-5 pb-4 sm:pb-6 border-b border-default-background-separator items-stretch"},{default:E(()=>[C(mi),C(Vi),C(Wa),g(hr)()?(_(),P(Wi,{key:0,class:"flex lg:hidden xl:flex"})):Q("",!0)]),_:1}),C(At,{class:"py-5"},{default:E(()=>[C(Aa)]),_:1})]),_:1}))}});export{Hn as default};
