{"version":3,"file":"Collection-DeTUl_xM.js","sources":["../../../node_modules/reka-ui/dist/shared/useDirection.js","../../../node_modules/reka-ui/dist/Collection/Collection.js"],"sourcesContent":["import { ref, computed } from 'vue';\nimport { i as injectConfigProviderContext } from '../ConfigProvider/ConfigProvider.js';\n\nfunction useDirection(dir) {\n  const context = injectConfigProviderContext({\n    dir: ref(\"ltr\")\n  });\n  return computed(() => dir?.value || context.dir?.value || \"ltr\");\n}\n\nexport { useDirection as u };\n//# sourceMappingURL=useDirection.js.map\n","import { ref, provide, inject, defineComponent, watch, h, watchEffect, markRaw, computed } from 'vue';\nimport { u as usePrimitiveElement } from '../Primitive/usePrimitiveElement.js';\nimport { S as Slot } from '../Primitive/Slot.js';\n\nconst ITEM_DATA_ATTR = \"data-reka-collection-item\";\nfunction useCollection(options = {}) {\n  const { key = \"\", isProvider = false } = options;\n  const injectionKey = `${key}CollectionProvider`;\n  let context;\n  if (isProvider) {\n    const itemMap = ref(/* @__PURE__ */ new Map());\n    const collectionRef = ref();\n    context = {\n      collectionRef,\n      itemMap\n    };\n    provide(injectionKey, context);\n  } else {\n    context = inject(injectionKey);\n  }\n  const getItems = (includeDisabledItem = false) => {\n    const collectionNode = context.collectionRef.value;\n    if (!collectionNode)\n      return [];\n    const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n    const items = Array.from(context.itemMap.value.values());\n    const orderedItems = items.sort(\n      (a, b) => orderedNodes.indexOf(a.ref) - orderedNodes.indexOf(b.ref)\n    );\n    if (includeDisabledItem)\n      return orderedItems;\n    else\n      return orderedItems.filter((i) => i.ref.dataset.disabled !== \"\");\n  };\n  const CollectionSlot = defineComponent({\n    name: \"CollectionSlot\",\n    setup(_, { slots }) {\n      const { primitiveElement, currentElement } = usePrimitiveElement();\n      watch(currentElement, () => {\n        context.collectionRef.value = currentElement.value;\n      });\n      return () => h(Slot, { ref: primitiveElement }, slots);\n    }\n  });\n  const CollectionItem = defineComponent({\n    name: \"CollectionItem\",\n    inheritAttrs: false,\n    props: {\n      value: {\n        // It accepts any value\n        validator: () => true\n      }\n    },\n    setup(props, { slots, attrs }) {\n      const { primitiveElement, currentElement } = usePrimitiveElement();\n      watchEffect((cleanupFn) => {\n        if (currentElement.value) {\n          const key2 = markRaw(currentElement.value);\n          context.itemMap.value.set(key2, { ref: currentElement.value, value: props.value });\n          cleanupFn(() => context.itemMap.value.delete(key2));\n        }\n      });\n      return () => h(Slot, { ...attrs, [ITEM_DATA_ATTR]: \"\", ref: primitiveElement }, slots);\n    }\n  });\n  const reactiveItems = computed(() => Array.from(context.itemMap.value.values()));\n  const itemMapSize = computed(() => context.itemMap.value.size);\n  return { getItems, reactiveItems, itemMapSize, CollectionSlot, CollectionItem };\n}\n\nexport { useCollection as u };\n//# sourceMappingURL=Collection.js.map\n"],"names":["useDirection","dir","context","injectConfigProviderContext","ref","computed","_a","ITEM_DATA_ATTR","useCollection","options","key","isProvider","injectionKey","itemMap","provide","inject","getItems","includeDisabledItem","collectionNode","orderedNodes","orderedItems","a","b","CollectionSlot","defineComponent","_","slots","primitiveElement","currentElement","usePrimitiveElement","watch","h","Slot","CollectionItem","props","attrs","watchEffect","cleanupFn","key2","markRaw","reactiveItems","itemMapSize"],"mappings":"8LAGA,SAASA,EAAaC,EAAK,CACzB,MAAMC,EAAUC,EAA4B,CAC1C,IAAKC,EAAI,KAAK,CAClB,CAAG,EACD,OAAOC,EAAS,IAAA,OAAM,OAAAJ,GAAA,YAAAA,EAAK,UAASK,EAAAJ,EAAQ,MAAR,YAAAI,EAAa,QAAS,MAAK,CACjE,CCJA,MAAMC,EAAiB,4BACvB,SAASC,EAAcC,EAAU,GAAI,CACnC,KAAM,CAAE,IAAAC,EAAM,GAAI,WAAAC,EAAa,EAAK,EAAKF,EACnCG,EAAe,GAAGF,CAAG,qBAC3B,IAAIR,EACJ,GAAIS,EAAY,CACd,MAAME,EAAUT,EAAoB,IAAI,GAAK,EAE7CF,EAAU,CACR,cAFoBE,EAAG,EAGvB,QAAAS,CACN,EACIC,EAAQF,EAAcV,CAAO,CACjC,MACIA,EAAUa,EAAOH,CAAY,EAE/B,MAAMI,EAAW,CAACC,EAAsB,KAAU,CAChD,MAAMC,EAAiBhB,EAAQ,cAAc,MAC7C,GAAI,CAACgB,EACH,MAAO,CAAA,EACT,MAAMC,EAAe,MAAM,KAAKD,EAAe,iBAAiB,IAAIX,CAAc,GAAG,CAAC,EAEhFa,EADQ,MAAM,KAAKlB,EAAQ,QAAQ,MAAM,QAAQ,EAC5B,KACzB,CAACmB,EAAGC,IAAMH,EAAa,QAAQE,EAAE,GAAG,EAAIF,EAAa,QAAQG,EAAE,GAAG,CACxE,EACI,OAAIL,EACKG,EAEAA,EAAa,OAAQ,GAAM,EAAE,IAAI,QAAQ,WAAa,EAAE,CACrE,EACQG,EAAiBC,EAAgB,CACrC,KAAM,iBACN,MAAMC,EAAG,CAAE,MAAAC,GAAS,CAClB,KAAM,CAAE,iBAAAC,EAAkB,eAAAC,CAAc,EAAKC,EAAmB,EAChE,OAAAC,EAAMF,EAAgB,IAAM,CAC1B1B,EAAQ,cAAc,MAAQ0B,EAAe,KACrD,CAAO,EACM,IAAMG,EAAEC,EAAM,CAAE,IAAKL,CAAgB,EAAID,CAAK,CAC3D,CACA,CAAG,EACKO,EAAiBT,EAAgB,CACrC,KAAM,iBACN,aAAc,GACd,MAAO,CACL,MAAO,CAEL,UAAW,IAAM,EACzB,CACA,EACI,MAAMU,EAAO,CAAE,MAAAR,EAAO,MAAAS,CAAK,EAAI,CAC7B,KAAM,CAAE,iBAAAR,EAAkB,eAAAC,CAAc,EAAKC,EAAmB,EAChE,OAAAO,EAAaC,GAAc,CACzB,GAAIT,EAAe,MAAO,CACxB,MAAMU,EAAOC,EAAQX,EAAe,KAAK,EACzC1B,EAAQ,QAAQ,MAAM,IAAIoC,EAAM,CAAE,IAAKV,EAAe,MAAO,MAAOM,EAAM,KAAK,CAAE,EACjFG,EAAU,IAAMnC,EAAQ,QAAQ,MAAM,OAAOoC,CAAI,CAAC,CAC5D,CACA,CAAO,EACM,IAAMP,EAAEC,EAAM,CAAE,GAAGG,EAAO,CAAC5B,CAAc,EAAG,GAAI,IAAKoB,CAAgB,EAAID,CAAK,CAC3F,CACA,CAAG,EACKc,EAAgBnC,EAAS,IAAM,MAAM,KAAKH,EAAQ,QAAQ,MAAM,OAAM,CAAE,CAAC,EACzEuC,EAAcpC,EAAS,IAAMH,EAAQ,QAAQ,MAAM,IAAI,EAC7D,MAAO,CAAE,SAAAc,EAAU,cAAAwB,EAAe,YAAAC,EAAa,eAAAlB,EAAgB,eAAAU,CAAc,CAC/E","x_google_ignoreList":[0,1]}