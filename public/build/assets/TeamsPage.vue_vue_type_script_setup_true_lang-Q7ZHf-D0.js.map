{"version":3,"file":"TeamsPage.vue_vue_type_script_setup_true_lang-Q7ZHf-D0.js","sources":["../../../resources/js/stores/app.ts","../../../resources/js/Pages/Teams/TeamsPage.vue"],"sourcesContent":["import type { Manager, Project, Team, User } from '@/Pages/Members.vue'\r\nimport axios from 'axios'\r\nimport { defineStore } from 'pinia'\r\nimport { ref, reactive } from 'vue'\r\n\r\nexport const useAppStore = defineStore('app', () => {\r\n  // main lists\r\n  const users = ref<User[]>([])\r\n  const projects = ref<Project[]>([])\r\n  const teams = ref<Team[]>([])\r\n  const managers = ref<User[]>([])\r\n\r\n  // selections\r\n  const selectedManagers = reactive<Record<string, User[]>>({})\r\n  const selectedProject = reactive<Record<string, Project[]>>({})\r\n  const selectedUsers = reactive<Record<string, User[]>>({})\r\n  const selectedUserIds = reactive<Record<string, string[]>>({})\r\n  const selectedProjectIds = reactive<Record<string, string[]>>({})\r\n\r\n  const currentOrganization = ref<string>('')\r\n\r\n  // loading & error states\r\n  const isLoading = ref(false)\r\n  const error = ref<string | null>(null)\r\n\r\n  // async fetch\r\n  async function fetchCurrentOrg() {\r\n    isLoading.value = true\r\n    error.value = null\r\n\r\n    try {\r\n      const res = await axios.post(`/get/current/org`)\r\n\r\n      currentOrganization.value = res.data.org\r\n      projects.value = res.data.projects\r\n      users.value = res.data.user\r\n      teams.value = res.data.teams\r\n      managers.value = []\r\n\r\n      // build selections\r\n      teams.value.forEach((team) => {\r\n        selectedUsers[team.id] = [...team.users]\r\n        selectedUserIds[team.id] = team.users.map((u) => u.id)\r\n\r\n        selectedProjectIds[team.id] = team.projects.map((p) => p.id)\r\n        selectedProject[team.id] = [...team.projects]\r\n      })\r\n\r\n      res.data.managers.forEach((manager: Manager) => {\r\n        const admins = manager.users.filter(\r\n          (user) => user.organizations[0].membership.role === 'admin'\r\n        )\r\n        const managersOnly = manager.users.filter(\r\n          (user) => user.organizations[0].membership.role === 'manager'\r\n        )\r\n\r\n        if (admins.length > 0) {\r\n          selectedManagers[manager.id] = admins\r\n          managers.value.push(...admins)\r\n        } else if (managersOnly.length > 0) {\r\n          selectedManagers[manager.id] = managersOnly\r\n          managers.value.push(...managersOnly)\r\n        }\r\n      })\r\n    } catch (err: any) {\r\n      error.value = err.message ?? 'Failed to fetch organization'\r\n      console.error('‚ùå fetchCurrentOrg error:', err)\r\n    } finally {\r\n      isLoading.value = false\r\n    }\r\n  }\r\n\r\n  // auto-fetch once when store is first used\r\n  fetchCurrentOrg()\r\n\r\n  return {\r\n    users,\r\n    projects,\r\n    teams,\r\n    managers,\r\n    selectedManagers,\r\n    selectedProject,\r\n    selectedUsers,\r\n    selectedUserIds,\r\n    selectedProjectIds,\r\n    currentOrganization,\r\n    isLoading,\r\n    error,\r\n    fetchCurrentOrg,\r\n  }\r\n})\r\n","<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from \"vue\"\nimport axios from \"axios\"\n\nimport MultiselectDropdown from \"@/packages/ui/src/Input/MultiselectDropdown.vue\"\nimport { UserGroupIcon } from \"@heroicons/vue/20/solid\"\nimport { TrashIcon, PencilSquareIcon } from \"@heroicons/vue/20/solid\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/Components/ui/dropdown-menu\"\nimport Modal from \"@/packages/ui/src/Modal.vue\"\nimport type { Project, Team, User } from \"../Members.vue\"\n\nimport { useAppStore } from \"@/stores/app\"\n\nconst store = useAppStore()\n\nconst newTeamName = ref(\"\")\nconst search = ref(\"\")\n\n// search filter based on store.teams\nconst filteredTeams = computed(() => {\n  const term = search.value.toLowerCase().trim()\n  return store.teams.filter((team) => team.name.toLowerCase().includes(term))\n})\n\n// ----------------------------\n// Helpers for multiselect\n// ----------------------------\nconst getKeyFromItem = (item: any) => item.id\nconst getNameForItem = (item: any) => item.name\n\n// ----------------------------\n// Team actions\n// ----------------------------\nasync function createTeam() {\n  if (!newTeamName.value.trim()) return\n  await axios.post(`/organizations/teams`, { name: newTeamName.value.trim() })\n  newTeamName.value = \"\"\n  await store.fetchCurrentOrg()\n}\n\nasync function assignProject(teamId: string, projectId: string) {\n  await axios.post(`/teams/${teamId}/assign-project`, { project_id: projectId })\n  await store.fetchCurrentOrg()\n}\n\nasync function removeProject(team: Team, project: Project) {\n  await axios.delete(`/teams/${team.id}/projects/${project.id}`)\n  await store.fetchCurrentOrg()\n}\n\nasync function removeGroup(team: Team) {\n  await axios.delete(`/teams/${team.id}`)\n  openDelete.value = false\n  await store.fetchCurrentOrg()\n}\n\nasync function updateGroup(team: Team, name: string) {\n  await axios.post(`/teams/${team.id}/name/${name}`)\n  openEdit.value = false\n  await store.fetchCurrentOrg()\n}\n\nasync function addMemberToTeam(teamId: string, userList: User[]) {\n  const userIds = userList.map((u) => u.id)\n  await axios.post(`/teams/${teamId}/assign-members`, { user_ids: userIds })\n  await store.fetchCurrentOrg()\n}\n\nasync function removeMemberFromTeam(teamId: string, user: User) {\n  await axios.delete(`/teams/${teamId}/members/${user.id}`)\n  await store.fetchCurrentOrg()\n}\n\n// ----------------------------\n// Selections\n// ----------------------------\nfunction onUsersChangedFromId(teamId: string) {\n  const selectedIds = store.selectedUserIds[teamId] || []\n  const selectedUserObjects = store.users.filter((user) =>\n    selectedIds.includes(user.id)\n  )\n  store.selectedUsers[teamId] = selectedUserObjects\n  addMemberToTeam(teamId, selectedUserObjects)\n}\n\nfunction onProjectsChangedFromId(teamId: string) {\n  const currentIds = store.selectedProjectIds[teamId] || []\n  const oldIds = (store.selectedProject[teamId] || []).map((p: any) => p.id)\n\n  const addedIds = currentIds.filter((id) => !oldIds.includes(id))\n\n  const selectedProjectObjects = store.projects.filter((project) =>\n    currentIds.includes(project.id)\n  )\n\n  store.selectedProject[teamId] = selectedProjectObjects\n\n  addedIds.forEach((projectId) => {\n    assignProject(teamId, projectId)\n  })\n}\n\n// ----------------------------\n// Edit & delete modals\n// ----------------------------\nconst editGroupName = ref<string>(\"\")\nconst openEdit = ref<boolean>(false)\nconst selectedTeam = ref<Team | null>(null)\nconst openDelete = ref<boolean>(false)\n\nfunction openEditModal(team: Team) {\n  selectedTeam.value = team\n  editGroupName.value = team.name\n  openEdit.value = true\n}\nfunction openDeleteModal(team: Team) {\n  selectedTeam.value = team\n  editGroupName.value = team.name\n  openDelete.value = true\n}\n\n// ----------------------------\n// Lifecycle\n// ----------------------------\nonMounted(() => {\n  store.fetchCurrentOrg()\n})\n</script>\n\n<template>\n  <div class=\"flow-root max-w-[100vw] overflow-x-auto p-4\" style=\"min-height: 80vh\">\n    <div class=\"inline-block min-w-full align-middle bg-default-background p-5 rounded-md\">\n      <h2 class=\"text-xl font-bold mb-4\">Teams</h2>\n\n      <div class=\"flex mb-4 gap-2\">\n        <input\n          v-model=\"search\"\n          placeholder=\"Search team name...\"\n          class=\"border border-gray-300 rounded px-3 py-2 w-full dark:border-[#303F61] dark:bg-[#0F1426] dark:text-[#7D88A1] hover:dark:text-[#BFC7D6]\"\n        />\n      </div>\n\n      <form @submit.prevent=\"createTeam\" class=\"mb-6 flex gap-2\">\n        <input\n          v-model=\"newTeamName\"\n          placeholder=\"New team name\"\n          class=\"border border-gray-300 p-2 rounded flex-1 dark:border-[#303F61] dark:bg-[#0F1426] dark:text-[#7D88A1] hover:dark:text-[#BFC7D6]\"\n        />\n        <button\n          class=\"dark:border-[#303F61] dark:bg-[#2770DB] dark:text-[#FFFFFF] hover:dark:text-[#BFC7D6] px-4 py-2 rounded\"\n        >\n          Add Team\n        </button>\n      </form>\n\n      <table class=\"w-full\">\n        <thead>\n          <tr>\n            <th class=\"text-left px-4 py-2\">Group</th>\n            <th class=\"text-left px-4 py-2\">Members</th>\n            <th class=\"text-left px-4 py-2\">Projects</th>\n            <th class=\"text-left px-4 py-2\">Managers</th>\n            <th class=\"text-left px-4 py-2\">Action</th>\n          </tr>\n        </thead>\n        <tbody class=\"dark:bg-gray-900 w-full\">\n          <tr\n            v-for=\"team in filteredTeams\"\n            :key=\"team.id\"\n            class=\"border border-t-2 border-x-0 border-gray-700 rounded p-3 mb-2 shadow-sm gap-4 w-full\"\n          >\n            <!-- Team info -->\n            <td class=\"px-4 py-2 align-top\">\n              <div class=\"font-semibold text-lg\">{{ team.name }}</div>\n              <div class=\"flex gap-2\">\n                <div class=\"text-sm\">\n                  {{ team.projects.length }} project{{ team.projects.length !== 1 ? \"s\" : \"\" }}\n                </div>\n                <div class=\"text-sm\">\n                  {{ team.users.length }} member{{ team.users.length !== 1 ? \"s\" : \"\" }}\n                </div>\n              </div>\n            </td>\n\n            <!-- Members -->\n            <td class=\"px-4 py-2 align-top\">\n              <MultiselectDropdown\n                :model-value=\"store.selectedUserIds[team.id] || []\"\n                @update:modelValue=\"(val) => (store.selectedUserIds[team.id] = val)\"\n                :items=\"store.users\"\n                search-placeholder=\"Select Users\"\n                :getKeyFromItem=\"getKeyFromItem\"\n                :getNameForItem=\"getNameForItem\"\n                @changed=\"onUsersChangedFromId(team.id)\"\n              >\n                <template #trigger>\n                  <div class=\"text-sm flex border rounded px-3 py-1 w-full\">\n                    <UserGroupIcon class=\"w-5 mr-2\"></UserGroupIcon>\n                    Select Users...\n                  </div>\n                </template>\n              </MultiselectDropdown>\n\n              <div class=\"flex gap-1 mt-2 flex-wrap\">\n                <span\n                  v-for=\"user in store.selectedUsers[team.id]\"\n                  :key=\"user.id\"\n                  class=\"text-xs px-2 py-1 rounded\"\n                >\n                  {{ user.name }}\n                </span>\n              </div>\n            </td>\n\n            <!-- Projects -->\n            <td class=\"px-4 py-2 align-top\">\n              <MultiselectDropdown\n                :model-value=\"store.selectedProjectIds[team.id] || []\"\n                @update:modelValue=\"(val) => (store.selectedProjectIds[team.id] = val)\"\n                :items=\"store.projects\"\n                search-placeholder=\"Select Projects\"\n                :getKeyFromItem=\"getKeyFromItem\"\n                :getNameForItem=\"getNameForItem\"\n                @changed=\"onProjectsChangedFromId(team.id)\"\n              >\n                <template #trigger>\n                  <div class=\"text-sm flex border rounded px-3 py-1 w-full\">\n                    <UserGroupIcon class=\"w-5 mr-2\"></UserGroupIcon>\n                    Select Projects...\n                  </div>\n                </template>\n              </MultiselectDropdown>\n\n              <div class=\"flex gap-1 mt-2 flex-wrap\">\n                <span\n                  v-for=\"project in store.selectedProject[team.id]\"\n                  :key=\"project.id\"\n                  class=\"text-xs px-2 py-1 rounded\"\n                >\n                  {{ project.name }}\n                </span>\n              </div>\n            </td>\n\n            <!-- Managers -->\n            <td class=\"px-4 py-2 align-top\">\n              <div class=\"flex gap-1 mt-2 flex-wrap\">\n                <span\n                  v-for=\"manager in store.selectedManagers[team.id]\"\n                  :key=\"manager.id\"\n                  class=\"bg-default-background text-xs px-2 py-1 rounded\"\n                >\n                  {{ manager.name }}\n                </span>\n              </div>\n            </td>\n\n            <!-- Actions -->\n            <td class=\"relative\">\n              <div class=\"absolute\" style=\"top: 50%; left: 50%; transform: translate(-50%, -50%)\">\n                <DropdownMenu>\n                  <DropdownMenuTrigger as-child>\n                    <button\n                      class=\"text-gray-800 my-auto focus-visible:outline-none focus-visible:bg-card-background rounded-full focus-visible:ring-2 focus-visible:ring-ring focus-visible:opacity-100 hover:bg-card-background group-hover:opacity-100 opacity-60 transition-opacity\"\n                      :aria-label=\"'Actions for Group ' + team.name\"\n                    >\n                      <svg\n                        class=\"h-8 w-8 p-1 rounded-full text-gray-800\"\n                        viewBox=\"0 0 24 24\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                      >\n                        <path\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          stroke-linecap=\"round\"\n                          stroke-linejoin=\"round\"\n                          stroke-width=\"1.5\"\n                          d=\"M12 5.92A.96.96 0 1 0 12 4a.96.96 0 0 0 0 1.92m0 7.04a.96.96 0 1 0 0-1.92a.96.96 0 0 0 0 1.92M12 20a.96.96 0 1 0 0-1.92a.96.96 0 0 0 0 1.92\"\n                        />\n                      </svg>\n                    </button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent class=\"min-w-[150px]\" align=\"end\">\n                    <DropdownMenuItem\n                      @click=\"openEditModal(team)\"\n                      class=\"flex items-center space-x-3 cursor-pointer\"\n                    >\n                      <PencilSquareIcon class=\"w-5 text-icon-active\" />\n                      <span>Edit</span>\n                    </DropdownMenuItem>\n                    <DropdownMenuItem\n                      @click.prevent=\"openDeleteModal(team)\"\n                      class=\"flex items-center space-x-3 cursor-pointer text-destructive focus:text-destructive\"\n                    >\n                      <TrashIcon class=\"w-5\" />\n                      <span>Delete</span>\n                    </DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  <!-- Edit Modal -->\n  <Modal :show=\"openEdit\" @close=\"openEdit = false\">\n    <template #default>\n      <div class=\"p-5\">\n        <h2 class=\"text-lg font-bold mb-2\">\n          Edit Group Name on {{ selectedTeam?.name }}\n        </h2>\n        <input\n          v-model=\"editGroupName\"\n          type=\"text\"\n          id=\"GroupName\"\n          placeholder=\"Enter a Group Name\"\n          class=\"w-full rounded\"\n        />\n      </div>\n    </template>\n\n    <template #footer>\n      <div class=\"p-5\">\n        <button\n          @click=\"openEdit = false\"\n          class=\"bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700\"\n        >\n          Cancel\n        </button>\n        <button\n          @click=\"selectedTeam && updateGroup(selectedTeam, editGroupName)\"\n          class=\"bg-blue-800 text-white px-4 py-2 ml-2 rounded hover:bg-blue-700\"\n        >\n          Save\n        </button>\n      </div>\n    </template>\n  </Modal>\n\n  <!-- Delete Modal -->\n  <Modal :show=\"openDelete\" @close=\"openDelete = false\">\n    <template #default>\n      <div class=\"p-5\">\n        <h2 class=\"flex text-xl mb-2\">\n          Are you sure to delete Group\n          <h2 class=\"ml-2 text-xl font-bold mb-2\">{{ selectedTeam?.name }}?</h2>\n        </h2>\n        <div class=\"text-md mb-2\">This action can't be undone.</div>\n      </div>\n    </template>\n\n    <template #footer>\n      <div class=\"p-5\">\n        <button\n          @click=\"openDelete = false\"\n          class=\"bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700\"\n        >\n          Cancel\n        </button>\n        <button\n          @click=\"selectedTeam && removeGroup(selectedTeam)\"\n          class=\"bg-red-800 text-white px-4 py-2 ml-2 rounded hover:bg-red-700\"\n        >\n          Delete\n        </button>\n      </div>\n    </template>\n  </Modal>\n</template>\n"],"names":["useAppStore","defineStore","users","ref","projects","teams","managers","selectedManagers","reactive","selectedProject","selectedUsers","selectedUserIds","selectedProjectIds","currentOrganization","isLoading","error","fetchCurrentOrg","res","axios","team","u","p","manager","admins","user","managersOnly","err","store","newTeamName","search","filteredTeams","computed","term","getKeyFromItem","item","getNameForItem","createTeam","assignProject","teamId","projectId","removeGroup","openDelete","updateGroup","name","openEdit","addMemberToTeam","userList","userIds","onUsersChangedFromId","selectedIds","selectedUserObjects","onProjectsChangedFromId","currentIds","oldIds","addedIds","id","selectedProjectObjects","project","editGroupName","selectedTeam","openEditModal","openDeleteModal","onMounted","_createElementVNode","_hoisted_1","_hoisted_2","_cache","_hoisted_3","$event","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createVNode","MultiselectDropdown","_unref","val","_hoisted_12","UserGroupIcon","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","DropdownMenu","DropdownMenuTrigger","DropdownMenuContent","DropdownMenuItem","PencilSquareIcon","_withModifiers","TrashIcon","Modal","_hoisted_22","_hoisted_23","_a","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28"],"mappings":"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"}