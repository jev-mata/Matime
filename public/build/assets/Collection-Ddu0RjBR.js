import{q as S,r as p}from"./utils-DLNr0s0q.js";import{r as m,l as f,A as h,z as k,d,M as w,Y as P,L as M,B as T}from"./app-CZLkYVhz.js";import{u as A}from"./usePrimitiveElement-DVmz0I4p.js";function g(n){const u=S({dir:m("ltr")});return f(()=>{var s;return(n==null?void 0:n.value)||((s=u.dir)==null?void 0:s.value)||"ltr"})}const C="data-reka-collection-item";function q(n={}){const{key:u="",isProvider:s=!1}=n,v=`${u}CollectionProvider`;let e;if(s){const o=m(new Map);e={collectionRef:m(),itemMap:o},h(v,e)}else e=k(v);const y=(o=!1)=>{const t=e.collectionRef.value;if(!t)return[];const r=Array.from(t.querySelectorAll(`[${C}]`)),l=Array.from(e.itemMap.value.values()).sort((i,c)=>r.indexOf(i.ref)-r.indexOf(c.ref));return o?l:l.filter(i=>i.ref.dataset.disabled!=="")},E=d({name:"CollectionSlot",setup(o,{slots:t}){const{primitiveElement:r,currentElement:a}=A();return T(a,()=>{e.collectionRef.value=a.value}),()=>M(p,{ref:r},t)}}),x=d({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(o,{slots:t,attrs:r}){const{primitiveElement:a,currentElement:l}=A();return w(i=>{if(l.value){const c=P(l.value);e.itemMap.value.set(c,{ref:l.value,value:o.value}),i(()=>e.itemMap.value.delete(c))}}),()=>M(p,{...r,[C]:"",ref:a},t)}}),I=f(()=>Array.from(e.itemMap.value.values())),R=f(()=>e.itemMap.value.size);return{getItems:y,reactiveItems:I,itemMapSize:R,CollectionSlot:E,CollectionItem:x}}export{g as a,q as u};
//# sourceMappingURL=Collection-Ddu0RjBR.js.map
