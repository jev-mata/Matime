import{d as _,z as x,l as c,r as p,D as F,ae as T,o as h,e as w,q as v}from"./app-CZLkYVhz.js";import{a as E,q as k,p as B}from"./time-DR3Bm2fi.js";import{d as f}from"./utc-YQln_hJX.js";const j=_({__name:"TimeEntryRowDurationInput",props:{start:{},end:{}},emits:["changed"],setup(b,{emit:g}){const r=x("organization"),s=c(()=>{var t,e;return{intervalFormat:((t=r==null?void 0:r.value)==null?void 0:t.interval_format)??"hours-minutes",numberFormat:((e=r==null?void 0:r.value)==null?void 0:e.number_format)??"point"}}),a=b,y=g,n=p(""),u=p(!1);function i(){var o;const t=((o=s==null?void 0:s.value)==null?void 0:o.intervalFormat)==="decimal"?"hours":"minutes",{seconds:e}=B(n.value,t);if(e&&e>0){let m=a.end,d=a.start;a.end?m=f(a.start).utc().add(e,"s").format():d=f().utc().subtract(e,"s").format(),y("changed",d,m)}n.value=""}const l=c({get(){return n.value!==""?n.value:E(k(a.start,a.end),s.value.intervalFormat,s.value.numberFormat)},set(t){t?n.value=t:n.value=""}});function D(t){u.value=!0,t.target.select()}return(t,e)=>F((h(),w("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>l.value=o),"data-testid":"time_entry_duration_input",name:"Duration",class:"w-[90px] px-2.5 py-1.5 bg-transparent text-right hover:dark:bg-[#0C101E] rounded-lg border border-transparent hover:border-[#303F61]r text-sm font-semibold focus-visible:bg-tertiary focus-visible:border-transparent focus-visible:ring-2 focus-visible:ring-ring",onFocus:D,onKeydown:[e[1]||(e[1]=v(o=>u.value=!1,["tab"])),v(i,["enter"])],onBlur:i},null,544)),[[T,l.value]])}});export{j as _};
//# sourceMappingURL=TimeEntryRowDurationInput.vue_vue_type_script_setup_true_lang-G0TwUc7C.js.map
