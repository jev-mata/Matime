{"version":3,"file":"billing-BrKRBYHJ.js","sources":["../../../node_modules/@heroicons/vue/20/solid/esm/CreditCardIcon.js","../../../resources/js/utils/billing.ts"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.5 4A1.5 1.5 0 0 0 1 5.5V6h18v-.5A1.5 1.5 0 0 0 17.5 4h-15ZM19 8.5H1v6A1.5 1.5 0 0 0 2.5 16h15a1.5 1.5 0 0 0 1.5-1.5v-6ZM3 13.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75Zm4.75-.75a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","import { usePage } from '@inertiajs/vue3';\nimport { getDayJsInstance } from '@/packages/ui/src/utils/time';\n\nexport function isBillingActivated() {\n    const page = usePage<{\n        has_billing_extension: boolean;\n    }>();\n\n    return page.props.has_billing_extension;\n}\n\nexport function isInvoicingActivated() {\n    const page = usePage<{\n        has_invoicing_extension: boolean;\n    }>();\n\n    return page.props.has_invoicing_extension;\n}\n\nexport function isInTrial() {\n    const page = usePage<{\n        billing: {\n            has_trial: boolean;\n        };\n    }>();\n\n    return page.props.billing.has_trial;\n}\n\nexport function daysLeftInTrial() {\n    const page = usePage<{\n        billing: {\n            trial_until: string;\n        };\n    }>();\n\n    return (\n        getDayJsInstance()(page.props.billing.trial_until).diff(\n            getDayJsInstance()(),\n            'days'\n        ) + 1\n    );\n}\n\nexport function isBlocked() {\n    const page = usePage<{\n        billing: {\n            is_blocked: boolean;\n        };\n    }>();\n\n    return page.props.billing.is_blocked;\n}\n\nexport function isFreePlan() {\n    return !hasActiveSubscription() && !isInTrial();\n}\n\nexport function hasActiveSubscription() {\n    const page = usePage<{\n        billing: {\n            has_subscription: boolean;\n        };\n    }>();\n\n    return page.props.billing.has_subscription;\n}\n\nexport function isAllowedToPerformPremiumAction() {\n    return (\n        !isBillingActivated() ||\n        (isBillingActivated() && hasActiveSubscription()) ||\n        (isBillingActivated() && isInTrial())\n    );\n}\n"],"names":["render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","isBillingActivated","usePage","isInvoicingActivated","isInTrial","daysLeftInTrial","page","getDayJsInstance","isBlocked","isFreePlan","hasActiveSubscription","isAllowedToPerformPremiumAction"],"mappings":"kGAEe,SAASA,EAAOC,EAAMC,EAAQ,CAC3C,OAAQC,EAAU,EAAIC,EAAoB,MAAO,CAC/C,MAAO,6BACP,QAAS,YACT,KAAM,eACN,cAAe,OACf,YAAa,MACjB,EAAK,CACDC,EAAoB,OAAQ,CAC1B,YAAa,UACb,EAAG,qQACH,YAAa,SACnB,CAAK,CACL,CAAG,CACH,CCbO,SAASC,GAAqB,CAKjC,OAJaC,EAAA,EAID,MAAM,qBACtB,CAEO,SAASC,GAAuB,CAKnC,OAJaD,EAAA,EAID,MAAM,uBACtB,CAEO,SAASE,GAAY,CAOxB,OANaF,EAAA,EAMD,MAAM,QAAQ,SAC9B,CAEO,SAASG,GAAkB,CAC9B,MAAMC,EAAOJ,EAAA,EAMb,OACIK,IAAmBD,EAAK,MAAM,QAAQ,WAAW,EAAE,KAC/CC,IAAiB,EACjB,MAAA,EACA,CAEZ,CAEO,SAASC,GAAY,CAOxB,OANaN,EAAA,EAMD,MAAM,QAAQ,UAC9B,CAEO,SAASO,GAAa,CACzB,MAAO,CAACC,KAA2B,CAACN,EAAA,CACxC,CAEO,SAASM,GAAwB,CAOpC,OANaR,EAAA,EAMD,MAAM,QAAQ,gBAC9B,CAEO,SAASS,GAAkC,CAC9C,MACI,CAACV,KACAA,EAAA,GAAwBS,KACxBT,EAAA,GAAwBG,EAAA,CAEjC","x_google_ignoreList":[0]}