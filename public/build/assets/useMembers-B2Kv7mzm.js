import{C as f,r as p,l as g,H as w}from"./app-CZLkYVhz.js";import{b as m,a as n}from"./notification-BrLDF-00.js";import{g as o}from"./useUser-Dc3_Hjqo.js";const b=f("projects",()=>{const c=p(null),{handleApiRequestNotifications:i}=m();async function s(){const e=o();e&&(c.value=await i(()=>n.getProjects({params:{organization:e},queries:{archived:"all"}}),void 0,"Failed to fetch projects"))}async function l(e){const t=o();if(t){const r=await i(()=>n.createProject(e,{params:{organization:t}}),"Project created successfully","Failed to create project");return await s(),r.data}}async function u(e){const t=o();t&&(await i(()=>n.deleteProject(void 0,{params:{organization:t,project:e}}),"Project deleted successfully","Failed to delete project"),await s())}async function d(e,t){const r=o();r&&(await i(()=>n.updateProject(t,{params:{organization:r,project:e}}),"Project updated successfully","Failed to update project"),await s())}return{projects:g(()=>{var e;return((e=c.value)==null?void 0:e.data)||[]}),fetchProjects:s,createProject:l,deleteProject:u,updateProject:d}}),v=f("tasks",()=>{const c=p(w([])),{handleApiRequestNotifications:i}=m();async function s(){const a=o();if(a){const e=await i(()=>n.getTasks({params:{organization:a},queries:{done:"all"}}));e!=null&&e.data&&(c.value=e.data)}}async function l(a,e){const t=o();t&&(await i(()=>n.updateTask(e,{params:{task:a,organization:t}}),"Task updated successfully","Failed to update task"),await s())}async function u(a){const e=o();e&&(await i(()=>n.createTask(a,{params:{organization:e}}),"Task created successfully","Failed to create task"),await s())}async function d(a){const e=o();e&&(await i(()=>n.deleteTask(void 0,{params:{organization:e,task:a}}),"Task deleted successfully","Failed to delete task"),await s())}return{tasks:c,fetchTasks:s,updateTask:l,createTask:u,deleteTask:d}}),k=f("clients",()=>{const c=p(null),{handleApiRequestNotifications:i}=m();async function s(){const e=o();e&&(c.value=await i(()=>n.getClients({queries:{archived:"all"},params:{organization:e}}),void 0,"Failed to fetch clients"))}async function l(e){const t=o();if(t){const r=await i(()=>n.createClient(e,{params:{organization:t}}),"Client created successfully","Failed to create client");return await s(),r==null?void 0:r.data}}async function u(e,t){const r=o();r&&(await i(()=>n.updateClient(t,{params:{organization:r,client:e}}),"Client updated successfully","Failed to update client"),await s())}async function d(e){const t=o();t&&(await i(()=>n.deleteClient(void 0,{params:{organization:t,client:e}}),"Client deleted successfully","Failed to delete client"),await s())}return{clients:g(()=>{var e;return((e=c.value)==null?void 0:e.data)||[]}),fetchClients:s,createClient:l,deleteClient:d,updateClient:u}}),C=f("members",()=>{const c=p(null),{handleApiRequestNotifications:i}=m();async function s(){const a=o();a&&(c.value=await i(()=>n.getMembers({params:{organization:a}}),void 0,"Failed to fetch members"))}async function l(a){const e=o();e&&(await i(()=>n.removeMember(void 0,{params:{organization:e,member:a}}),"Member deleted successfully","Failed to delete member"),await s())}async function u(a,e){const t=o();t&&(await i(()=>n.updateMember(e,{params:{organization:t,member:a}}),"Member updated successfully","Failed to update member"),await s())}return{members:g(()=>{var a;return((a=c.value)==null?void 0:a.data)||[]}),fetchMembers:s,removeMember:l,updateMember:u}});export{b as a,v as b,C as c,k as u};
//# sourceMappingURL=useMembers-B2Kv7mzm.js.map
