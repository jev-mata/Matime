{"version":3,"file":"Dashboard-Bweo1PP6.js","sources":["../../../node_modules/@heroicons/vue/20/solid/esm/BoltIcon.js","../../../node_modules/@heroicons/vue/20/solid/esm/CalendarIcon.js","../../../resources/js/Components/Dashboard/RecentlyTrackedTasksCardEntry.vue","../../../resources/js/Components/Dashboard/DashboardCard.vue","../../../resources/js/Components/Dashboard/RecentlyTrackedTasksCard.vue","../../../resources/js/Components/Dashboard/DayOverviewCardChart.vue","../../../resources/js/Components/Dashboard/DayOverviewCardEntry.vue","../../../resources/js/Components/Dashboard/LastSevenDaysCard.vue","../../../resources/js/Components/Dashboard/TeamActivityCardEntry.vue","../../../resources/js/Components/Dashboard/TeamActivityCard.vue","../../../node_modules/echarts/lib/visual/VisualMapping.js","../../../node_modules/echarts/lib/component/helper/sliderMove.js","../../../node_modules/echarts/lib/chart/heatmap/HeatmapLayer.js","../../../node_modules/echarts/lib/chart/heatmap/HeatmapView.js","../../../node_modules/echarts/lib/chart/heatmap/HeatmapSeries.js","../../../node_modules/echarts/lib/chart/heatmap/install.js","../../../node_modules/echarts/lib/coord/calendar/CalendarModel.js","../../../node_modules/echarts/lib/component/calendar/CalendarView.js","../../../node_modules/echarts/lib/coord/calendar/Calendar.js","../../../node_modules/echarts/lib/component/calendar/install.js","../../../node_modules/echarts/lib/visual/visualSolution.js","../../../node_modules/echarts/lib/visual/visualDefault.js","../../../node_modules/echarts/lib/component/visualMap/VisualMapModel.js","../../../node_modules/echarts/lib/component/visualMap/ContinuousModel.js","../../../node_modules/echarts/lib/component/visualMap/VisualMapView.js","../../../node_modules/echarts/lib/component/visualMap/helper.js","../../../node_modules/echarts/lib/component/visualMap/ContinuousView.js","../../../node_modules/echarts/lib/component/visualMap/visualMapAction.js","../../../node_modules/echarts/lib/component/visualMap/visualEncoding.js","../../../node_modules/echarts/lib/component/visualMap/preprocessor.js","../../../node_modules/echarts/lib/component/visualMap/installCommon.js","../../../node_modules/echarts/lib/component/visualMap/installVisualMapContinuous.js","../../../node_modules/echarts/lib/component/visualMap/PiecewiseModel.js","../../../node_modules/echarts/lib/component/visualMap/PiecewiseView.js","../../../node_modules/echarts/lib/component/visualMap/installVisualMapPiecewise.js","../../../node_modules/echarts/lib/component/visualMap/install.js","../../../resources/js/Components/Common/StatCard.vue","../../../resources/js/Components/Dashboard/ProjectsChartCard.vue","../../../resources/js/Components/Dashboard/ThisWeekOverview.vue","../../../resources/js/Components/Dashboard/ActivityGraphCard.vue","../../../resources/js/Pages/Dashboard.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", { d: \"M11.983 1.907a.75.75 0 0 0-1.292-.657l-8.5 9.5A.75.75 0 0 0 2.75 12h6.572l-1.305 6.093a.75.75 0 0 0 1.292.657l8.5-9.5A.75.75 0 0 0 17.25 8h-6.572l1.305-6.093Z\" })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","<script setup lang=\"ts\">\nimport ProjectBadge from '@/packages/ui/src/Project/ProjectBadge.vue';\nimport TimeTrackerStartStop from '@/packages/ui/src/TimeTrackerStartStop.vue';\nimport { useProjectsStore } from '@/utils/useProjects';\nimport { storeToRefs } from 'pinia';\nimport { computed } from 'vue';\nimport { useCurrentTimeEntryStore } from '@/utils/useCurrentTimeEntry';\nimport { getDayJsInstance } from '@/packages/ui/src/utils/time';\nimport type { TimeEntry } from \"@/packages/api/src\";\nimport { useTasksStore } from \"@/utils/useTasks\";\nimport { ChevronRightIcon } from \"@heroicons/vue/16/solid\";\n\nconst props = defineProps<{\n    timeEntry: TimeEntry\n}>();\n\nconst { projects } = storeToRefs(useProjectsStore());\n\nconst project = computed(() => {\n    return projects.value.find((project) => project.id === props.timeEntry.project_id);\n});\n\nconst {tasks} = storeToRefs(useTasksStore());\n\nconst task = computed(() => {\n    return tasks.value.find((task) => task.id === props.timeEntry.task_id);\n});\n\nconst { currentTimeEntry } = storeToRefs(useCurrentTimeEntryStore());\nconst { setActiveState } = useCurrentTimeEntryStore();\n\nasync function startTaskTimer() {\n    if (currentTimeEntry.value.id) {\n        await setActiveState(false);\n    }\n    currentTimeEntry.value.description = props.timeEntry.description;\n    currentTimeEntry.value.project_id = props.timeEntry.project_id;\n    currentTimeEntry.value.task_id = props.timeEntry.task_id;\n    currentTimeEntry.value.tags = props.timeEntry.tags;\n    currentTimeEntry.value.billable = props.timeEntry.billable;\n    currentTimeEntry.value.start = getDayJsInstance().utc().format();\n    await setActiveState(true);\n    useCurrentTimeEntryStore().fetchCurrentTimeEntry();\n}\n\n</script>\n\n<template>\n    <div\n        class=\"px-3.5 py-2 grid grid-cols-5 border-b border-b-card-background-separator\">\n        <div class=\"col-span-4\">\n            <p class=\"font-medium text-text-primary text-sm pb-1 truncate\">\n                <span v-if=\"timeEntry.description\"> {{ timeEntry.description }}</span>\n                <span v-else class=\"text-text-tertiary\">No description</span>\n            </p>\n            <ProjectBadge\n                size=\"base\"\n                class=\"min-w-0 max-w-full\"\n                :color=\"project?.color\">\n                <div class=\"flex items-center lg:space-x-0.5 min-w-0\">\n                    <span class=\"whitespace-nowrap \">\n                        {{ project?.name ?? 'No Project' }}\n                    </span>\n                    <ChevronRightIcon\n                        v-if=\"task\"\n                        class=\"w-4 text-text-secondary shrink-0\"></ChevronRightIcon>\n                    <div\n                        v-if=\"task\"\n                        class=\"min-w-0 shrink truncate\">\n                        {{ task.name }}\n                    </div>\n                </div>\n            </ProjectBadge>\n        </div>\n        <div class=\"flex items-center justify-center\">\n            <TimeTrackerStartStop\n                @changed=\"startTaskTimer\"></TimeTrackerStartStop>\n        </div>\n    </div>\n</template>\n","<template>\n    <section class=\"flex flex-col\">\n        <CardTitle :title=\"title\" :icon=\"icon\"></CardTitle>\n        <div\n            class=\"rounded-lg bg-card-background border border-card-border flex-1 flex items-stretch shadow-card\">\n            <div class=\"w-full flex flex-col\">\n                <slot></slot>\n            </div>\n        </div>\n    </section>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Component } from 'vue';\nimport CardTitle from '@/packages/ui/src/CardTitle.vue';\n\ndefineProps<{\n    title: string;\n    icon?: Component;\n}>();\n</script>\n","<script setup lang=\"ts\">\nimport { useQuery } from \"@tanstack/vue-query\";\nimport { computed } from \"vue\";\nimport RecentlyTrackedTasksCardEntry from \"@/Components/Dashboard/RecentlyTrackedTasksCardEntry.vue\";\nimport DashboardCard from \"@/Components/Dashboard/DashboardCard.vue\";\nimport { CheckCircleIcon } from \"@heroicons/vue/20/solid\";\nimport SecondaryButton from \"@/packages/ui/src/Buttons/SecondaryButton.vue\";\nimport { PlusCircleIcon } from \"@heroicons/vue/24/solid\";\nimport { router } from \"@inertiajs/vue3\";\nimport { getCurrentMembershipId, getCurrentOrganizationId } from \"@/utils/useUser\";\nimport { api } from \"@/packages/api/src\";\nimport { LoadingSpinner } from \"@/packages/ui/src\";\n\n// Get the organization ID using the utility function\nconst organizationId = computed(() => getCurrentOrganizationId());\n\n// Function to fetch latest tasks using the API client\n\n// Set up the query\nconst { data: timeEntriesResponse, isLoading, refetch } = useQuery({\n    queryKey: [\"timeEntries\", organizationId],\n    queryFn: () => {\n        return api.getTimeEntries({\n            params: {\n                organization: organizationId.value!\n            },\n            queries: {\n                member_id: getCurrentMembershipId()\n            }\n        });\n    },\n    enabled: computed(() => !!organizationId.value)\n});\n\nconst latestTasks = computed(() => {\n    if (!timeEntriesResponse.value) {\n        return [];\n    }\n\n    return timeEntriesResponse.value.data;\n});\n\nconst filteredLatestTasks = computed(() => {\n    // do not include running time entries\n    const finishedTimeEntries = latestTasks.value.filter((item) => item.end !== null);\n\n    // filter out duplicates based on description, task, project, tags and billable\n    return finishedTimeEntries.filter((item, index, self) => {\n        return index === self.findIndex((t) => (\n            t.description === item.description &&\n            t.task_id === item.task_id &&\n            t.project_id === item.project_id &&\n            t.tags.length === item.tags.length &&\n            t.tags.every((tag) => item.tags.includes(tag)) &&\n            t.billable === item.billable\n        ));\n    }).slice(0, 4);\n});\n\n\n// Listen for dashboard refresh events\nwindow.addEventListener(\"dashboard:refresh\", () => {\n    refetch();\n});\n</script>\n\n<template>\n    <DashboardCard title=\"Recent Time Entries\" :icon=\"CheckCircleIcon\">\n        <div v-if=\"isLoading\" class=\"flex justify-center items-center h-40\">\n            <LoadingSpinner />\n        </div>\n        <div v-else-if=\"filteredLatestTasks && filteredLatestTasks.length > 0\">\n            <RecentlyTrackedTasksCardEntry\n                v-for=\"lastTask in filteredLatestTasks\"\n                :key=\"lastTask.id\"\n                :time-entry=\"lastTask\"\n                :class=\"filteredLatestTasks.length === 4 ? 'last:border-0' : ''\"></RecentlyTrackedTasksCardEntry>\n        </div>\n        <div\n            v-else\n            class=\"text-center flex flex-1 justify-center items-center\">\n            <div>\n                <PlusCircleIcon\n                    class=\"w-8 text-icon-default inline pb-2\"></PlusCircleIcon>\n                <h3 class=\"text-text-primary font-semibold text-sm\">\n                    No recent tasks found\n                </h3>\n                <p class=\"pb-5 text-sm\">Create tasks inside of a project!</p>\n                <SecondaryButton @click=\"router.visit(route('projects'))\"\n                >Go to Projects\n                </SecondaryButton>\n            </div>\n        </div>\n        <div\n            v-if=\"latestTasks && latestTasks.length === 1\"\n            class=\"text-center flex flex-1 justify-center items-center text-sm\">\n            <div>\n                <PlusCircleIcon\n                    class=\"w-8 text-icon-default inline pb-2\"></PlusCircleIcon>\n                <h3 class=\"text-text-primary font-semibold\">Add more tasks</h3>\n                <p class=\"pb-5\">Create tasks inside of a project!</p>\n                <SecondaryButton @click=\"router.visit(route('projects'))\"\n                >Go to Projects\n                </SecondaryButton>\n            </div>\n        </div>\n    </DashboardCard>\n</template>\n","<script setup lang=\"ts\">\nimport VChart from 'vue-echarts';\nimport { computed, ref } from 'vue';\nimport { useCssVar } from '@vueuse/core';\n\nconst props = defineProps<{\n    history: number[];\n}>();\n\nconst accentColor = useCssVar('--theme-color-chart', null, { observe: true });\n\nconst seriesData = computed(() => props.history.map((el) => {\n    return {\n        value: el,\n        ...{\n            itemStyle: {\n                borderWidth: 1,\n                borderColor: 'rgba(' + accentColor.value + ',0.8)',\n                borderRadius: [2, 2, 0, 0],\n                color: 'rgba(' + accentColor.value + ',0.8)',\n            },\n        },\n    };\n}));\nconst option = ref({\n    grid: {\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n    },\n    backgroundColor: 'transparent',\n    xAxis: {\n        type: 'category',\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        markLine: {\n            lineStyle: {\n                color: 'rgba(125,156,188,0.1)',\n                type: 'dashed',\n            },\n        },\n        axisLine: {\n            lineStyle: {\n                color: 'transparent', // Set desired color here\n            },\n        },\n        axisLabel: {\n            fontSize: 16,\n            fontWeight: 600,\n            margin: 24,\n            fontFamily: 'Outfit, sans-serif',\n        },\n        axisTick: {\n            lineStyle: {\n                color: 'transparent', // Set desired color here\n            },\n        },\n    },\n    yAxis: {\n        type: 'value',\n        splitLine: {\n            lineStyle: {\n                color: 'transparent', // Set desired color here\n            },\n        },\n    },\n    series: [\n        {\n            data: seriesData,\n            type: 'bar',\n        },\n    ],\n});\n</script>\n\n<template>\n    <v-chart style=\"height: 20px; width: 80px\" class=\"chart\" :option=\"option\" />\n</template>\n\n<style scoped></style>\n","<script setup lang=\"ts\">\nimport DayOverviewCardChart from '@/Components/Dashboard/DayOverviewCardChart.vue';\nimport {\n    formatHumanReadableDate,\n    formatHumanReadableDuration,\n} from '@/packages/ui/src/utils/time';\nimport { inject, type ComputedRef } from 'vue';\nimport type { Organization } from '@/packages/api/src';\n\nconst organization = inject<ComputedRef<Organization>>('organization');\n\ndefineProps<{\n    date: string;\n    duration: number;\n    history: number[];\n}>();\n</script>\n\n<template>\n    <div\n        class=\"px-3.5 py-2 flex justify-between @container border-b border-card-background-separator\">\n        <div class=\"flex items-center min-w-[70px]\">\n            <p class=\"font-semibold text-sm text-text-primary\">\n                {{ formatHumanReadableDate(date) }}\n            </p>\n        </div>\n        <div class=\"items-center justify-center flex-1 hidden @2xs:flex\">\n            <DayOverviewCardChart :history=\"history\"></DayOverviewCardChart>\n        </div>\n        <div\n            class=\"flex text-sm items-center justify-center text-text-secondary min-w-[65px] font-semibold\">\n            {{\n                formatHumanReadableDuration(\n                    duration,\n                    organization?.interval_format,\n                    organization?.number_format\n                )\n            }}\n        </div>\n    </div>\n</template>\n","<script setup lang=\"ts\">\nimport { useQuery } from \"@tanstack/vue-query\";\nimport { computed } from \"vue\";\nimport DashboardCard from \"@/Components/Dashboard/DashboardCard.vue\";\nimport DayOverviewCardEntry from \"@/Components/Dashboard/DayOverviewCardEntry.vue\";\nimport { CalendarIcon } from \"@heroicons/vue/20/solid\";\nimport { getCurrentOrganizationId } from \"@/utils/useUser\";\nimport { api } from \"@/packages/api/src\";\nimport { LoadingSpinner } from \"@/packages/ui/src\";\n\n// Get the organization ID using the utility function\nconst organizationId = computed(() => getCurrentOrganizationId());\n\n\n// Set up the query\nconst { data: last7Days, isLoading } = useQuery({\n    queryKey: [\"lastSevenDays\", organizationId],\n    queryFn: () => {\n        return api.lastSevenDays({\n            params: {\n                organization: organizationId.value!\n            }\n        });\n    },\n    enabled: computed(() => !!organizationId.value),\n    placeholderData: Array.from({ length: 7 }, (_, i) => ({\n        date: new Date(Date.now() - i * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0],\n        duration: 0,\n        history: Array(8).fill(0)\n    }))\n});\n\n</script>\n\n<template>\n    <DashboardCard title=\"Last 7 Days\" :icon=\"CalendarIcon\">\n        <div v-if=\"isLoading\" class=\"flex justify-center items-center h-40\">\n            <LoadingSpinner />\n        </div>\n        <div v-else-if=\"last7Days\">\n            <DayOverviewCardEntry\n                v-for=\"day in last7Days\"\n                :key=\"day.date\"\n                :class=\"last7Days.length === 7 ? 'last:border-0 first:pt-3' : ''\"\n                :date=\"day.date\"\n                :history=\"day.history\"\n                :duration=\"day.duration\"></DayOverviewCardEntry>\n        </div>\n        <div v-else class=\"text-center text-gray-500 py-8\">\n            No data available\n        </div>\n    </DashboardCard>\n</template>\n","<script lang=\"ts\" setup>\ndefineProps<{\n    name: string;\n    description: string | null;\n    working?: boolean;\n}>();\n</script>\n\n<template>\n    <div class=\"px-4 py-2 2xl:py-3 border-b border-card-background-separator\">\n        <div class=\"col-span-2\">\n            <div class=\"flex justify-between\">\n                <p class=\"font-semibold text-sm text-text-primary\">\n                    {{ name }}\n                </p>\n                <div\n                    v-if=\"working\"\n                    class=\"flex space-x-1.5 items-center justify-end\">\n                    <span\n                        class=\"relative flex h-3 w-3 justify-center items-center\">\n                        <span\n                            class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-75\"></span>\n                        <span\n                            class=\"relative inline-flex rounded-full h-2 w-2 bg-green-500\"></span>\n                    </span>\n                    <span\n                        class=\"text-green-500 font-medium text-sm block pb-0.5\">\n                        working\n                    </span>\n                </div>\n            </div>\n            <div\n                class=\"text-text-secondary text-sm font-medium text-ellipsis whitespace-nowrap max-w-full overflow-hidden\">\n                {{ description }}\n            </div>\n        </div>\n    </div>\n</template>\n","<script lang=\"ts\" setup>\nimport { useQuery } from '@tanstack/vue-query';\nimport { computed } from 'vue';\nimport DashboardCard from '@/Components/Dashboard/DashboardCard.vue';\nimport TeamActivityCardEntry from '@/Components/Dashboard/TeamActivityCardEntry.vue';\nimport { UserGroupIcon } from '@heroicons/vue/20/solid';\nimport SecondaryButton from '@/packages/ui/src/Buttons/SecondaryButton.vue';\nimport { getCurrentOrganizationId } from '@/utils/useUser';\nimport { api } from '@/packages/api/src';\nimport { LoadingSpinner } from \"@/packages/ui/src\";\nimport { router } from '@inertiajs/vue3';\n\n// Get the organization ID using the utility function\nconst organizationId = computed(() => getCurrentOrganizationId());\n\n// Set up the query\nconst { data: latestTeamActivity, isLoading } = useQuery({\n  queryKey: ['latestTeamActivity', organizationId],\n  queryFn: () => {\n      return api.latestTeamActivity({\n          params: {\n              organization: organizationId.value!\n          }\n      })\n  },\n  enabled: computed(() => !!organizationId.value),\n});\n\n</script>\n\n<template>\n    <DashboardCard title=\"Team Activity\" :icon=\"UserGroupIcon\">\n        <div v-if=\"isLoading\" class=\"flex justify-center items-center h-40\">\n            <LoadingSpinner />\n        </div>\n        <div v-else-if=\"latestTeamActivity\">\n            <TeamActivityCardEntry\n                v-for=\"activity in latestTeamActivity\"\n                :key=\"activity.time_entry_id\"\n                :class=\"latestTeamActivity.length === 4 ? 'last:border-0' : ''\"\n                :name=\"activity.name\"\n                :description=\"activity.description\"\n                :working=\"activity.status\"></TeamActivityCardEntry>\n        </div>\n        <div v-else class=\"text-center text-gray-500 py-8\">\n            No team activity found\n        </div>\n        <div\n            v-if=\"latestTeamActivity && latestTeamActivity.length <= 1\"\n            class=\"text-center flex flex-1 justify-center items-center\">\n            <div>\n                <UserGroupIcon\n                    class=\"w-8 text-icon-default inline pb-2\"></UserGroupIcon>\n                <h3 class=\"text-text-primary font-semibold text-sm\">\n                    Invite your co-workers\n                </h3>\n                <p class=\"pb-5 text-sm\">You can invite your entire team.</p>\n                <SecondaryButton @click=\"router.visit(route('members'))\"\n                    >Go to Members\n                </SecondaryButton>\n            </div>\n        </div>\n    </DashboardCard>\n</template>\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as zrColor from 'zrender/lib/tool/color.js';\nimport { linearMap } from '../util/number.js';\nimport { warn } from '../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\nvar VisualMapping = /** @class */function () {\n  function VisualMapping(option) {\n    var mappingMethod = option.mappingMethod;\n    var visualType = option.type;\n    var thisOption = this.option = zrUtil.clone(option);\n    this.type = visualType;\n    this.mappingMethod = mappingMethod;\n    this._normalizeData = normalizers[mappingMethod];\n    var visualHandler = VisualMapping.visualHandlers[visualType];\n    this.applyVisual = visualHandler.applyVisual;\n    this.getColorMapper = visualHandler.getColorMapper;\n    this._normalizedToVisual = visualHandler._normalizedToVisual[mappingMethod];\n    if (mappingMethod === 'piecewise') {\n      normalizeVisualRange(thisOption);\n      preprocessForPiecewise(thisOption);\n    } else if (mappingMethod === 'category') {\n      thisOption.categories ? preprocessForSpecifiedCategory(thisOption)\n      // categories is ordinal when thisOption.categories not specified,\n      // which need no more preprocess except normalize visual.\n      : normalizeVisualRange(thisOption, true);\n    } else {\n      // mappingMethod === 'linear' or 'fixed'\n      zrUtil.assert(mappingMethod !== 'linear' || thisOption.dataExtent);\n      normalizeVisualRange(thisOption);\n    }\n  }\n  VisualMapping.prototype.mapValueToVisual = function (value) {\n    var normalized = this._normalizeData(value);\n    return this._normalizedToVisual(normalized, value);\n  };\n  VisualMapping.prototype.getNormalizer = function () {\n    return zrUtil.bind(this._normalizeData, this);\n  };\n  /**\r\n   * List available visual types.\r\n   *\r\n   * @public\r\n   * @return {Array.<string>}\r\n   */\n  VisualMapping.listVisualTypes = function () {\n    return zrUtil.keys(VisualMapping.visualHandlers);\n  };\n  // /**\n  //  * @public\n  //  */\n  // static addVisualHandler(name, handler) {\n  //     visualHandlers[name] = handler;\n  // }\n  /**\r\n   * @public\r\n   */\n  VisualMapping.isValidType = function (visualType) {\n    return VisualMapping.visualHandlers.hasOwnProperty(visualType);\n  };\n  /**\r\n   * Convenient method.\r\n   * Visual can be Object or Array or primary type.\r\n   */\n  VisualMapping.eachVisual = function (visual, callback, context) {\n    if (zrUtil.isObject(visual)) {\n      zrUtil.each(visual, callback, context);\n    } else {\n      callback.call(context, visual);\n    }\n  };\n  VisualMapping.mapVisual = function (visual, callback, context) {\n    var isPrimary;\n    var newVisual = zrUtil.isArray(visual) ? [] : zrUtil.isObject(visual) ? {} : (isPrimary = true, null);\n    VisualMapping.eachVisual(visual, function (v, key) {\n      var newVal = callback.call(context, v, key);\n      isPrimary ? newVisual = newVal : newVisual[key] = newVal;\n    });\n    return newVisual;\n  };\n  /**\r\n   * Retrieve visual properties from given object.\r\n   */\n  VisualMapping.retrieveVisuals = function (obj) {\n    var ret = {};\n    var hasVisual;\n    obj && each(VisualMapping.visualHandlers, function (h, visualType) {\n      if (obj.hasOwnProperty(visualType)) {\n        ret[visualType] = obj[visualType];\n        hasVisual = true;\n      }\n    });\n    return hasVisual ? ret : null;\n  };\n  /**\r\n   * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\r\n   *\r\n   * @public\r\n   * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\r\n   *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\r\n   * @return {Array.<string>} Sorted visual types.\r\n   */\n  VisualMapping.prepareVisualTypes = function (visualTypes) {\n    if (zrUtil.isArray(visualTypes)) {\n      visualTypes = visualTypes.slice();\n    } else if (isObject(visualTypes)) {\n      var types_1 = [];\n      each(visualTypes, function (item, type) {\n        types_1.push(type);\n      });\n      visualTypes = types_1;\n    } else {\n      return [];\n    }\n    visualTypes.sort(function (type1, type2) {\n      // color should be front of colorSaturation, colorAlpha, ...\n      // symbol and symbolSize do not matter.\n      return type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0 ? 1 : -1;\n    });\n    return visualTypes;\n  };\n  /**\r\n   * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\r\n   * Other visuals are only depends on themself.\r\n   */\n  VisualMapping.dependsOn = function (visualType1, visualType2) {\n    return visualType2 === 'color' ? !!(visualType1 && visualType1.indexOf(visualType2) === 0) : visualType1 === visualType2;\n  };\n  /**\r\n   * @param value\r\n   * @param pieceList [{value: ..., interval: [min, max]}, ...]\r\n   *                         Always from small to big.\r\n   * @param findClosestWhenOutside Default to be false\r\n   * @return index\r\n   */\n  VisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\n    var possibleI;\n    var abs = Infinity;\n    // value has the higher priority.\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n      var pieceValue = pieceList[i].value;\n      if (pieceValue != null) {\n        if (pieceValue === value\n        // FIXME\n        // It is supposed to compare value according to value type of dimension,\n        // but currently value type can exactly be string or number.\n        // Compromise for numeric-like string (like '12'), especially\n        // in the case that visualMap.categories is ['22', '33'].\n        || zrUtil.isString(pieceValue) && pieceValue === value + '') {\n          return i;\n        }\n        findClosestWhenOutside && updatePossible(pieceValue, i);\n      }\n    }\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n      var piece = pieceList[i];\n      var interval = piece.interval;\n      var close_1 = piece.close;\n      if (interval) {\n        if (interval[0] === -Infinity) {\n          if (littleThan(close_1[1], value, interval[1])) {\n            return i;\n          }\n        } else if (interval[1] === Infinity) {\n          if (littleThan(close_1[0], interval[0], value)) {\n            return i;\n          }\n        } else if (littleThan(close_1[0], interval[0], value) && littleThan(close_1[1], value, interval[1])) {\n          return i;\n        }\n        findClosestWhenOutside && updatePossible(interval[0], i);\n        findClosestWhenOutside && updatePossible(interval[1], i);\n      }\n    }\n    if (findClosestWhenOutside) {\n      return value === Infinity ? pieceList.length - 1 : value === -Infinity ? 0 : possibleI;\n    }\n    function updatePossible(val, index) {\n      var newAbs = Math.abs(val - value);\n      if (newAbs < abs) {\n        abs = newAbs;\n        possibleI = index;\n      }\n    }\n  };\n  VisualMapping.visualHandlers = {\n    color: {\n      applyVisual: makeApplyVisual('color'),\n      getColorMapper: function () {\n        var thisOption = this.option;\n        return zrUtil.bind(thisOption.mappingMethod === 'category' ? function (value, isNormalized) {\n          !isNormalized && (value = this._normalizeData(value));\n          return doMapCategory.call(this, value);\n        } : function (value, isNormalized, out) {\n          // If output rgb array\n          // which will be much faster and useful in pixel manipulation\n          var returnRGBArray = !!out;\n          !isNormalized && (value = this._normalizeData(value));\n          out = zrColor.fastLerp(value, thisOption.parsedVisual, out);\n          return returnRGBArray ? out : zrColor.stringify(out, 'rgba');\n        }, this);\n      },\n      _normalizedToVisual: {\n        linear: function (normalized) {\n          return zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n        },\n        category: doMapCategory,\n        piecewise: function (normalized, value) {\n          var result = getSpecifiedVisual.call(this, value);\n          if (result == null) {\n            result = zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n          }\n          return result;\n        },\n        fixed: doMapFixed\n      }\n    },\n    colorHue: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, value);\n    }),\n    colorSaturation: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, null, value);\n    }),\n    colorLightness: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, null, null, value);\n    }),\n    colorAlpha: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyAlpha(color, value);\n    }),\n    decal: {\n      applyVisual: makeApplyVisual('decal'),\n      _normalizedToVisual: {\n        linear: null,\n        category: doMapCategory,\n        piecewise: null,\n        fixed: null\n      }\n    },\n    opacity: {\n      applyVisual: makeApplyVisual('opacity'),\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n    },\n    liftZ: {\n      applyVisual: makeApplyVisual('liftZ'),\n      _normalizedToVisual: {\n        linear: doMapFixed,\n        category: doMapFixed,\n        piecewise: doMapFixed,\n        fixed: doMapFixed\n      }\n    },\n    symbol: {\n      applyVisual: function (value, getter, setter) {\n        var symbolCfg = this.mapValueToVisual(value);\n        setter('symbol', symbolCfg);\n      },\n      _normalizedToVisual: {\n        linear: doMapToArray,\n        category: doMapCategory,\n        piecewise: function (normalized, value) {\n          var result = getSpecifiedVisual.call(this, value);\n          if (result == null) {\n            result = doMapToArray.call(this, normalized);\n          }\n          return result;\n        },\n        fixed: doMapFixed\n      }\n    },\n    symbolSize: {\n      applyVisual: makeApplyVisual('symbolSize'),\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n    }\n  };\n  return VisualMapping;\n}();\nfunction preprocessForPiecewise(thisOption) {\n  var pieceList = thisOption.pieceList;\n  thisOption.hasSpecialVisual = false;\n  zrUtil.each(pieceList, function (piece, index) {\n    piece.originIndex = index;\n    // piece.visual is \"result visual value\" but not\n    // a visual range, so it does not need to be normalized.\n    if (piece.visual != null) {\n      thisOption.hasSpecialVisual = true;\n    }\n  });\n}\nfunction preprocessForSpecifiedCategory(thisOption) {\n  // Hash categories.\n  var categories = thisOption.categories;\n  var categoryMap = thisOption.categoryMap = {};\n  var visual = thisOption.visual;\n  each(categories, function (cate, index) {\n    categoryMap[cate] = index;\n  });\n  // Process visual map input.\n  if (!zrUtil.isArray(visual)) {\n    var visualArr_1 = [];\n    if (zrUtil.isObject(visual)) {\n      each(visual, function (v, cate) {\n        var index = categoryMap[cate];\n        visualArr_1[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\n      });\n    } else {\n      // Is primary type, represents default visual.\n      visualArr_1[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\n    }\n    visual = setVisualToOption(thisOption, visualArr_1);\n  }\n  // Remove categories that has no visual,\n  // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\n  for (var i = categories.length - 1; i >= 0; i--) {\n    if (visual[i] == null) {\n      delete categoryMap[categories[i]];\n      categories.pop();\n    }\n  }\n}\nfunction normalizeVisualRange(thisOption, isCategory) {\n  var visual = thisOption.visual;\n  var visualArr = [];\n  if (zrUtil.isObject(visual)) {\n    each(visual, function (v) {\n      visualArr.push(v);\n    });\n  } else if (visual != null) {\n    visualArr.push(visual);\n  }\n  var doNotNeedPair = {\n    color: 1,\n    symbol: 1\n  };\n  if (!isCategory && visualArr.length === 1 && !doNotNeedPair.hasOwnProperty(thisOption.type)) {\n    // Do not care visualArr.length === 0, which is illegal.\n    visualArr[1] = visualArr[0];\n  }\n  setVisualToOption(thisOption, visualArr);\n}\nfunction makePartialColorVisualHandler(applyValue) {\n  return {\n    applyVisual: function (value, getter, setter) {\n      // Only used in HSL\n      var colorChannel = this.mapValueToVisual(value);\n      // Must not be array value\n      setter('color', applyValue(getter('color'), colorChannel));\n    },\n    _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n  };\n}\nfunction doMapToArray(normalized) {\n  var visual = this.option.visual;\n  return visual[Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))] || {}; // TODO {}?\n}\nfunction makeApplyVisual(visualType) {\n  return function (value, getter, setter) {\n    setter(visualType, this.mapValueToVisual(value));\n  };\n}\nfunction doMapCategory(normalized) {\n  var visual = this.option.visual;\n  return visual[this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX ? normalized % visual.length : normalized];\n}\nfunction doMapFixed() {\n  // visual will be convert to array.\n  return this.option.visual[0];\n}\n/**\r\n * Create mapped to numeric visual\r\n */\nfunction createNormalizedToNumericVisual(sourceExtent) {\n  return {\n    linear: function (normalized) {\n      return linearMap(normalized, sourceExtent, this.option.visual, true);\n    },\n    category: doMapCategory,\n    piecewise: function (normalized, value) {\n      var result = getSpecifiedVisual.call(this, value);\n      if (result == null) {\n        result = linearMap(normalized, sourceExtent, this.option.visual, true);\n      }\n      return result;\n    },\n    fixed: doMapFixed\n  };\n}\nfunction getSpecifiedVisual(value) {\n  var thisOption = this.option;\n  var pieceList = thisOption.pieceList;\n  if (thisOption.hasSpecialVisual) {\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\n    var piece = pieceList[pieceIndex];\n    if (piece && piece.visual) {\n      return piece.visual[this.type];\n    }\n  }\n}\nfunction setVisualToOption(thisOption, visualArr) {\n  thisOption.visual = visualArr;\n  if (thisOption.type === 'color') {\n    thisOption.parsedVisual = zrUtil.map(visualArr, function (item) {\n      var color = zrColor.parse(item);\n      if (!color && process.env.NODE_ENV !== 'production') {\n        warn(\"'\" + item + \"' is an illegal color, fallback to '#000000'\", true);\n      }\n      return color || [0, 0, 0, 1];\n    });\n  }\n  return visualArr;\n}\n/**\r\n * Normalizers by mapping methods.\r\n */\nvar normalizers = {\n  linear: function (value) {\n    return linearMap(value, this.option.dataExtent, [0, 1], true);\n  },\n  piecewise: function (value) {\n    var pieceList = this.option.pieceList;\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\n    if (pieceIndex != null) {\n      return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\n    }\n  },\n  category: function (value) {\n    var index = this.option.categories ? this.option.categoryMap[value] : value; // ordinal value\n    return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\n  },\n  fixed: zrUtil.noop\n};\nfunction littleThan(close, a, b) {\n  return close ? a <= b : a < b;\n}\nexport default VisualMapping;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n/**\r\n * Calculate slider move result.\r\n * Usage:\r\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\r\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\r\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\r\n *\r\n * @param delta Move length.\r\n * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].\r\n *              handleEnds will be modified in this method.\r\n * @param extent handleEnds is restricted by extent.\r\n *              extent[0] should less or equals than extent[1].\r\n * @param handleIndex Can be 'all', means that both move the two handleEnds.\r\n * @param minSpan The range of dataZoom can not be smaller than that.\r\n *              If not set, handle0 and cross handle1. If set as a non-negative\r\n *              number (including `0`), handles will push each other when reaching\r\n *              the minSpan.\r\n * @param maxSpan The range of dataZoom can not be larger than that.\r\n * @return The input handleEnds.\r\n */\nexport default function sliderMove(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0];\n  // Notice maxSpan and minSpan can be null/undefined.\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta;\n  // Restrict in extent.\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent);\n  // Expand span.\n  var currDistSign;\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  }\n  // Shrink span.\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n  return handleEnds;\n}\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex];\n  // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n/* global Uint8ClampedArray */\nimport { platformApi } from 'zrender/lib/core/platform.js';\nvar GRADIENT_LEVELS = 256;\nvar HeatmapLayer = /** @class */function () {\n  function HeatmapLayer() {\n    this.blurSize = 30;\n    this.pointSize = 20;\n    this.maxOpacity = 1;\n    this.minOpacity = 0;\n    this._gradientPixels = {\n      inRange: null,\n      outOfRange: null\n    };\n    var canvas = platformApi.createCanvas();\n    this.canvas = canvas;\n  }\n  /**\r\n   * Renders Heatmap and returns the rendered canvas\r\n   * @param data array of data, each has x, y, value\r\n   * @param width canvas width\r\n   * @param height canvas height\r\n   */\n  HeatmapLayer.prototype.update = function (data, width, height, normalize, colorFunc, isInRange) {\n    var brush = this._getBrush();\n    var gradientInRange = this._getGradient(colorFunc, 'inRange');\n    var gradientOutOfRange = this._getGradient(colorFunc, 'outOfRange');\n    var r = this.pointSize + this.blurSize;\n    var canvas = this.canvas;\n    var ctx = canvas.getContext('2d');\n    var len = data.length;\n    canvas.width = width;\n    canvas.height = height;\n    for (var i = 0; i < len; ++i) {\n      var p = data[i];\n      var x = p[0];\n      var y = p[1];\n      var value = p[2];\n      // calculate alpha using value\n      var alpha = normalize(value);\n      // draw with the circle brush with alpha\n      ctx.globalAlpha = alpha;\n      ctx.drawImage(brush, x - r, y - r);\n    }\n    if (!canvas.width || !canvas.height) {\n      // Avoid \"Uncaught DOMException: Failed to execute 'getImageData' on\n      // 'CanvasRenderingContext2D': The source height is 0.\"\n      return canvas;\n    }\n    // colorize the canvas using alpha value and set with gradient\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    var pixels = imageData.data;\n    var offset = 0;\n    var pixelLen = pixels.length;\n    var minOpacity = this.minOpacity;\n    var maxOpacity = this.maxOpacity;\n    var diffOpacity = maxOpacity - minOpacity;\n    while (offset < pixelLen) {\n      var alpha = pixels[offset + 3] / 256;\n      var gradientOffset = Math.floor(alpha * (GRADIENT_LEVELS - 1)) * 4;\n      // Simple optimize to ignore the empty data\n      if (alpha > 0) {\n        var gradient = isInRange(alpha) ? gradientInRange : gradientOutOfRange;\n        // Any alpha > 0 will be mapped to [minOpacity, maxOpacity]\n        alpha > 0 && (alpha = alpha * diffOpacity + minOpacity);\n        pixels[offset++] = gradient[gradientOffset];\n        pixels[offset++] = gradient[gradientOffset + 1];\n        pixels[offset++] = gradient[gradientOffset + 2];\n        pixels[offset++] = gradient[gradientOffset + 3] * alpha * 256;\n      } else {\n        offset += 4;\n      }\n    }\n    ctx.putImageData(imageData, 0, 0);\n    return canvas;\n  };\n  /**\r\n   * get canvas of a black circle brush used for canvas to draw later\r\n   */\n  HeatmapLayer.prototype._getBrush = function () {\n    var brushCanvas = this._brushCanvas || (this._brushCanvas = platformApi.createCanvas());\n    // set brush size\n    var r = this.pointSize + this.blurSize;\n    var d = r * 2;\n    brushCanvas.width = d;\n    brushCanvas.height = d;\n    var ctx = brushCanvas.getContext('2d');\n    ctx.clearRect(0, 0, d, d);\n    // in order to render shadow without the distinct circle,\n    // draw the distinct circle in an invisible place,\n    // and use shadowOffset to draw shadow in the center of the canvas\n    ctx.shadowOffsetX = d;\n    ctx.shadowBlur = this.blurSize;\n    // draw the shadow in black, and use alpha and shadow blur to generate\n    // color in color map\n    ctx.shadowColor = '#000';\n    // draw circle in the left to the canvas\n    ctx.beginPath();\n    ctx.arc(-r, r, this.pointSize, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n    return brushCanvas;\n  };\n  /**\r\n   * get gradient color map\r\n   * @private\r\n   */\n  HeatmapLayer.prototype._getGradient = function (colorFunc, state) {\n    var gradientPixels = this._gradientPixels;\n    var pixelsSingleState = gradientPixels[state] || (gradientPixels[state] = new Uint8ClampedArray(256 * 4));\n    var color = [0, 0, 0, 0];\n    var off = 0;\n    for (var i = 0; i < 256; i++) {\n      colorFunc[state](i / 255, true, color);\n      pixelsSingleState[off++] = color[0];\n      pixelsSingleState[off++] = color[1];\n      pixelsSingleState[off++] = color[2];\n      pixelsSingleState[off++] = color[3];\n    }\n    return pixelsSingleState;\n  };\n  return HeatmapLayer;\n}();\nexport default HeatmapLayer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis } from '../../util/states.js';\nimport HeatmapLayer from './HeatmapLayer.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nfunction getIsInPiecewiseRange(dataExtent, pieceList, selected) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  pieceList = zrUtil.map(pieceList, function (piece) {\n    return {\n      interval: [(piece.interval[0] - dataExtent[0]) / dataSpan, (piece.interval[1] - dataExtent[0]) / dataSpan]\n    };\n  });\n  var len = pieceList.length;\n  var lastIndex = 0;\n  return function (val) {\n    var i;\n    // Try to find in the location of the last found\n    for (i = lastIndex; i < len; i++) {\n      var interval = pieceList[i].interval;\n      if (interval[0] <= val && val <= interval[1]) {\n        lastIndex = i;\n        break;\n      }\n    }\n    if (i === len) {\n      // Not found, back interation\n      for (i = lastIndex - 1; i >= 0; i--) {\n        var interval = pieceList[i].interval;\n        if (interval[0] <= val && val <= interval[1]) {\n          lastIndex = i;\n          break;\n        }\n      }\n    }\n    return i >= 0 && i < len && selected[i];\n  };\n}\nfunction getIsInContinuousRange(dataExtent, range) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  range = [(range[0] - dataExtent[0]) / dataSpan, (range[1] - dataExtent[0]) / dataSpan];\n  return function (val) {\n    return val >= range[0] && val <= range[1];\n  };\n}\nfunction isGeoCoordSys(coordSys) {\n  var dimensions = coordSys.dimensions;\n  // Not use coordSys.type === 'geo' because coordSys maybe extended\n  return dimensions[0] === 'lng' && dimensions[1] === 'lat';\n}\nvar HeatmapView = /** @class */function (_super) {\n  __extends(HeatmapView, _super);\n  function HeatmapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = HeatmapView.type;\n    return _this;\n  }\n  HeatmapView.prototype.render = function (seriesModel, ecModel, api) {\n    var visualMapOfThisSeries;\n    ecModel.eachComponent('visualMap', function (visualMap) {\n      visualMap.eachTargetSeries(function (targetSeries) {\n        if (targetSeries === seriesModel) {\n          visualMapOfThisSeries = visualMap;\n        }\n      });\n    });\n    if (process.env.NODE_ENV !== 'production') {\n      if (!visualMapOfThisSeries) {\n        throw new Error('Heatmap must use with visualMap');\n      }\n    }\n    // Clear previously rendered progressive elements.\n    this._progressiveEls = null;\n    this.group.removeAll();\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys.type === 'cartesian2d' || coordSys.type === 'calendar') {\n      this._renderOnCartesianAndCalendar(seriesModel, api, 0, seriesModel.getData().count());\n    } else if (isGeoCoordSys(coordSys)) {\n      this._renderOnGeo(coordSys, seriesModel, visualMapOfThisSeries, api);\n    }\n  };\n  HeatmapView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n  };\n  HeatmapView.prototype.incrementalRender = function (params, seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys) {\n      // geo does not support incremental rendering?\n      if (isGeoCoordSys(coordSys)) {\n        this.render(seriesModel, ecModel, api);\n      } else {\n        this._progressiveEls = [];\n        this._renderOnCartesianAndCalendar(seriesModel, api, params.start, params.end, true);\n      }\n    }\n  };\n  HeatmapView.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  HeatmapView.prototype._renderOnCartesianAndCalendar = function (seriesModel, api, start, end, incremental) {\n    var coordSys = seriesModel.coordinateSystem;\n    var isCartesian2d = isCoordinateSystemType(coordSys, 'cartesian2d');\n    var width;\n    var height;\n    var xAxisExtent;\n    var yAxisExtent;\n    if (isCartesian2d) {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      if (process.env.NODE_ENV !== 'production') {\n        if (!(xAxis.type === 'category' && yAxis.type === 'category')) {\n          throw new Error('Heatmap on cartesian must have two category axes');\n        }\n        if (!(xAxis.onBand && yAxis.onBand)) {\n          throw new Error('Heatmap on cartesian must have two axes with boundaryGap true');\n        }\n      }\n      // add 0.5px to avoid the gaps\n      width = xAxis.getBandWidth() + .5;\n      height = yAxis.getBandWidth() + .5;\n      xAxisExtent = xAxis.scale.getExtent();\n      yAxisExtent = yAxis.scale.getExtent();\n    }\n    var group = this.group;\n    var data = seriesModel.getData();\n    var emphasisStyle = seriesModel.getModel(['emphasis', 'itemStyle']).getItemStyle();\n    var blurStyle = seriesModel.getModel(['blur', 'itemStyle']).getItemStyle();\n    var selectStyle = seriesModel.getModel(['select', 'itemStyle']).getItemStyle();\n    var borderRadius = seriesModel.get(['itemStyle', 'borderRadius']);\n    var labelStatesModels = getLabelStatesModels(seriesModel);\n    var emphasisModel = seriesModel.getModel('emphasis');\n    var focus = emphasisModel.get('focus');\n    var blurScope = emphasisModel.get('blurScope');\n    var emphasisDisabled = emphasisModel.get('disabled');\n    var dataDims = isCartesian2d ? [data.mapDimension('x'), data.mapDimension('y'), data.mapDimension('value')] : [data.mapDimension('time'), data.mapDimension('value')];\n    for (var idx = start; idx < end; idx++) {\n      var rect = void 0;\n      var style = data.getItemVisual(idx, 'style');\n      if (isCartesian2d) {\n        var dataDimX = data.get(dataDims[0], idx);\n        var dataDimY = data.get(dataDims[1], idx);\n        // Ignore empty data and out of extent data\n        if (isNaN(data.get(dataDims[2], idx)) || isNaN(dataDimX) || isNaN(dataDimY) || dataDimX < xAxisExtent[0] || dataDimX > xAxisExtent[1] || dataDimY < yAxisExtent[0] || dataDimY > yAxisExtent[1]) {\n          continue;\n        }\n        var point = coordSys.dataToPoint([dataDimX, dataDimY]);\n        rect = new graphic.Rect({\n          shape: {\n            x: point[0] - width / 2,\n            y: point[1] - height / 2,\n            width: width,\n            height: height\n          },\n          style: style\n        });\n      } else {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[1], idx))) {\n          continue;\n        }\n        rect = new graphic.Rect({\n          z2: 1,\n          shape: coordSys.dataToRect([data.get(dataDims[0], idx)]).contentShape,\n          style: style\n        });\n      }\n      // Optimization for large dataset\n      if (data.hasItemOption) {\n        var itemModel = data.getItemModel(idx);\n        var emphasisModel_1 = itemModel.getModel('emphasis');\n        emphasisStyle = emphasisModel_1.getModel('itemStyle').getItemStyle();\n        blurStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n        selectStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n        // Each item value struct in the data would be firstly\n        // {\n        //     itemStyle: { borderRadius: [30, 30] },\n        //     value: [2022, 02, 22]\n        // }\n        borderRadius = itemModel.get(['itemStyle', 'borderRadius']);\n        focus = emphasisModel_1.get('focus');\n        blurScope = emphasisModel_1.get('blurScope');\n        emphasisDisabled = emphasisModel_1.get('disabled');\n        labelStatesModels = getLabelStatesModels(itemModel);\n      }\n      rect.shape.r = borderRadius;\n      var rawValue = seriesModel.getRawValue(idx);\n      var defaultText = '-';\n      if (rawValue && rawValue[2] != null) {\n        defaultText = rawValue[2] + '';\n      }\n      setLabelStyle(rect, labelStatesModels, {\n        labelFetcher: seriesModel,\n        labelDataIndex: idx,\n        defaultOpacity: style.opacity,\n        defaultText: defaultText\n      });\n      rect.ensureState('emphasis').style = emphasisStyle;\n      rect.ensureState('blur').style = blurStyle;\n      rect.ensureState('select').style = selectStyle;\n      toggleHoverEmphasis(rect, focus, blurScope, emphasisDisabled);\n      rect.incremental = incremental;\n      // PENDING\n      if (incremental) {\n        // Rect must use hover layer if it's incremental.\n        rect.states.emphasis.hoverLayer = true;\n      }\n      group.add(rect);\n      data.setItemGraphicEl(idx, rect);\n      if (this._progressiveEls) {\n        this._progressiveEls.push(rect);\n      }\n    }\n  };\n  HeatmapView.prototype._renderOnGeo = function (geo, seriesModel, visualMapModel, api) {\n    var inRangeVisuals = visualMapModel.targetVisuals.inRange;\n    var outOfRangeVisuals = visualMapModel.targetVisuals.outOfRange;\n    // if (!visualMapping) {\n    //     throw new Error('Data range must have color visuals');\n    // }\n    var data = seriesModel.getData();\n    var hmLayer = this._hmLayer || this._hmLayer || new HeatmapLayer();\n    hmLayer.blurSize = seriesModel.get('blurSize');\n    hmLayer.pointSize = seriesModel.get('pointSize');\n    hmLayer.minOpacity = seriesModel.get('minOpacity');\n    hmLayer.maxOpacity = seriesModel.get('maxOpacity');\n    var rect = geo.getViewRect().clone();\n    var roamTransform = geo.getRoamTransform();\n    rect.applyTransform(roamTransform);\n    // Clamp on viewport\n    var x = Math.max(rect.x, 0);\n    var y = Math.max(rect.y, 0);\n    var x2 = Math.min(rect.width + rect.x, api.getWidth());\n    var y2 = Math.min(rect.height + rect.y, api.getHeight());\n    var width = x2 - x;\n    var height = y2 - y;\n    var dims = [data.mapDimension('lng'), data.mapDimension('lat'), data.mapDimension('value')];\n    var points = data.mapArray(dims, function (lng, lat, value) {\n      var pt = geo.dataToPoint([lng, lat]);\n      pt[0] -= x;\n      pt[1] -= y;\n      pt.push(value);\n      return pt;\n    });\n    var dataExtent = visualMapModel.getExtent();\n    var isInRange = visualMapModel.type === 'visualMap.continuous' ? getIsInContinuousRange(dataExtent, visualMapModel.option.range) : getIsInPiecewiseRange(dataExtent, visualMapModel.getPieceList(), visualMapModel.option.selected);\n    hmLayer.update(points, width, height, inRangeVisuals.color.getNormalizer(), {\n      inRange: inRangeVisuals.color.getColorMapper(),\n      outOfRange: outOfRangeVisuals.color.getColorMapper()\n    }, isInRange);\n    var img = new graphic.Image({\n      style: {\n        width: width,\n        height: height,\n        x: x,\n        y: y,\n        image: hmLayer.canvas\n      },\n      silent: true\n    });\n    this.group.add(img);\n  };\n  HeatmapView.type = 'heatmap';\n  return HeatmapView;\n}(ChartView);\nexport default HeatmapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport createSeriesData from '../helper/createSeriesData.js';\nimport CoordinateSystem from '../../core/CoordinateSystem.js';\nvar HeatmapSeriesModel = /** @class */function (_super) {\n  __extends(HeatmapSeriesModel, _super);\n  function HeatmapSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = HeatmapSeriesModel.type;\n    return _this;\n  }\n  HeatmapSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      generateCoord: 'value'\n    });\n  };\n  HeatmapSeriesModel.prototype.preventIncremental = function () {\n    var coordSysCreator = CoordinateSystem.get(this.get('coordinateSystem'));\n    if (coordSysCreator && coordSysCreator.dimensions) {\n      return coordSysCreator.dimensions[0] === 'lng' && coordSysCreator.dimensions[1] === 'lat';\n    }\n  };\n  HeatmapSeriesModel.type = 'series.heatmap';\n  HeatmapSeriesModel.dependencies = ['grid', 'geo', 'calendar'];\n  HeatmapSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Geo coordinate system\n    geoIndex: 0,\n    blurSize: 30,\n    pointSize: 20,\n    maxOpacity: 1,\n    minOpacity: 0,\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  };\n  return HeatmapSeriesModel;\n}(SeriesModel);\nexport default HeatmapSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport HeatmapView from './HeatmapView.js';\nimport HeatmapSeriesModel from './HeatmapSeries.js';\nexport function install(registers) {\n  registers.registerChartView(HeatmapView);\n  registers.registerSeriesModel(HeatmapSeriesModel);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getLayoutParams, sizeCalculable, mergeLayoutParam } from '../../util/layout.js';\nvar CalendarModel = /** @class */function (_super) {\n  __extends(CalendarModel, _super);\n  function CalendarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarModel.type;\n    return _this;\n  }\n  /**\r\n   * @override\r\n   */\n  CalendarModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n    _super.prototype.init.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  };\n  /**\r\n   * @override\r\n   */\n  CalendarModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(this.option, option);\n  };\n  CalendarModel.prototype.getCellSize = function () {\n    // Has been normalized\n    return this.option.cellSize;\n  };\n  CalendarModel.type = 'calendar';\n  CalendarModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  };\n  return CalendarModel;\n}(ComponentModel);\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n  var cellSizeArr;\n  if (!zrUtil.isArray(cellSize)) {\n    cellSizeArr = target.cellSize = [cellSize, cellSize];\n  } else {\n    cellSizeArr = cellSize;\n  }\n  if (cellSizeArr.length === 1) {\n    cellSizeArr[1] = cellSizeArr[0];\n  }\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSizeArr\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSizeArr will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSizeArr[hvIdx] = 'auto';\n    }\n    return cellSizeArr[hvIdx] != null && cellSizeArr[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\nexport default CalendarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport { isString, extend, map, isFunction } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { formatTplSimple } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport ComponentView from '../../view/Component.js';\nimport { getLocaleModel } from '../../core/locale.js';\nvar CalendarView = /** @class */function (_super) {\n  __extends(CalendarView, _super);\n  function CalendarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarView.type;\n    return _this;\n  }\n  CalendarView.prototype.render = function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem;\n    // range info\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient();\n    // locale\n    var localeModel = ecModel.getLocaleModel();\n    this._renderDayRect(calendarModel, rangeData, group);\n    // _renderLines must be called prior to following function\n    this._renderLines(calendarModel, rangeData, orient, group);\n    this._renderYearText(calendarModel, rangeData, orient, group);\n    this._renderMonthText(calendarModel, localeModel, orient, group);\n    this._renderWeekText(calendarModel, localeModel, rangeData, orient, group);\n  };\n  // render day rect\n  CalendarView.prototype._renderDayRect = function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToRect([i], false).tl;\n      // every rect\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  };\n  // render separate line\n  CalendarView.prototype._renderLines = function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel(['splitLine', 'lineStyle']).getLineStyle();\n    var show = calendarModel.get(['splitLine', 'show']);\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n      self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n      self._tlpoints.push(points[0]);\n      self._blpoints.push(points[points.length - 1]);\n      show && self._drawSplitline(points, lineStyleModel, group);\n    }\n    // render top/left line\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group);\n    // render bottom/right line\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  };\n  // get points at both ends\n  CalendarView.prototype._getEdgesPoints = function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1;\n    // both ends of the line are extend half lineWidth\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  };\n  // render split line\n  CalendarView.prototype._drawSplitline = function (points, lineStyle, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyle\n    });\n    group.add(poyline);\n  };\n  // render month line of one week points\n  CalendarView.prototype._getLinePointsOfOneWeek = function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    var parsedDate = coordSys.getDateInfo(date);\n    var points = [];\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(parsedDate.time, i);\n      var point = coordSys.dataToRect([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n    return points;\n  };\n  CalendarView.prototype._formatterLabel = function (formatter, params) {\n    if (isString(formatter) && formatter) {\n      return formatTplSimple(formatter, params);\n    }\n    if (isFunction(formatter)) {\n      return formatter(params);\n    }\n    return params.nameMap;\n  };\n  CalendarView.prototype._yearTextPositionControl = function (textEl, point, orient, position, margin) {\n    var x = point[0];\n    var y = point[1];\n    var aligns = ['center', 'bottom'];\n    if (position === 'bottom') {\n      y += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      x -= margin;\n    } else if (position === 'right') {\n      x += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      y -= margin;\n    }\n    var rotate = 0;\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n    return {\n      rotation: rotate,\n      x: x,\n      y: y,\n      style: {\n        align: aligns[0],\n        verticalAlign: aligns[1]\n      }\n    };\n  };\n  // render year\n  CalendarView.prototype._renderYearText = function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n    if (!yearLabel.get('show')) {\n      return;\n    }\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n    var content = this._formatterLabel(formatter, params);\n    var yearText = new graphic.Text({\n      z2: 30,\n      style: createTextStyle(yearLabel, {\n        text: content\n      }),\n      silent: yearLabel.get('silent')\n    });\n    yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  };\n  CalendarView.prototype._monthTextPositionControl = function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n    if (orient === 'horizontal') {\n      y = y + margin;\n      if (isCenter) {\n        align = 'center';\n      }\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render month and year text\n  CalendarView.prototype._renderMonthText = function (calendarModel, localeModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n    if (!monthLabel.get('show')) {\n      return;\n    }\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // PENDING\n      // for ZH locale, original form is `一月` but current form is `1月`\n      nameMap = localeModel.get(['time', 'monthAbbr']) || [];\n    }\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n    var labelSilent = monthLabel.get('silent');\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n      var formatter = monthLabel.get('formatter');\n      var name_1 = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name_1\n      };\n      var content = this._formatterLabel(formatter, params);\n      var monthText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(monthLabel, {\n          text: content\n        }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin)),\n        silent: labelSilent\n      });\n      group.add(monthText);\n    }\n  };\n  CalendarView.prototype._weekTextPositionControl = function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render weeks\n  CalendarView.prototype._renderWeekText = function (calendarModel, localeModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n    if (!dayLabel.get('show')) {\n      return;\n    }\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // Use the first letter of `dayOfWeekAbbr` if `dayOfWeekShort` doesn't exist in the locale file\n      var dayOfWeekShort = localeModel.get(['time', 'dayOfWeekShort']);\n      nameMap = dayOfWeekShort || map(localeModel.get(['time', 'dayOfWeekAbbr']), function (val) {\n        return val[0];\n      });\n    }\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = parsePercent(margin, Math.min(cellSize[1], cellSize[0]));\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n    var labelSilent = dayLabel.get('silent');\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToRect([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(dayLabel, {\n          text: nameMap[day]\n        }), this._weekTextPositionControl(point, orient, pos, margin, cellSize)),\n        silent: labelSilent\n      });\n      group.add(weekText);\n    }\n  };\n  CalendarView.type = 'calendar';\n  return CalendarView;\n}(ComponentView);\nexport default CalendarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\nvar Calendar = /** @class */function () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions;\n    // Required in createListFromData\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n  }\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\r\n   * getFirstDayOfWeek\r\n   *\r\n   * @example\r\n   *     0 : start at Sunday\r\n   *     1 : start at Monday\r\n   *\r\n   * @return {number}\r\n   */\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\r\n   * get date info\r\n   * }\r\n   */\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n  Calendar.prototype.update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n    var cellSize = this._model.getCellSize().slice();\n    var layoutParams = this._model.getBoxLayoutParams();\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n    // Has been calculated out number.\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\r\n   * Convert a time data(time, value) item to (x, y) point.\r\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n  Calendar.prototype.dataToPoint = function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate;\n    // if not in range return [NaN, NaN]\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      return [NaN, NaN];\n    }\n    var week = dayInfo.day;\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  };\n  /**\r\n   * Convert a (x, y) point to time data\r\n   */\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  /**\r\n   * Convert a time date item to (x, y) four point.\r\n   */\n  Calendar.prototype.dataToRect = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\r\n   * Convert a (x, y) point to time date\r\n   *\r\n   * @param  {Array} point point\r\n   * @return {Object}       date\r\n   */\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\r\n   * initRange\r\n   * Normalize to an [start, end] array\r\n   */\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n    var normalizedRange;\n    // Convert [1990] to 1990\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString();\n      // One year.\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      }\n      // One month\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      }\n      // One day\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      }\n      // Not handling it.\n      return range;\n    }\n    var tmp = this._getRangeInfo(normalizedRange);\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n    return normalizedRange;\n  };\n  /**\r\n   * range info\r\n   *\r\n   * @private\r\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\r\n   *  If range[0] > range[1], they will not be reversed.\r\n   * @return {Object}       obj\r\n   */\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1;\n    // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1);\n    // The bias can not over a month, so just compare date.\n    var dateNum = date.getDate();\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\r\n   * get date by nthWeeks and week day in range\r\n   *\r\n   * @private\r\n   * @param  {number} nthWeek the week\r\n   * @param  {number} day   the week day\r\n   * @param  {Array} range [d1, d2]\r\n   * @return {Object}\r\n   */\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    ecModel.eachSeries(function (calendarSeries) {\n      if (calendarSeries.get('coordinateSystem') === 'calendar') {\n        // Inject coordinate system\n        calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n      }\n    });\n    return calendarList;\n  };\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\nexport default Calendar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport CalendarModel from '../../coord/calendar/CalendarModel.js';\nimport CalendarView from './CalendarView.js';\nimport Calendar from '../../coord/calendar/Calendar.js';\nexport function install(registers) {\n  registers.registerComponentModel(CalendarModel);\n  registers.registerComponentView(CalendarView);\n  registers.registerCoordinateSystem('calendar', Calendar);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n/**\r\n * @file Visual solution, for consistent option specification.\r\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapping from './VisualMapping.js';\nimport { getItemVisualFromData, setItemVisualFromData } from './helper.js';\nvar each = zrUtil.each;\nfunction hasKeys(obj) {\n  if (obj) {\n    for (var name_1 in obj) {\n      if (obj.hasOwnProperty(name_1)) {\n        return true;\n      }\n    }\n  }\n}\nexport function createVisualMappings(option, stateList, supplementVisualOption) {\n  var visualMappings = {};\n  each(stateList, function (state) {\n    var mappings = visualMappings[state] = createMappings();\n    each(option[state], function (visualData, visualType) {\n      if (!VisualMapping.isValidType(visualType)) {\n        return;\n      }\n      var mappingOption = {\n        type: visualType,\n        visual: visualData\n      };\n      supplementVisualOption && supplementVisualOption(mappingOption, state);\n      mappings[visualType] = new VisualMapping(mappingOption);\n      // Prepare a alpha for opacity, for some case that opacity\n      // is not supported, such as rendering using gradient color.\n      if (visualType === 'opacity') {\n        mappingOption = zrUtil.clone(mappingOption);\n        mappingOption.type = 'colorAlpha';\n        mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n      }\n    });\n  });\n  return visualMappings;\n  function createMappings() {\n    var Creater = function () {};\n    // Make sure hidden fields will not be visited by\n    // object iteration (with hasOwnProperty checking).\n    Creater.prototype.__hidden = Creater.prototype;\n    var obj = new Creater();\n    return obj;\n  }\n}\nexport function replaceVisualOption(thisOption, newOption, keys) {\n  // Visual attributes merge is not supported, otherwise it\n  // brings overcomplicated merge logic. See #2853. So if\n  // newOption has anyone of these keys, all of these keys\n  // will be reset. Otherwise, all keys remain.\n  var has;\n  zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      has = true;\n    }\n  });\n  has && zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      thisOption[key] = zrUtil.clone(newOption[key]);\n    } else {\n      delete thisOption[key];\n    }\n  });\n}\n/**\r\n * @param stateList\r\n * @param visualMappings\r\n * @param list\r\n * @param getValueState param: valueOrIndex, return: state.\r\n * @param scope Scope for getValueState\r\n * @param dimension Concrete dimension, if used.\r\n */\n// ???! handle brush?\nexport function applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  var dataIndex;\n  function getVisual(key) {\n    return getItemVisualFromData(data, dataIndex, key);\n  }\n  function setVisual(key, value) {\n    setItemVisualFromData(data, dataIndex, key, value);\n  }\n  if (dimension == null) {\n    data.each(eachItem);\n  } else {\n    data.each([dimension], eachItem);\n  }\n  function eachItem(valueOrIndex, index) {\n    dataIndex = dimension == null ? valueOrIndex // First argument is index\n    : index;\n    var rawDataItem = data.getRawDataItem(dataIndex);\n    // Consider performance\n    // @ts-ignore\n    if (rawDataItem && rawDataItem.visualMap === false) {\n      return;\n    }\n    var valueState = getValueState.call(scope, valueOrIndex);\n    var mappings = visualMappings[valueState];\n    var visualTypes = visualTypesMap[valueState];\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n      var type = visualTypes[i];\n      mappings[type] && mappings[type].applyVisual(valueOrIndex, getVisual, setVisual);\n    }\n  }\n}\n/**\r\n * @param data\r\n * @param stateList\r\n * @param visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\r\n * @param getValueState param: valueOrIndex, return: state.\r\n * @param dim dimension or dimension index.\r\n */\nexport function incrementalApplyVisual(stateList, visualMappings, getValueState, dim) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  return {\n    progress: function progress(params, data) {\n      var dimIndex;\n      if (dim != null) {\n        dimIndex = data.getDimensionIndex(dim);\n      }\n      function getVisual(key) {\n        return getItemVisualFromData(data, dataIndex, key);\n      }\n      function setVisual(key, value) {\n        setItemVisualFromData(data, dataIndex, key, value);\n      }\n      var dataIndex;\n      var store = data.getStore();\n      while ((dataIndex = params.next()) != null) {\n        var rawDataItem = data.getRawDataItem(dataIndex);\n        // Consider performance\n        // @ts-ignore\n        if (rawDataItem && rawDataItem.visualMap === false) {\n          continue;\n        }\n        var value = dim != null ? store.get(dimIndex, dataIndex) : dataIndex;\n        var valueState = getValueState(value);\n        var mappings = visualMappings[valueState];\n        var visualTypes = visualTypesMap[valueState];\n        for (var i = 0, len = visualTypes.length; i < len; i++) {\n          var type = visualTypes[i];\n          mappings[type] && mappings[type].applyVisual(value, getVisual, setVisual);\n        }\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n/**\r\n * @file Visual mapping.\r\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar visualDefault = {\n  /**\r\n   * @public\r\n   */\n  get: function (visualType, key, isCategory) {\n    var value = zrUtil.clone((defaultOption[visualType] || {})[key]);\n    return isCategory ? zrUtil.isArray(value) ? value[value.length - 1] : value : value;\n  }\n};\nvar defaultOption = {\n  color: {\n    active: ['#006edd', '#e0ffff'],\n    inactive: ['rgba(0,0,0,0)']\n  },\n  colorHue: {\n    active: [0, 360],\n    inactive: [0, 0]\n  },\n  colorSaturation: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  colorLightness: {\n    active: [0.9, 0.5],\n    inactive: [0, 0]\n  },\n  colorAlpha: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  opacity: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  symbol: {\n    active: ['circle', 'roundRect', 'diamond'],\n    inactive: ['none']\n  },\n  symbolSize: {\n    active: [10, 50],\n    inactive: [0, 0]\n  }\n};\nexport default visualDefault;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport * as modelUtil from '../../util/model.js';\nimport * as numberUtil from '../../util/number.js';\nimport ComponentModel from '../../model/Component.js';\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar VisualMapModel = /** @class */function (_super) {\n  __extends(VisualMapModel, _super);\n  function VisualMapModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = VisualMapModel.type;\n    _this.stateList = ['inRange', 'outOfRange'];\n    _this.replacableOptionKeys = ['inRange', 'outOfRange', 'target', 'controller', 'color'];\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    /**\r\n     * [lowerBound, upperBound]\r\n     */\n    _this.dataBound = [-Infinity, Infinity];\n    _this.targetVisuals = {};\n    _this.controllerVisuals = {};\n    return _this;\n  }\n  VisualMapModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapModel.prototype.resetVisual = function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  };\n  /**\r\n   * @public\r\n   */\n  VisualMapModel.prototype.getItemSymbol = function () {\n    return null;\n  };\n  /**\r\n   * @protected\r\n   * @return {Array.<number>} An array of series indices.\r\n   */\n  VisualMapModel.prototype.getTargetSeriesIndices = function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n    return seriesIndices;\n  };\n  /**\r\n   * @public\r\n   */\n  VisualMapModel.prototype.eachTargetSeries = function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      var seriesModel = this.ecModel.getSeriesByIndex(seriesIndex);\n      if (seriesModel) {\n        callback.call(context, seriesModel);\n      }\n    }, this);\n  };\n  /**\r\n   * @pubilc\r\n   */\n  VisualMapModel.prototype.isTargetSeries = function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  };\n  /**\r\n   * @example\r\n   * this.formatValueText(someVal); // format single numeric value to text.\r\n   * this.formatValueText(someVal, true); // format single category value to text.\r\n   * this.formatValueText([min, max]); // format numeric min-max to text.\r\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\r\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\r\n   *\r\n   * @param value Real value, or this.dataBound[0 or 1].\r\n   * @param isCategory Only available when value is number.\r\n   * @param edgeSymbols Open-close symbol when value is interval.\r\n   * @protected\r\n   */\n  VisualMapModel.prototype.formatValueText = function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n    var textValue = isCategory ? value // Value is string when isCategory\n    : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapModel.prototype.resetExtent = function () {\n    var thisOption = this.option;\n    // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  };\n  /**\r\n   * PENDING:\r\n   * delete this method if no outer usage.\r\n   *\r\n   * Return  Concrete dimension. If null/undefined is returned, no dimension is used.\r\n   */\n  // getDataDimension(data: SeriesData) {\n  //     const optDim = this.option.dimension;\n  //     if (optDim != null) {\n  //         return data.getDimension(optDim);\n  //     }\n  //     const dimNames = data.dimensions;\n  //     for (let i = dimNames.length - 1; i >= 0; i--) {\n  //         const dimName = dimNames[i];\n  //         const dimInfo = data.getDimensionInfo(dimName);\n  //         if (!dimInfo.isCalculationCoord) {\n  //             return dimName;\n  //         }\n  //     }\n  // }\n  VisualMapModel.prototype.getDataDimensionIndex = function (data) {\n    var optDim = this.option.dimension;\n    if (optDim != null) {\n      return data.getDimensionIndex(optDim);\n    }\n    var dimNames = data.dimensions;\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = data.getDimensionInfo(dimName);\n      if (!dimInfo.isCalculationCoord) {\n        return dimInfo.storeDimIndex;\n      }\n    }\n  };\n  VisualMapModel.prototype.getExtent = function () {\n    return this._dataExtent.slice();\n  };\n  VisualMapModel.prototype.completeVisualOption = function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n    zrUtil.merge(controller, base); // Do not override\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange');\n    // completeInactive.call(this, target, 'outOfRange', 'inRange');\n    completeController.call(this, controller);\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color)\n      // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      }\n      // Compatible with previous logic, always give a default color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      };\n    }\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n          if (defa != null) {\n            optAbsent[visualType] = defa;\n            // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      var itemSymbol = this.getItemSymbol();\n      var defaultSymbol = itemSymbol || 'roundRect';\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state];\n        // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        }\n        // Consistent symbol and symbolSize if not specified.\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? defaultSymbol : [defaultSymbol]);\n        }\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        }\n        // Filter none\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' ? defaultSymbol : symbol;\n        });\n        // Normalize symbolSize\n        var symbolSize = visuals.symbolSize;\n        if (symbolSize != null) {\n          var max_1 = -Infinity;\n          // symbolSize can be object when categories defined.\n          eachVisual(symbolSize, function (value) {\n            value > max_1 && (max_1 = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max_1], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  };\n  VisualMapModel.prototype.resetItemSize = function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  };\n  VisualMapModel.prototype.isCategory = function () {\n    return !!this.option.categories;\n  };\n  /**\r\n   * @public\r\n   * @abstract\r\n   */\n  VisualMapModel.prototype.setSelected = function (selected) {};\n  VisualMapModel.prototype.getSelected = function () {\n    return null;\n  };\n  /**\r\n   * @public\r\n   * @abstract\r\n   */\n  VisualMapModel.prototype.getValueState = function (value) {\n    return null;\n  };\n  /**\r\n   * FIXME\r\n   * Do not publish to thirt-part-dev temporarily\r\n   * util the interface is stable. (Should it return\r\n   * a function but not visual meta?)\r\n   *\r\n   * @pubilc\r\n   * @abstract\r\n   * @param getColorVisual\r\n   *        params: value, valueState\r\n   *        return: color\r\n   * @return {Object} visualMeta\r\n   *        should includes {stops, outerColors}\r\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\r\n   */\n  VisualMapModel.prototype.getVisualMeta = function (getColorVisual) {\n    return null;\n  };\n  VisualMapModel.type = 'visualMap';\n  VisualMapModel.dependencies = ['series'];\n  VisualMapModel.defaultOption = {\n    show: true,\n    // zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    min: 0,\n    max: 200,\n    left: 0,\n    right: null,\n    top: null,\n    bottom: 0,\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    padding: 5,\n    // 接受数组分别设定上右下左边距，同css\n    textGap: 10,\n    precision: 0,\n    textStyle: {\n      color: '#333' // 值域文字颜色\n    }\n  };\n  return VisualMapModel;\n}(ComponentModel);\nexport default VisualMapModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapModel from './VisualMapModel.js';\nimport * as numberUtil from '../../util/number.js';\nimport { inheritDefaultOption } from '../../util/component.js';\n// Constant\nvar DEFAULT_BAR_BOUND = [20, 140];\nvar ContinuousModel = /** @class */function (_super) {\n  __extends(ContinuousModel, _super);\n  function ContinuousModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ContinuousModel.type;\n    return _this;\n  }\n  /**\r\n   * @override\r\n   */\n  ContinuousModel.prototype.optionUpdated = function (newOption, isInit) {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    this.resetExtent();\n    this.resetVisual(function (mappingOption) {\n      mappingOption.mappingMethod = 'linear';\n      mappingOption.dataExtent = this.getExtent();\n    });\n    this._resetRange();\n  };\n  /**\r\n   * @protected\r\n   * @override\r\n   */\n  ContinuousModel.prototype.resetItemSize = function () {\n    _super.prototype.resetItemSize.apply(this, arguments);\n    var itemSize = this.itemSize;\n    (itemSize[0] == null || isNaN(itemSize[0])) && (itemSize[0] = DEFAULT_BAR_BOUND[0]);\n    (itemSize[1] == null || isNaN(itemSize[1])) && (itemSize[1] = DEFAULT_BAR_BOUND[1]);\n  };\n  /**\r\n   * @private\r\n   */\n  ContinuousModel.prototype._resetRange = function () {\n    var dataExtent = this.getExtent();\n    var range = this.option.range;\n    if (!range || range.auto) {\n      // `range` should always be array (so we don't use other\n      // value like 'auto') for user-friend. (consider getOption).\n      dataExtent.auto = 1;\n      this.option.range = dataExtent;\n    } else if (zrUtil.isArray(range)) {\n      if (range[0] > range[1]) {\n        range.reverse();\n      }\n      range[0] = Math.max(range[0], dataExtent[0]);\n      range[1] = Math.min(range[1], dataExtent[1]);\n    }\n  };\n  /**\r\n   * @protected\r\n   * @override\r\n   */\n  ContinuousModel.prototype.completeVisualOption = function () {\n    _super.prototype.completeVisualOption.apply(this, arguments);\n    zrUtil.each(this.stateList, function (state) {\n      var symbolSize = this.option.controller[state].symbolSize;\n      if (symbolSize && symbolSize[0] !== symbolSize[1]) {\n        symbolSize[0] = symbolSize[1] / 3; // For good looking.\n      }\n    }, this);\n  };\n  /**\r\n   * @override\r\n   */\n  ContinuousModel.prototype.setSelected = function (selected) {\n    this.option.range = selected.slice();\n    this._resetRange();\n  };\n  /**\r\n   * @public\r\n   */\n  ContinuousModel.prototype.getSelected = function () {\n    var dataExtent = this.getExtent();\n    var dataInterval = numberUtil.asc((this.get('range') || []).slice());\n    // Clamp\n    dataInterval[0] > dataExtent[1] && (dataInterval[0] = dataExtent[1]);\n    dataInterval[1] > dataExtent[1] && (dataInterval[1] = dataExtent[1]);\n    dataInterval[0] < dataExtent[0] && (dataInterval[0] = dataExtent[0]);\n    dataInterval[1] < dataExtent[0] && (dataInterval[1] = dataExtent[0]);\n    return dataInterval;\n  };\n  /**\r\n   * @override\r\n   */\n  ContinuousModel.prototype.getValueState = function (value) {\n    var range = this.option.range;\n    var dataExtent = this.getExtent();\n    // When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.\n    // range[1] is processed likewise.\n    return (range[0] <= dataExtent[0] || range[0] <= value) && (range[1] >= dataExtent[1] || value <= range[1]) ? 'inRange' : 'outOfRange';\n  };\n  ContinuousModel.prototype.findTargetDataIndices = function (range) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimensionIndex(data), function (value, dataIndex) {\n        range[0] <= value && value <= range[1] && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  };\n  /**\r\n   * @implement\r\n   */\n  ContinuousModel.prototype.getVisualMeta = function (getColorVisual) {\n    var oVals = getColorStopValues(this, 'outOfRange', this.getExtent());\n    var iVals = getColorStopValues(this, 'inRange', this.option.range.slice());\n    var stops = [];\n    function setStop(value, valueState) {\n      stops.push({\n        value: value,\n        color: getColorVisual(value, valueState)\n      });\n    }\n    // Format to: outOfRange -- inRange -- outOfRange.\n    var iIdx = 0;\n    var oIdx = 0;\n    var iLen = iVals.length;\n    var oLen = oVals.length;\n    for (; oIdx < oLen && (!iVals.length || oVals[oIdx] <= iVals[0]); oIdx++) {\n      // If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.\n      if (oVals[oIdx] < iVals[iIdx]) {\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n    for (var first = 1; iIdx < iLen; iIdx++, first = 0) {\n      // If range is full, value beyond min, max will be clamped.\n      // make a singularity\n      first && stops.length && setStop(iVals[iIdx], 'outOfRange');\n      setStop(iVals[iIdx], 'inRange');\n    }\n    for (var first = 1; oIdx < oLen; oIdx++) {\n      if (!iVals.length || iVals[iVals.length - 1] < oVals[oIdx]) {\n        // make a singularity\n        if (first) {\n          stops.length && setStop(stops[stops.length - 1].value, 'outOfRange');\n          first = 0;\n        }\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n    var stopsLen = stops.length;\n    return {\n      stops: stops,\n      outerColors: [stopsLen ? stops[0].color : 'transparent', stopsLen ? stops[stopsLen - 1].color : 'transparent']\n    };\n  };\n  ContinuousModel.type = 'visualMap.continuous';\n  ContinuousModel.defaultOption = inheritDefaultOption(VisualMapModel.defaultOption, {\n    align: 'auto',\n    calculable: false,\n    hoverLink: true,\n    realtime: true,\n    handleIcon: 'path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z',\n    handleSize: '120%',\n    handleStyle: {\n      borderColor: '#fff',\n      borderWidth: 1\n    },\n    indicatorIcon: 'circle',\n    indicatorSize: '50%',\n    indicatorStyle: {\n      borderColor: '#fff',\n      borderWidth: 2,\n      shadowBlur: 2,\n      shadowOffsetX: 1,\n      shadowOffsetY: 1,\n      shadowColor: 'rgba(0,0,0,0.2)'\n    }\n    // emphasis: {\n    //     handleStyle: {\n    //         shadowBlur: 3,\n    //         shadowOffsetX: 1,\n    //         shadowOffsetY: 1,\n    //         shadowColor: 'rgba(0,0,0,0.2)'\n    //     }\n    // }\n  });\n  return ContinuousModel;\n}(VisualMapModel);\nfunction getColorStopValues(visualMapModel, valueState, dataExtent) {\n  if (dataExtent[0] === dataExtent[1]) {\n    return dataExtent.slice();\n  }\n  // When using colorHue mapping, it is not linear color any more.\n  // Moreover, canvas gradient seems not to be accurate linear.\n  // FIXME\n  // Should be arbitrary value 100? or based on pixel size?\n  var count = 200;\n  var step = (dataExtent[1] - dataExtent[0]) / count;\n  var value = dataExtent[0];\n  var stopValues = [];\n  for (var i = 0; i <= count && value < dataExtent[1]; i++) {\n    stopValues.push(value);\n    value += step;\n  }\n  stopValues.push(dataExtent[1]);\n  return stopValues;\n}\nexport default ContinuousModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { Rect } from '../../util/graphic.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as layout from '../../util/layout.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport ComponentView from '../../view/Component.js';\nvar VisualMapView = /** @class */function (_super) {\n  __extends(VisualMapView, _super);\n  function VisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = VisualMapView.type;\n    _this.autoPositionValues = {\n      left: 1,\n      right: 1,\n      top: 1,\n      bottom: 1\n    };\n    return _this;\n  }\n  VisualMapView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapView.prototype.render = function (visualMapModel, ecModel, api, payload // TODO: TYPE\n  ) {\n    this.visualMapModel = visualMapModel;\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    this.doRender(visualMapModel, ecModel, api, payload);\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapView.prototype.renderBackground = function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new Rect({\n      z2: -1,\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  };\n  /**\r\n   * @protected\r\n   * @param targetValue can be Infinity or -Infinity\r\n   * @param visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\r\n   * @param opts\r\n   * @param opts.forceState Specify state, instead of using getValueState method.\r\n   * @param opts.convertOpacityToAlpha For color gradient in controller widget.\r\n   * @return {*} Visual value.\r\n   */\n  VisualMapView.prototype.getControllerVisual = function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {};\n    // Default values.\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n    function getter(key) {\n      return visualObj[key];\n    }\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  };\n  VisualMapView.prototype.positionGroup = function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    layout.positionElement(group, model.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n  VisualMapView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {};\n  VisualMapView.type = 'visualMap';\n  return VisualMapView;\n}(ComponentView);\nexport default VisualMapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getLayoutRect } from '../../util/layout.js';\nvar paramsSet = [['left', 'right', 'width'], ['top', 'bottom', 'height']];\n/**\r\n * @param visualMapModel\r\n * @param api\r\n * @param itemSize always [short, long]\r\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\r\n */\nexport function getItemAlign(visualMapModel, api, itemSize) {\n  var modelOption = visualMapModel.option;\n  var itemAlign = modelOption.align;\n  if (itemAlign != null && itemAlign !== 'auto') {\n    return itemAlign;\n  }\n  // Auto decision align.\n  var ecSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n  var reals = paramsSet[realIndex];\n  var fakeValue = [0, null, 10];\n  var layoutInput = {};\n  for (var i = 0; i < 3; i++) {\n    layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n    layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n  }\n  var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n  var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n  return reals[(rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5 < ecSize[rParam[1]] * 0.5 ? 0 : 1];\n}\n/**\r\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\r\n * dataIndexInside means filtered index.\r\n */\n// TODO: TYPE more specified payload types.\nexport function makeHighDownBatch(batch, visualMapModel) {\n  zrUtil.each(batch || [], function (batchItem) {\n    if (batchItem.dataIndex != null) {\n      batchItem.dataIndexInside = batchItem.dataIndex;\n      batchItem.dataIndex = null;\n    }\n    batchItem.highlightKey = 'visualMap' + (visualMapModel ? visualMapModel.componentIndex : '');\n  });\n  return batch;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport LinearGradient from 'zrender/lib/graphic/LinearGradient.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport VisualMapView from './VisualMapView.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport * as helper from './helper.js';\nimport * as modelUtil from '../../util/model.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nimport { setAsHighDownDispatcher } from '../../util/states.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { findEventDispatcher } from '../../util/event.js';\nvar linearMap = numberUtil.linearMap;\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n// Arbitrary value\nvar HOVER_LINK_SIZE = 12;\nvar HOVER_LINK_OUT = 6;\n// Notice:\n// Any \"interval\" should be by the order of [low, high].\n// \"handle0\" (handleIndex === 0) maps to\n// low data value: this._dataInterval[0] and has low coord.\n// \"handle1\" (handleIndex === 1) maps to\n// high data value: this._dataInterval[1] and has high coord.\n// The logic of transform is implemented in this._createBarGroup.\nvar ContinuousView = /** @class */function (_super) {\n  __extends(ContinuousView, _super);\n  function ContinuousView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ContinuousView.type;\n    _this._shapes = {};\n    _this._dataInterval = [];\n    _this._handleEnds = [];\n    _this._hoverLinkDataIndices = [];\n    return _this;\n  }\n  ContinuousView.prototype.init = function (ecModel, api) {\n    _super.prototype.init.call(this, ecModel, api);\n    this._hoverLinkFromSeriesMouseOver = zrUtil.bind(this._hoverLinkFromSeriesMouseOver, this);\n    this._hideIndicator = zrUtil.bind(this._hideIndicator, this);\n  };\n  ContinuousView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {\n    if (!payload || payload.type !== 'selectDataRange' || payload.from !== this.uid) {\n      this._buildView();\n    }\n  };\n  ContinuousView.prototype._buildView = function () {\n    this.group.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var thisGroup = this.group;\n    this._orient = visualMapModel.get('orient');\n    this._useHandle = visualMapModel.get('calculable');\n    this._resetInterval();\n    this._renderBar(thisGroup);\n    var dataRangeText = visualMapModel.get('text');\n    this._renderEndsText(thisGroup, dataRangeText, 0);\n    this._renderEndsText(thisGroup, dataRangeText, 1);\n    // Do this for background size calculation.\n    this._updateView(true);\n    // After updating view, inner shapes is built completely,\n    // and then background can be rendered.\n    this.renderBackground(thisGroup);\n    // Real update view\n    this._updateView();\n    this._enableHoverLinkToSeries();\n    this._enableHoverLinkFromSeries();\n    this.positionGroup(thisGroup);\n  };\n  ContinuousView.prototype._renderEndsText = function (group, dataRangeText, endsIndex) {\n    if (!dataRangeText) {\n      return;\n    }\n    // Compatible with ec2, text[0] map to high value, text[1] map low value.\n    var text = dataRangeText[1 - endsIndex];\n    text = text != null ? text + '' : '';\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var itemSize = visualMapModel.itemSize;\n    var barGroup = this._shapes.mainGroup;\n    var position = this._applyTransform([itemSize[0] / 2, endsIndex === 0 ? -textGap : itemSize[1] + textGap], barGroup);\n    var align = this._applyTransform(endsIndex === 0 ? 'bottom' : 'top', barGroup);\n    var orient = this._orient;\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    this.group.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        x: position[0],\n        y: position[1],\n        verticalAlign: orient === 'horizontal' ? 'middle' : align,\n        align: orient === 'horizontal' ? align : 'center',\n        text: text\n      })\n    }));\n  };\n  ContinuousView.prototype._renderBar = function (targetGroup) {\n    var visualMapModel = this.visualMapModel;\n    var shapes = this._shapes;\n    var itemSize = visualMapModel.itemSize;\n    var orient = this._orient;\n    var useHandle = this._useHandle;\n    var itemAlign = helper.getItemAlign(visualMapModel, this.api, itemSize);\n    var mainGroup = shapes.mainGroup = this._createBarGroup(itemAlign);\n    var gradientBarGroup = new graphic.Group();\n    mainGroup.add(gradientBarGroup);\n    // Bar\n    gradientBarGroup.add(shapes.outOfRange = createPolygon());\n    gradientBarGroup.add(shapes.inRange = createPolygon(null, useHandle ? getCursor(this._orient) : null, zrUtil.bind(this._dragHandle, this, 'all', false), zrUtil.bind(this._dragHandle, this, 'all', true)));\n    // A border radius clip.\n    gradientBarGroup.setClipPath(new graphic.Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: itemSize[0],\n        height: itemSize[1],\n        r: 3\n      }\n    }));\n    var textRect = visualMapModel.textStyleModel.getTextRect('国');\n    var textSize = mathMax(textRect.width, textRect.height);\n    // Handle\n    if (useHandle) {\n      shapes.handleThumbs = [];\n      shapes.handleLabels = [];\n      shapes.handleLabelPoints = [];\n      this._createHandle(visualMapModel, mainGroup, 0, itemSize, textSize, orient);\n      this._createHandle(visualMapModel, mainGroup, 1, itemSize, textSize, orient);\n    }\n    this._createIndicator(visualMapModel, mainGroup, itemSize, textSize, orient);\n    targetGroup.add(mainGroup);\n  };\n  ContinuousView.prototype._createHandle = function (visualMapModel, mainGroup, handleIndex, itemSize, textSize, orient) {\n    var onDrift = zrUtil.bind(this._dragHandle, this, handleIndex, false);\n    var onDragEnd = zrUtil.bind(this._dragHandle, this, handleIndex, true);\n    var handleSize = parsePercent(visualMapModel.get('handleSize'), itemSize[0]);\n    var handleThumb = createSymbol(visualMapModel.get('handleIcon'), -handleSize / 2, -handleSize / 2, handleSize, handleSize, null, true);\n    var cursor = getCursor(this._orient);\n    handleThumb.attr({\n      cursor: cursor,\n      draggable: true,\n      drift: onDrift,\n      ondragend: onDragEnd,\n      onmousemove: function (e) {\n        eventTool.stop(e.event);\n      }\n    });\n    handleThumb.x = itemSize[0] / 2;\n    handleThumb.useStyle(visualMapModel.getModel('handleStyle').getItemStyle());\n    handleThumb.setStyle({\n      strokeNoScale: true,\n      strokeFirst: true\n    });\n    handleThumb.style.lineWidth *= 2;\n    handleThumb.ensureState('emphasis').style = visualMapModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n    setAsHighDownDispatcher(handleThumb, true);\n    mainGroup.add(handleThumb);\n    // Text is always horizontal layout but should not be effected by\n    // transform (orient/inverse). So label is built separately but not\n    // use zrender/graphic/helper/RectText, and is located based on view\n    // group (according to handleLabelPoint) but not barGroup.\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var handleLabel = new graphic.Text({\n      cursor: cursor,\n      draggable: true,\n      drift: onDrift,\n      onmousemove: function (e) {\n        // For mobile device, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragend: onDragEnd,\n      style: createTextStyle(textStyleModel, {\n        x: 0,\n        y: 0,\n        text: ''\n      })\n    });\n    handleLabel.ensureState('blur').style = {\n      opacity: 0.1\n    };\n    handleLabel.stateTransition = {\n      duration: 200\n    };\n    this.group.add(handleLabel);\n    var handleLabelPoint = [handleSize, 0];\n    var shapes = this._shapes;\n    shapes.handleThumbs[handleIndex] = handleThumb;\n    shapes.handleLabelPoints[handleIndex] = handleLabelPoint;\n    shapes.handleLabels[handleIndex] = handleLabel;\n  };\n  ContinuousView.prototype._createIndicator = function (visualMapModel, mainGroup, itemSize, textSize, orient) {\n    var scale = parsePercent(visualMapModel.get('indicatorSize'), itemSize[0]);\n    var indicator = createSymbol(visualMapModel.get('indicatorIcon'), -scale / 2, -scale / 2, scale, scale, null, true);\n    indicator.attr({\n      cursor: 'move',\n      invisible: true,\n      silent: true,\n      x: itemSize[0] / 2\n    });\n    var indicatorStyle = visualMapModel.getModel('indicatorStyle').getItemStyle();\n    if (indicator instanceof ZRImage) {\n      var pathStyle = indicator.style;\n      indicator.useStyle(zrUtil.extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, indicatorStyle));\n    } else {\n      indicator.useStyle(indicatorStyle);\n    }\n    mainGroup.add(indicator);\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var indicatorLabel = new graphic.Text({\n      silent: true,\n      invisible: true,\n      style: createTextStyle(textStyleModel, {\n        x: 0,\n        y: 0,\n        text: ''\n      })\n    });\n    this.group.add(indicatorLabel);\n    var indicatorLabelPoint = [(orient === 'horizontal' ? textSize / 2 : HOVER_LINK_OUT) + itemSize[0] / 2, 0];\n    var shapes = this._shapes;\n    shapes.indicator = indicator;\n    shapes.indicatorLabel = indicatorLabel;\n    shapes.indicatorLabelPoint = indicatorLabelPoint;\n    this._firstShowIndicator = true;\n  };\n  ContinuousView.prototype._dragHandle = function (handleIndex, isEnd,\n  // dx is event from ondragend if isEnd is true. It's not used\n  dx, dy) {\n    if (!this._useHandle) {\n      return;\n    }\n    this._dragging = !isEnd;\n    if (!isEnd) {\n      // Transform dx, dy to bar coordination.\n      var vertex = this._applyTransform([dx, dy], this._shapes.mainGroup, true);\n      this._updateInterval(handleIndex, vertex[1]);\n      this._hideIndicator();\n      // Considering realtime, update view should be executed\n      // before dispatch action.\n      this._updateView();\n    }\n    // dragEnd do not dispatch action when realtime.\n    if (isEnd === !this.visualMapModel.get('realtime')) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'selectDataRange',\n        from: this.uid,\n        visualMapId: this.visualMapModel.id,\n        selected: this._dataInterval.slice()\n      });\n    }\n    if (isEnd) {\n      !this._hovering && this._clearHoverLinkToSeries();\n    } else if (useHoverLinkOnHandle(this.visualMapModel)) {\n      this._doHoverLinkToSeries(this._handleEnds[handleIndex], false);\n    }\n  };\n  ContinuousView.prototype._resetInterval = function () {\n    var visualMapModel = this.visualMapModel;\n    var dataInterval = this._dataInterval = visualMapModel.getSelected();\n    var dataExtent = visualMapModel.getExtent();\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    this._handleEnds = [linearMap(dataInterval[0], dataExtent, sizeExtent, true), linearMap(dataInterval[1], dataExtent, sizeExtent, true)];\n  };\n  /**\r\n   * @private\r\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\r\n   * @param {number} dx\r\n   * @param {number} dy\r\n   */\n  ContinuousView.prototype._updateInterval = function (handleIndex, delta) {\n    delta = delta || 0;\n    var visualMapModel = this.visualMapModel;\n    var handleEnds = this._handleEnds;\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    sliderMove(delta, handleEnds, sizeExtent, handleIndex,\n    // cross is forbidden\n    0);\n    var dataExtent = visualMapModel.getExtent();\n    // Update data interval.\n    this._dataInterval = [linearMap(handleEnds[0], sizeExtent, dataExtent, true), linearMap(handleEnds[1], sizeExtent, dataExtent, true)];\n  };\n  ContinuousView.prototype._updateView = function (forSketch) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var shapes = this._shapes;\n    var outOfRangeHandleEnds = [0, visualMapModel.itemSize[1]];\n    var inRangeHandleEnds = forSketch ? outOfRangeHandleEnds : this._handleEnds;\n    var visualInRange = this._createBarVisual(this._dataInterval, dataExtent, inRangeHandleEnds, 'inRange');\n    var visualOutOfRange = this._createBarVisual(dataExtent, dataExtent, outOfRangeHandleEnds, 'outOfRange');\n    shapes.inRange.setStyle({\n      fill: visualInRange.barColor\n      // opacity: visualInRange.opacity\n    }).setShape('points', visualInRange.barPoints);\n    shapes.outOfRange.setStyle({\n      fill: visualOutOfRange.barColor\n      // opacity: visualOutOfRange.opacity\n    }).setShape('points', visualOutOfRange.barPoints);\n    this._updateHandle(inRangeHandleEnds, visualInRange);\n  };\n  ContinuousView.prototype._createBarVisual = function (dataInterval, dataExtent, handleEnds, forceState) {\n    var opts = {\n      forceState: forceState,\n      convertOpacityToAlpha: true\n    };\n    var colorStops = this._makeColorGradient(dataInterval, opts);\n    var symbolSizes = [this.getControllerVisual(dataInterval[0], 'symbolSize', opts), this.getControllerVisual(dataInterval[1], 'symbolSize', opts)];\n    var barPoints = this._createBarPoints(handleEnds, symbolSizes);\n    return {\n      barColor: new LinearGradient(0, 0, 0, 1, colorStops),\n      barPoints: barPoints,\n      handlesColor: [colorStops[0].color, colorStops[colorStops.length - 1].color]\n    };\n  };\n  ContinuousView.prototype._makeColorGradient = function (dataInterval, opts) {\n    // Considering colorHue, which is not linear, so we have to sample\n    // to calculate gradient color stops, but not only calculate head\n    // and tail.\n    var sampleNumber = 100; // Arbitrary value.\n    var colorStops = [];\n    var step = (dataInterval[1] - dataInterval[0]) / sampleNumber;\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[0], 'color', opts),\n      offset: 0\n    });\n    for (var i = 1; i < sampleNumber; i++) {\n      var currValue = dataInterval[0] + step * i;\n      if (currValue > dataInterval[1]) {\n        break;\n      }\n      colorStops.push({\n        color: this.getControllerVisual(currValue, 'color', opts),\n        offset: i / sampleNumber\n      });\n    }\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[1], 'color', opts),\n      offset: 1\n    });\n    return colorStops;\n  };\n  ContinuousView.prototype._createBarPoints = function (handleEnds, symbolSizes) {\n    var itemSize = this.visualMapModel.itemSize;\n    return [[itemSize[0] - symbolSizes[0], handleEnds[0]], [itemSize[0], handleEnds[0]], [itemSize[0], handleEnds[1]], [itemSize[0] - symbolSizes[1], handleEnds[1]]];\n  };\n  ContinuousView.prototype._createBarGroup = function (itemAlign) {\n    var orient = this._orient;\n    var inverse = this.visualMapModel.get('inverse');\n    return new graphic.Group(orient === 'horizontal' && !inverse ? {\n      scaleX: itemAlign === 'bottom' ? 1 : -1,\n      rotation: Math.PI / 2\n    } : orient === 'horizontal' && inverse ? {\n      scaleX: itemAlign === 'bottom' ? -1 : 1,\n      rotation: -Math.PI / 2\n    } : orient === 'vertical' && !inverse ? {\n      scaleX: itemAlign === 'left' ? 1 : -1,\n      scaleY: -1\n    } : {\n      scaleX: itemAlign === 'left' ? 1 : -1\n    });\n  };\n  ContinuousView.prototype._updateHandle = function (handleEnds, visualInRange) {\n    if (!this._useHandle) {\n      return;\n    }\n    var shapes = this._shapes;\n    var visualMapModel = this.visualMapModel;\n    var handleThumbs = shapes.handleThumbs;\n    var handleLabels = shapes.handleLabels;\n    var itemSize = visualMapModel.itemSize;\n    var dataExtent = visualMapModel.getExtent();\n    var align = this._applyTransform('left', shapes.mainGroup);\n    each([0, 1], function (handleIndex) {\n      var handleThumb = handleThumbs[handleIndex];\n      handleThumb.setStyle('fill', visualInRange.handlesColor[handleIndex]);\n      handleThumb.y = handleEnds[handleIndex];\n      var val = linearMap(handleEnds[handleIndex], [0, itemSize[1]], dataExtent, true);\n      var symbolSize = this.getControllerVisual(val, 'symbolSize');\n      handleThumb.scaleX = handleThumb.scaleY = symbolSize / itemSize[0];\n      handleThumb.x = itemSize[0] - symbolSize / 2;\n      // Update handle label position.\n      var textPoint = graphic.applyTransform(shapes.handleLabelPoints[handleIndex], graphic.getTransform(handleThumb, this.group));\n      if (this._orient === 'horizontal') {\n        // If visualMap controls symbol size, an additional offset needs to be added to labels to avoid collision at minimum size.\n        // Offset reaches value of 0 at \"maximum\" position, so maximum position is not altered at all.\n        var minimumOffset = align === 'left' || align === 'top' ? (itemSize[0] - symbolSize) / 2 : (itemSize[0] - symbolSize) / -2;\n        textPoint[1] += minimumOffset;\n      }\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        text: visualMapModel.formatValueText(this._dataInterval[handleIndex]),\n        verticalAlign: 'middle',\n        align: this._orient === 'vertical' ? this._applyTransform('left', shapes.mainGroup) : 'center'\n      });\n    }, this);\n  };\n  ContinuousView.prototype._showIndicator = function (cursorValue, textValue, rangeSymbol, halfHoverLinkSize) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var itemSize = visualMapModel.itemSize;\n    var sizeExtent = [0, itemSize[1]];\n    var shapes = this._shapes;\n    var indicator = shapes.indicator;\n    if (!indicator) {\n      return;\n    }\n    indicator.attr('invisible', false);\n    var opts = {\n      convertOpacityToAlpha: true\n    };\n    var color = this.getControllerVisual(cursorValue, 'color', opts);\n    var symbolSize = this.getControllerVisual(cursorValue, 'symbolSize');\n    var y = linearMap(cursorValue, dataExtent, sizeExtent, true);\n    var x = itemSize[0] - symbolSize / 2;\n    var oldIndicatorPos = {\n      x: indicator.x,\n      y: indicator.y\n    };\n    // Update handle label position.\n    indicator.y = y;\n    indicator.x = x;\n    var textPoint = graphic.applyTransform(shapes.indicatorLabelPoint, graphic.getTransform(indicator, this.group));\n    var indicatorLabel = shapes.indicatorLabel;\n    indicatorLabel.attr('invisible', false);\n    var align = this._applyTransform('left', shapes.mainGroup);\n    var orient = this._orient;\n    var isHorizontal = orient === 'horizontal';\n    indicatorLabel.setStyle({\n      text: (rangeSymbol ? rangeSymbol : '') + visualMapModel.formatValueText(textValue),\n      verticalAlign: isHorizontal ? align : 'middle',\n      align: isHorizontal ? 'center' : align\n    });\n    var indicatorNewProps = {\n      x: x,\n      y: y,\n      style: {\n        fill: color\n      }\n    };\n    var labelNewProps = {\n      style: {\n        x: textPoint[0],\n        y: textPoint[1]\n      }\n    };\n    if (visualMapModel.ecModel.isAnimationEnabled() && !this._firstShowIndicator) {\n      var animationCfg = {\n        duration: 100,\n        easing: 'cubicInOut',\n        additive: true\n      };\n      indicator.x = oldIndicatorPos.x;\n      indicator.y = oldIndicatorPos.y;\n      indicator.animateTo(indicatorNewProps, animationCfg);\n      indicatorLabel.animateTo(labelNewProps, animationCfg);\n    } else {\n      indicator.attr(indicatorNewProps);\n      indicatorLabel.attr(labelNewProps);\n    }\n    this._firstShowIndicator = false;\n    var handleLabels = this._shapes.handleLabels;\n    if (handleLabels) {\n      for (var i = 0; i < handleLabels.length; i++) {\n        // Fade out handle labels.\n        // NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.\n        this.api.enterBlur(handleLabels[i]);\n      }\n    }\n  };\n  ContinuousView.prototype._enableHoverLinkToSeries = function () {\n    var self = this;\n    this._shapes.mainGroup.on('mousemove', function (e) {\n      self._hovering = true;\n      if (!self._dragging) {\n        var itemSize = self.visualMapModel.itemSize;\n        var pos = self._applyTransform([e.offsetX, e.offsetY], self._shapes.mainGroup, true, true);\n        // For hover link show when hover handle, which might be\n        // below or upper than sizeExtent.\n        pos[1] = mathMin(mathMax(0, pos[1]), itemSize[1]);\n        self._doHoverLinkToSeries(pos[1], 0 <= pos[0] && pos[0] <= itemSize[0]);\n      }\n    }).on('mouseout', function () {\n      // When mouse is out of handle, hoverLink still need\n      // to be displayed when realtime is set as false.\n      self._hovering = false;\n      !self._dragging && self._clearHoverLinkToSeries();\n    });\n  };\n  ContinuousView.prototype._enableHoverLinkFromSeries = function () {\n    var zr = this.api.getZr();\n    if (this.visualMapModel.option.hoverLink) {\n      zr.on('mouseover', this._hoverLinkFromSeriesMouseOver, this);\n      zr.on('mouseout', this._hideIndicator, this);\n    } else {\n      this._clearHoverLinkFromSeries();\n    }\n  };\n  ContinuousView.prototype._doHoverLinkToSeries = function (cursorPos, hoverOnBar) {\n    var visualMapModel = this.visualMapModel;\n    var itemSize = visualMapModel.itemSize;\n    if (!visualMapModel.option.hoverLink) {\n      return;\n    }\n    var sizeExtent = [0, itemSize[1]];\n    var dataExtent = visualMapModel.getExtent();\n    // For hover link show when hover handle, which might be below or upper than sizeExtent.\n    cursorPos = mathMin(mathMax(sizeExtent[0], cursorPos), sizeExtent[1]);\n    var halfHoverLinkSize = getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent);\n    var hoverRange = [cursorPos - halfHoverLinkSize, cursorPos + halfHoverLinkSize];\n    var cursorValue = linearMap(cursorPos, sizeExtent, dataExtent, true);\n    var valueRange = [linearMap(hoverRange[0], sizeExtent, dataExtent, true), linearMap(hoverRange[1], sizeExtent, dataExtent, true)];\n    // Consider data range is out of visualMap range, see test/visualMap-continuous.html,\n    // where china and india has very large population.\n    hoverRange[0] < sizeExtent[0] && (valueRange[0] = -Infinity);\n    hoverRange[1] > sizeExtent[1] && (valueRange[1] = Infinity);\n    // Do not show indicator when mouse is over handle,\n    // otherwise labels overlap, especially when dragging.\n    if (hoverOnBar) {\n      if (valueRange[0] === -Infinity) {\n        this._showIndicator(cursorValue, valueRange[1], '< ', halfHoverLinkSize);\n      } else if (valueRange[1] === Infinity) {\n        this._showIndicator(cursorValue, valueRange[0], '> ', halfHoverLinkSize);\n      } else {\n        this._showIndicator(cursorValue, cursorValue, '≈ ', halfHoverLinkSize);\n      }\n    }\n    // When realtime is set as false, handles, which are in barGroup,\n    // also trigger hoverLink, which help user to realize where they\n    // focus on when dragging. (see test/heatmap-large.html)\n    // When realtime is set as true, highlight will not show when hover\n    // handle, because the label on handle, which displays a exact value\n    // but not range, might mislead users.\n    var oldBatch = this._hoverLinkDataIndices;\n    var newBatch = [];\n    if (hoverOnBar || useHoverLinkOnHandle(visualMapModel)) {\n      newBatch = this._hoverLinkDataIndices = visualMapModel.findTargetDataIndices(valueRange);\n    }\n    var resultBatches = modelUtil.compressBatches(oldBatch, newBatch);\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(resultBatches[0], visualMapModel));\n    this._dispatchHighDown('highlight', helper.makeHighDownBatch(resultBatches[1], visualMapModel));\n  };\n  ContinuousView.prototype._hoverLinkFromSeriesMouseOver = function (e) {\n    var ecData;\n    findEventDispatcher(e.target, function (target) {\n      var currECData = getECData(target);\n      if (currECData.dataIndex != null) {\n        ecData = currECData;\n        return true;\n      }\n    }, true);\n    if (!ecData) {\n      return;\n    }\n    var dataModel = this.ecModel.getSeriesByIndex(ecData.seriesIndex);\n    var visualMapModel = this.visualMapModel;\n    if (!visualMapModel.isTargetSeries(dataModel)) {\n      return;\n    }\n    var data = dataModel.getData(ecData.dataType);\n    var value = data.getStore().get(visualMapModel.getDataDimensionIndex(data), ecData.dataIndex);\n    if (!isNaN(value)) {\n      this._showIndicator(value, value);\n    }\n  };\n  ContinuousView.prototype._hideIndicator = function () {\n    var shapes = this._shapes;\n    shapes.indicator && shapes.indicator.attr('invisible', true);\n    shapes.indicatorLabel && shapes.indicatorLabel.attr('invisible', true);\n    var handleLabels = this._shapes.handleLabels;\n    if (handleLabels) {\n      for (var i = 0; i < handleLabels.length; i++) {\n        // Fade out handle labels.\n        // NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.\n        this.api.leaveBlur(handleLabels[i]);\n      }\n    }\n  };\n  ContinuousView.prototype._clearHoverLinkToSeries = function () {\n    this._hideIndicator();\n    var indices = this._hoverLinkDataIndices;\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(indices, this.visualMapModel));\n    indices.length = 0;\n  };\n  ContinuousView.prototype._clearHoverLinkFromSeries = function () {\n    this._hideIndicator();\n    var zr = this.api.getZr();\n    zr.off('mouseover', this._hoverLinkFromSeriesMouseOver);\n    zr.off('mouseout', this._hideIndicator);\n  };\n  ContinuousView.prototype._applyTransform = function (vertex, element, inverse, global) {\n    var transform = graphic.getTransform(element, global ? null : this.group);\n    return zrUtil.isArray(vertex) ? graphic.applyTransform(vertex, transform, inverse) : graphic.transformDirection(vertex, transform, inverse);\n  };\n  // TODO: TYPE more specified payload types.\n  ContinuousView.prototype._dispatchHighDown = function (type, batch) {\n    batch && batch.length && this.api.dispatchAction({\n      type: type,\n      batch: batch\n    });\n  };\n  /**\r\n   * @override\r\n   */\n  ContinuousView.prototype.dispose = function () {\n    this._clearHoverLinkFromSeries();\n    this._clearHoverLinkToSeries();\n  };\n  ContinuousView.type = 'visualMap.continuous';\n  return ContinuousView;\n}(VisualMapView);\nfunction createPolygon(points, cursor, onDrift, onDragEnd) {\n  return new graphic.Polygon({\n    shape: {\n      points: points\n    },\n    draggable: !!onDrift,\n    cursor: cursor,\n    drift: onDrift,\n    onmousemove: function (e) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n    },\n    ondragend: onDragEnd\n  });\n}\nfunction getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent) {\n  var halfHoverLinkSize = HOVER_LINK_SIZE / 2;\n  var hoverLinkDataSize = visualMapModel.get('hoverLinkDataSize');\n  if (hoverLinkDataSize) {\n    halfHoverLinkSize = linearMap(hoverLinkDataSize, dataExtent, sizeExtent, true) / 2;\n  }\n  return halfHoverLinkSize;\n}\nfunction useHoverLinkOnHandle(visualMapModel) {\n  var hoverLinkOnHandle = visualMapModel.get('hoverLinkOnHandle');\n  return !!(hoverLinkOnHandle == null ? visualMapModel.get('realtime') : hoverLinkOnHandle);\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default ContinuousView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nexport var visualMapActionInfo = {\n  type: 'selectDataRange',\n  event: 'dataRangeSelected',\n  // FIXME use updateView appears wrong\n  update: 'update'\n};\nexport var visualMapActionHander = function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'visualMap',\n    query: payload\n  }, function (model) {\n    model.setSelected(payload.selected);\n  });\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nexport var visualMapEncodingHandlers = [{\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var resetDefines = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      var pipelineContext = seriesModel.pipelineContext;\n      if (!visualMapModel.isTargetSeries(seriesModel) || pipelineContext && pipelineContext.large) {\n        return;\n      }\n      resetDefines.push(visualSolution.incrementalApplyVisual(visualMapModel.stateList, visualMapModel.targetVisuals, zrUtil.bind(visualMapModel.getValueState, visualMapModel), visualMapModel.getDataDimensionIndex(seriesModel.getData())));\n    });\n    return resetDefines;\n  }\n},\n// Only support color.\n{\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var visualMetaList = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      if (visualMapModel.isTargetSeries(seriesModel)) {\n        var visualMeta = visualMapModel.getVisualMeta(zrUtil.bind(getColorVisual, null, seriesModel, visualMapModel)) || {\n          stops: [],\n          outerColors: []\n        };\n        var dimIdx = visualMapModel.getDataDimensionIndex(data);\n        if (dimIdx >= 0) {\n          // visualMeta.dimension should be dimension index, but not concrete dimension.\n          visualMeta.dimension = dimIdx;\n          visualMetaList.push(visualMeta);\n        }\n      }\n    });\n    // console.log(JSON.stringify(visualMetaList.map(a => a.stops)));\n    seriesModel.getData().setVisual('visualMeta', visualMetaList);\n  }\n}];\n// FIXME\n// performance and export for heatmap?\n// value can be Infinity or -Infinity\nfunction getColorVisual(seriesModel, visualMapModel, value, valueState) {\n  var mappings = visualMapModel.targetVisuals[valueState];\n  var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n  var resultVisual = {\n    color: getVisualFromData(seriesModel.getData(), 'color') // default color.\n  };\n  for (var i = 0, len = visualTypes.length; i < len; i++) {\n    var type = visualTypes[i];\n    var mapping = mappings[type === 'opacity' ? '__alphaForOpacity' : type];\n    mapping && mapping.applyVisual(value, getVisual, setVisual);\n  }\n  return resultVisual.color;\n  function getVisual(key) {\n    return resultVisual[key];\n  }\n  function setVisual(key, value) {\n    resultVisual[key] = value;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar each = zrUtil.each;\nexport default function visualMapPreprocessor(option) {\n  var visualMap = option && option.visualMap;\n  if (!zrUtil.isArray(visualMap)) {\n    visualMap = visualMap ? [visualMap] : [];\n  }\n  each(visualMap, function (opt) {\n    if (!opt) {\n      return;\n    }\n    // rename splitList to pieces\n    if (has(opt, 'splitList') && !has(opt, 'pieces')) {\n      opt.pieces = opt.splitList;\n      delete opt.splitList;\n    }\n    var pieces = opt.pieces;\n    if (pieces && zrUtil.isArray(pieces)) {\n      each(pieces, function (piece) {\n        if (zrUtil.isObject(piece)) {\n          if (has(piece, 'start') && !has(piece, 'min')) {\n            piece.min = piece.start;\n          }\n          if (has(piece, 'end') && !has(piece, 'max')) {\n            piece.max = piece.end;\n          }\n        }\n      });\n    }\n  });\n}\nfunction has(obj, name) {\n  return obj && obj.hasOwnProperty && obj.hasOwnProperty(name);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { visualMapActionInfo, visualMapActionHander } from './visualMapAction.js';\nimport { visualMapEncodingHandlers } from './visualEncoding.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport preprocessor from './preprocessor.js';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n  installed = true;\n  registers.registerSubTypeDefaulter('visualMap', function (option) {\n    // Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.\n    return !option.categories && (!(option.pieces ? option.pieces.length > 0 : option.splitNumber > 0) || option.calculable) ? 'continuous' : 'piecewise';\n  });\n  registers.registerAction(visualMapActionInfo, visualMapActionHander);\n  each(visualMapEncodingHandlers, function (handler) {\n    registers.registerVisual(registers.PRIORITY.VISUAL.COMPONENT, handler);\n  });\n  registers.registerPreprocessor(preprocessor);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport ContinuousModel from './ContinuousModel.js';\nimport ContinuousView from './ContinuousView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(ContinuousModel);\n  registers.registerComponentView(ContinuousView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapModel from './VisualMapModel.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport { reformIntervals } from '../../util/number.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar PiecewiseModel = /** @class */function (_super) {\n  __extends(PiecewiseModel, _super);\n  function PiecewiseModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PiecewiseModel.type;\n    /**\r\n     * The order is always [low, ..., high].\r\n     * [{text: string, interval: Array.<number>}, ...]\r\n     */\n    _this._pieceList = [];\n    return _this;\n  }\n  PiecewiseModel.prototype.optionUpdated = function (newOption, isInit) {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    this.resetExtent();\n    var mode = this._mode = this._determineMode();\n    this._pieceList = [];\n    resetMethods[this._mode].call(this, this._pieceList);\n    this._resetSelected(newOption, isInit);\n    var categories = this.option.categories;\n    this.resetVisual(function (mappingOption, state) {\n      if (mode === 'categories') {\n        mappingOption.mappingMethod = 'category';\n        mappingOption.categories = zrUtil.clone(categories);\n      } else {\n        mappingOption.dataExtent = this.getExtent();\n        mappingOption.mappingMethod = 'piecewise';\n        mappingOption.pieceList = zrUtil.map(this._pieceList, function (piece) {\n          piece = zrUtil.clone(piece);\n          if (state !== 'inRange') {\n            // FIXME\n            // outOfRange do not support special visual in pieces.\n            piece.visual = null;\n          }\n          return piece;\n        });\n      }\n    });\n  };\n  /**\r\n   * @protected\r\n   * @override\r\n   */\n  PiecewiseModel.prototype.completeVisualOption = function () {\n    // Consider this case:\n    // visualMap: {\n    //      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]\n    // }\n    // where no inRange/outOfRange set but only pieces. So we should make\n    // default inRange/outOfRange for this case, otherwise visuals that only\n    // appear in `pieces` will not be taken into account in visual encoding.\n    var option = this.option;\n    var visualTypesInPieces = {};\n    var visualTypes = VisualMapping.listVisualTypes();\n    var isCategory = this.isCategory();\n    zrUtil.each(option.pieces, function (piece) {\n      zrUtil.each(visualTypes, function (visualType) {\n        if (piece.hasOwnProperty(visualType)) {\n          visualTypesInPieces[visualType] = 1;\n        }\n      });\n    });\n    zrUtil.each(visualTypesInPieces, function (v, visualType) {\n      var exists = false;\n      zrUtil.each(this.stateList, function (state) {\n        exists = exists || has(option, state, visualType) || has(option.target, state, visualType);\n      }, this);\n      !exists && zrUtil.each(this.stateList, function (state) {\n        (option[state] || (option[state] = {}))[visualType] = visualDefault.get(visualType, state === 'inRange' ? 'active' : 'inactive', isCategory);\n      });\n    }, this);\n    function has(obj, state, visualType) {\n      return obj && obj[state] && obj[state].hasOwnProperty(visualType);\n    }\n    _super.prototype.completeVisualOption.apply(this, arguments);\n  };\n  PiecewiseModel.prototype._resetSelected = function (newOption, isInit) {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    // Selected do not merge but all override.\n    var selected = (isInit ? thisOption : newOption).selected || {};\n    thisOption.selected = selected;\n    // Consider 'not specified' means true.\n    zrUtil.each(pieceList, function (piece, index) {\n      var key = this.getSelectedMapKey(piece);\n      if (!selected.hasOwnProperty(key)) {\n        selected[key] = true;\n      }\n    }, this);\n    if (thisOption.selectedMode === 'single') {\n      // Ensure there is only one selected.\n      var hasSel_1 = false;\n      zrUtil.each(pieceList, function (piece, index) {\n        var key = this.getSelectedMapKey(piece);\n        if (selected[key]) {\n          hasSel_1 ? selected[key] = false : hasSel_1 = true;\n        }\n      }, this);\n    }\n    // thisOption.selectedMode === 'multiple', default: all selected.\n  };\n  /**\r\n   * @public\r\n   */\n  PiecewiseModel.prototype.getItemSymbol = function () {\n    return this.get('itemSymbol');\n  };\n  /**\r\n   * @public\r\n   */\n  PiecewiseModel.prototype.getSelectedMapKey = function (piece) {\n    return this._mode === 'categories' ? piece.value + '' : piece.index + '';\n  };\n  /**\r\n   * @public\r\n   */\n  PiecewiseModel.prototype.getPieceList = function () {\n    return this._pieceList;\n  };\n  /**\r\n   * @return {string}\r\n   */\n  PiecewiseModel.prototype._determineMode = function () {\n    var option = this.option;\n    return option.pieces && option.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber';\n  };\n  /**\r\n   * @override\r\n   */\n  PiecewiseModel.prototype.setSelected = function (selected) {\n    this.option.selected = zrUtil.clone(selected);\n  };\n  /**\r\n   * @override\r\n   */\n  PiecewiseModel.prototype.getValueState = function (value) {\n    var index = VisualMapping.findPieceIndex(value, this._pieceList);\n    return index != null ? this.option.selected[this.getSelectedMapKey(this._pieceList[index])] ? 'inRange' : 'outOfRange' : 'outOfRange';\n  };\n  /**\r\n   * @public\r\n   * @param pieceIndex piece index in visualMapModel.getPieceList()\r\n   */\n  PiecewiseModel.prototype.findTargetDataIndices = function (pieceIndex) {\n    var result = [];\n    var pieceList = this._pieceList;\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimensionIndex(data), function (value, dataIndex) {\n        // Should always base on model pieceList, because it is order sensitive.\n        var pIdx = VisualMapping.findPieceIndex(value, pieceList);\n        pIdx === pieceIndex && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  };\n  /**\r\n   * @private\r\n   * @param piece piece.value or piece.interval is required.\r\n   * @return  Can be Infinity or -Infinity\r\n   */\n  PiecewiseModel.prototype.getRepresentValue = function (piece) {\n    var representValue;\n    if (this.isCategory()) {\n      representValue = piece.value;\n    } else {\n      if (piece.value != null) {\n        representValue = piece.value;\n      } else {\n        var pieceInterval = piece.interval || [];\n        representValue = pieceInterval[0] === -Infinity && pieceInterval[1] === Infinity ? 0 : (pieceInterval[0] + pieceInterval[1]) / 2;\n      }\n    }\n    return representValue;\n  };\n  PiecewiseModel.prototype.getVisualMeta = function (getColorVisual) {\n    // Do not support category. (category axis is ordinal, numerical)\n    if (this.isCategory()) {\n      return;\n    }\n    var stops = [];\n    var outerColors = ['', ''];\n    var visualMapModel = this;\n    function setStop(interval, valueState) {\n      var representValue = visualMapModel.getRepresentValue({\n        interval: interval\n      }); // Not category\n      if (!valueState) {\n        valueState = visualMapModel.getValueState(representValue);\n      }\n      var color = getColorVisual(representValue, valueState);\n      if (interval[0] === -Infinity) {\n        outerColors[0] = color;\n      } else if (interval[1] === Infinity) {\n        outerColors[1] = color;\n      } else {\n        stops.push({\n          value: interval[0],\n          color: color\n        }, {\n          value: interval[1],\n          color: color\n        });\n      }\n    }\n    // Suplement\n    var pieceList = this._pieceList.slice();\n    if (!pieceList.length) {\n      pieceList.push({\n        interval: [-Infinity, Infinity]\n      });\n    } else {\n      var edge = pieceList[0].interval[0];\n      edge !== -Infinity && pieceList.unshift({\n        interval: [-Infinity, edge]\n      });\n      edge = pieceList[pieceList.length - 1].interval[1];\n      edge !== Infinity && pieceList.push({\n        interval: [edge, Infinity]\n      });\n    }\n    var curr = -Infinity;\n    zrUtil.each(pieceList, function (piece) {\n      var interval = piece.interval;\n      if (interval) {\n        // Fulfill gap.\n        interval[0] > curr && setStop([curr, interval[0]], 'outOfRange');\n        setStop(interval.slice());\n        curr = interval[1];\n      }\n    }, this);\n    return {\n      stops: stops,\n      outerColors: outerColors\n    };\n  };\n  PiecewiseModel.type = 'visualMap.piecewise';\n  PiecewiseModel.defaultOption = inheritDefaultOption(VisualMapModel.defaultOption, {\n    selected: null,\n    minOpen: false,\n    maxOpen: false,\n    align: 'auto',\n    itemWidth: 20,\n    itemHeight: 14,\n    itemSymbol: 'roundRect',\n    pieces: null,\n    categories: null,\n    splitNumber: 5,\n    selectedMode: 'multiple',\n    itemGap: 10,\n    hoverLink: true // Enable hover highlight.\n  });\n  return PiecewiseModel;\n}(VisualMapModel);\n;\n/**\r\n * Key is this._mode\r\n * @type {Object}\r\n * @this {module:echarts/component/viusalMap/PiecewiseMode}\r\n */\nvar resetMethods = {\n  splitNumber: function (outPieceList) {\n    var thisOption = this.option;\n    var precision = Math.min(thisOption.precision, 20);\n    var dataExtent = this.getExtent();\n    var splitNumber = thisOption.splitNumber;\n    splitNumber = Math.max(parseInt(splitNumber, 10), 1);\n    thisOption.splitNumber = splitNumber;\n    var splitStep = (dataExtent[1] - dataExtent[0]) / splitNumber;\n    // Precision auto-adaption\n    while (+splitStep.toFixed(precision) !== splitStep && precision < 5) {\n      precision++;\n    }\n    thisOption.precision = precision;\n    splitStep = +splitStep.toFixed(precision);\n    if (thisOption.minOpen) {\n      outPieceList.push({\n        interval: [-Infinity, dataExtent[0]],\n        close: [0, 0]\n      });\n    }\n    for (var index = 0, curr = dataExtent[0]; index < splitNumber; curr += splitStep, index++) {\n      var max = index === splitNumber - 1 ? dataExtent[1] : curr + splitStep;\n      outPieceList.push({\n        interval: [curr, max],\n        close: [1, 1]\n      });\n    }\n    if (thisOption.maxOpen) {\n      outPieceList.push({\n        interval: [dataExtent[1], Infinity],\n        close: [0, 0]\n      });\n    }\n    reformIntervals(outPieceList);\n    zrUtil.each(outPieceList, function (piece, index) {\n      piece.index = index;\n      piece.text = this.formatValueText(piece.interval);\n    }, this);\n  },\n  categories: function (outPieceList) {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.categories, function (cate) {\n      // FIXME category模式也使用pieceList，但在visualMapping中不是使用pieceList。\n      // 是否改一致。\n      outPieceList.push({\n        text: this.formatValueText(cate, true),\n        value: cate\n      });\n    }, this);\n    // See \"Order Rule\".\n    normalizeReverse(thisOption, outPieceList);\n  },\n  pieces: function (outPieceList) {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.pieces, function (pieceListItem, index) {\n      if (!zrUtil.isObject(pieceListItem)) {\n        pieceListItem = {\n          value: pieceListItem\n        };\n      }\n      var item = {\n        text: '',\n        index: index\n      };\n      if (pieceListItem.label != null) {\n        item.text = pieceListItem.label;\n      }\n      if (pieceListItem.hasOwnProperty('value')) {\n        var value = item.value = pieceListItem.value;\n        item.interval = [value, value];\n        item.close = [1, 1];\n      } else {\n        // `min` `max` is legacy option.\n        // `lt` `gt` `lte` `gte` is recommended.\n        var interval = item.interval = [];\n        var close_1 = item.close = [0, 0];\n        var closeList = [1, 0, 1];\n        var infinityList = [-Infinity, Infinity];\n        var useMinMax = [];\n        for (var lg = 0; lg < 2; lg++) {\n          var names = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][lg];\n          for (var i = 0; i < 3 && interval[lg] == null; i++) {\n            interval[lg] = pieceListItem[names[i]];\n            close_1[lg] = closeList[i];\n            useMinMax[lg] = i === 2;\n          }\n          interval[lg] == null && (interval[lg] = infinityList[lg]);\n        }\n        useMinMax[0] && interval[1] === Infinity && (close_1[0] = 0);\n        useMinMax[1] && interval[0] === -Infinity && (close_1[1] = 0);\n        if (process.env.NODE_ENV !== 'production') {\n          if (interval[0] > interval[1]) {\n            console.warn('Piece ' + index + 'is illegal: ' + interval + ' lower bound should not greater then uppper bound.');\n          }\n        }\n        if (interval[0] === interval[1] && close_1[0] && close_1[1]) {\n          // Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],\n          // we use value to lift the priority when min === max\n          item.value = interval[0];\n        }\n      }\n      item.visual = VisualMapping.retrieveVisuals(pieceListItem);\n      outPieceList.push(item);\n    }, this);\n    // See \"Order Rule\".\n    normalizeReverse(thisOption, outPieceList);\n    // Only pieces\n    reformIntervals(outPieceList);\n    zrUtil.each(outPieceList, function (piece) {\n      var close = piece.close;\n      var edgeSymbols = [['<', '≤'][close[1]], ['>', '≥'][close[0]]];\n      piece.text = piece.text || this.formatValueText(piece.value != null ? piece.value : piece.interval, false, edgeSymbols);\n    }, this);\n  }\n};\nfunction normalizeReverse(thisOption, pieceList) {\n  var inverse = thisOption.inverse;\n  if (thisOption.orient === 'vertical' ? !inverse : inverse) {\n    pieceList.reverse();\n  }\n}\nexport default PiecewiseModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapView from './VisualMapView.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport * as layout from '../../util/layout.js';\nimport * as helper from './helper.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar PiecewiseVisualMapView = /** @class */function (_super) {\n  __extends(PiecewiseVisualMapView, _super);\n  function PiecewiseVisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PiecewiseVisualMapView.type;\n    return _this;\n  }\n  PiecewiseVisualMapView.prototype.doRender = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var textStyleModel = visualMapModel.textStyleModel;\n    var textFont = textStyleModel.getFont();\n    var textFill = textStyleModel.getTextColor();\n    var itemAlign = this._getItemAlign();\n    var itemSize = visualMapModel.itemSize;\n    var viewData = this._getViewData();\n    var endsText = viewData.endsText;\n    var showLabel = zrUtil.retrieve(visualMapModel.get('showLabel', true), !endsText);\n    var silent = !visualMapModel.get('selectedMode');\n    endsText && this._renderEndsText(thisGroup, endsText[0], itemSize, showLabel, itemAlign);\n    zrUtil.each(viewData.viewPieceList, function (item) {\n      var piece = item.piece;\n      var itemGroup = new graphic.Group();\n      itemGroup.onclick = zrUtil.bind(this._onItemClick, this, piece);\n      this._enableHoverLink(itemGroup, item.indexInModelPieceList);\n      // TODO Category\n      var representValue = visualMapModel.getRepresentValue(piece);\n      this._createItemSymbol(itemGroup, representValue, [0, 0, itemSize[0], itemSize[1]], silent);\n      if (showLabel) {\n        var visualState = this.visualMapModel.getValueState(representValue);\n        itemGroup.add(new graphic.Text({\n          style: {\n            x: itemAlign === 'right' ? -textGap : itemSize[0] + textGap,\n            y: itemSize[1] / 2,\n            text: piece.text,\n            verticalAlign: 'middle',\n            align: itemAlign,\n            font: textFont,\n            fill: textFill,\n            opacity: visualState === 'outOfRange' ? 0.5 : 1\n          },\n          silent: silent\n        }));\n      }\n      thisGroup.add(itemGroup);\n    }, this);\n    endsText && this._renderEndsText(thisGroup, endsText[1], itemSize, showLabel, itemAlign);\n    layout.box(visualMapModel.get('orient'), thisGroup, visualMapModel.get('itemGap'));\n    this.renderBackground(thisGroup);\n    this.positionGroup(thisGroup);\n  };\n  PiecewiseVisualMapView.prototype._enableHoverLink = function (itemGroup, pieceIndex) {\n    var _this = this;\n    itemGroup.on('mouseover', function () {\n      return onHoverLink('highlight');\n    }).on('mouseout', function () {\n      return onHoverLink('downplay');\n    });\n    var onHoverLink = function (method) {\n      var visualMapModel = _this.visualMapModel;\n      // TODO: TYPE More detailed action types\n      visualMapModel.option.hoverLink && _this.api.dispatchAction({\n        type: method,\n        batch: helper.makeHighDownBatch(visualMapModel.findTargetDataIndices(pieceIndex), visualMapModel)\n      });\n    };\n  };\n  PiecewiseVisualMapView.prototype._getItemAlign = function () {\n    var visualMapModel = this.visualMapModel;\n    var modelOption = visualMapModel.option;\n    if (modelOption.orient === 'vertical') {\n      return helper.getItemAlign(visualMapModel, this.api, visualMapModel.itemSize);\n    } else {\n      // horizontal, most case left unless specifying right.\n      var align = modelOption.align;\n      if (!align || align === 'auto') {\n        align = 'left';\n      }\n      return align;\n    }\n  };\n  PiecewiseVisualMapView.prototype._renderEndsText = function (group, text, itemSize, showLabel, itemAlign) {\n    if (!text) {\n      return;\n    }\n    var itemGroup = new graphic.Group();\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        x: showLabel ? itemAlign === 'right' ? itemSize[0] : 0 : itemSize[0] / 2,\n        y: itemSize[1] / 2,\n        verticalAlign: 'middle',\n        align: showLabel ? itemAlign : 'center',\n        text: text\n      })\n    }));\n    group.add(itemGroup);\n  };\n  /**\r\n   * @private\r\n   * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.\r\n   */\n  PiecewiseVisualMapView.prototype._getViewData = function () {\n    var visualMapModel = this.visualMapModel;\n    var viewPieceList = zrUtil.map(visualMapModel.getPieceList(), function (piece, index) {\n      return {\n        piece: piece,\n        indexInModelPieceList: index\n      };\n    });\n    var endsText = visualMapModel.get('text');\n    // Consider orient and inverse.\n    var orient = visualMapModel.get('orient');\n    var inverse = visualMapModel.get('inverse');\n    // Order of model pieceList is always [low, ..., high]\n    if (orient === 'horizontal' ? inverse : !inverse) {\n      viewPieceList.reverse();\n    }\n    // Origin order of endsText is [high, low]\n    else if (endsText) {\n      endsText = endsText.slice().reverse();\n    }\n    return {\n      viewPieceList: viewPieceList,\n      endsText: endsText\n    };\n  };\n  PiecewiseVisualMapView.prototype._createItemSymbol = function (group, representValue, shapeParam, silent) {\n    var itemSymbol = createSymbol(\n    // symbol will be string\n    this.getControllerVisual(representValue, 'symbol'), shapeParam[0], shapeParam[1], shapeParam[2], shapeParam[3],\n    // color will be string\n    this.getControllerVisual(representValue, 'color'));\n    itemSymbol.silent = silent;\n    group.add(itemSymbol);\n  };\n  PiecewiseVisualMapView.prototype._onItemClick = function (piece) {\n    var visualMapModel = this.visualMapModel;\n    var option = visualMapModel.option;\n    var selectedMode = option.selectedMode;\n    if (!selectedMode) {\n      return;\n    }\n    var selected = zrUtil.clone(option.selected);\n    var newKey = visualMapModel.getSelectedMapKey(piece);\n    if (selectedMode === 'single' || selectedMode === true) {\n      selected[newKey] = true;\n      zrUtil.each(selected, function (o, key) {\n        selected[key] = key === newKey;\n      });\n    } else {\n      selected[newKey] = !selected[newKey];\n    }\n    this.api.dispatchAction({\n      type: 'selectDataRange',\n      from: this.uid,\n      visualMapId: this.visualMapModel.id,\n      selected: selected\n    });\n  };\n  PiecewiseVisualMapView.type = 'visualMap.piecewise';\n  return PiecewiseVisualMapView;\n}(VisualMapView);\nexport default PiecewiseVisualMapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport PiecewiseModel from './PiecewiseModel.js';\nimport PiecewiseView from './PiecewiseView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(PiecewiseModel);\n  registers.registerComponentView(PiecewiseView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { use } from '../../extension.js';\nimport { install as installVisualMapContinuous } from './installVisualMapContinuous.js';\nimport { install as installVisualMapPiecewise } from './installVisualMapPiecewise.js';\nexport function install(registers) {\n  use(installVisualMapContinuous);\n  use(installVisualMapPiecewise);\n  // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}","<script setup lang=\"ts\">\ndefineProps<{\n    title: string;\n    value?: string;\n}>();\n</script>\n\n<template>\n    <div\n        class=\"rounded-lg bg-card-background border-card-border shadow-card border px-3.5 py-2.5\">\n        <dt class=\"font-semibold text-sm text-text-secondary\">{{ title }}</dt>\n        <dd class=\"text-2xl text-text-primary pt-1 font-semibold\">\n            {{ value ?? '--' }}\n        </dd>\n    </div>\n</template>\n\n<style scoped></style>\n","<script setup lang=\"ts\">\nimport VChart, { THEME_KEY } from 'vue-echarts';\nimport { provide, inject, type ComputedRef } from 'vue';\nimport { use } from 'echarts/core';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport { PieChart } from 'echarts/charts';\nimport {\n    GridComponent,\n    LegendComponent,\n    TitleComponent,\n    TooltipComponent,\n} from 'echarts/components';\nimport { formatHumanReadableDuration } from '@/packages/ui/src/utils/time';\nimport { useCssVar } from \"@vueuse/core\";\nimport type { Organization } from \"@/packages/api/src\";\n\nuse([\n    CanvasRenderer,\n    PieChart,\n    TitleComponent,\n    GridComponent,\n    TooltipComponent,\n    LegendComponent,\n]);\n\nprovide(THEME_KEY, 'dark');\nconst labelColor = useCssVar('--color-text-secondary', null, { observe: true });\n\nconst props = defineProps<{\n    weeklyProjectOverview: {\n        value: number;\n        name: string;\n        color: string;\n    }[];\n}>();\n\nconst organization = inject<ComputedRef<Organization>>('organization');\n\nconst seriesData = props.weeklyProjectOverview.map((el) => {\n    return {\n        ...el,\n        ...{\n            itemStyle: {\n                color: `${el.color}BB`,\n            },\n            emphasis: {\n                itemStyle: {\n                    color: `${el.color}`,\n                },\n            },\n        },\n    };\n});\nimport { computed } from 'vue';\n\nconst option = computed(() => ({\n    tooltip: {\n        trigger: 'item',\n    },\n    legend: {\n        bottom: 'bottom',\n        top: '250px',\n        textStyle: {\n            color: labelColor.value,\n        },\n    },\n    backgroundColor: 'transparent',\n    series: [\n        {\n            label: {\n                show: false,\n            },\n            tooltip: {\n                valueFormatter: (value: number) => {\n                    return formatHumanReadableDuration(value, organization?.value?.interval_format, organization?.value?.number_format);\n                },\n            },\n            data: seriesData,\n            top: '-45%',\n            radius: ['30%', '60%'],\n            type: 'pie',\n        },\n    ],\n}));\n</script>\n\n<template>\n    <v-chart\n        class=\"h-[420px] max-w-[300px] mx-auto bg-transparent\"\n        :autoresize=\"true\"\n        :option=\"option\" />\n</template>\n","<script setup lang=\"ts\">\nimport { use } from 'echarts/core';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport { BarChart } from 'echarts/charts';\nimport {\n    GridComponent,\n    LegendComponent,\n    TitleComponent,\n    TooltipComponent,\n} from 'echarts/components';\nimport VChart, { THEME_KEY } from 'vue-echarts';\nimport { computed, provide, inject, type ComputedRef } from 'vue';\nimport StatCard from '@/Components/Common/StatCard.vue';\nimport { ClockIcon } from '@heroicons/vue/20/solid';\nimport CardTitle from '@/packages/ui/src/CardTitle.vue';\nimport LinearGradient from 'zrender/lib/graphic/LinearGradient';\nimport ProjectsChartCard from '@/Components/Dashboard/ProjectsChartCard.vue';\nimport { formatHumanReadableDuration } from '@/packages/ui/src/utils/time';\nimport { formatCents } from '@/packages/ui/src/utils/money';\nimport { getWeekStart } from '@/packages/ui/src/utils/settings';\nimport { useCssVar } from '@vueuse/core';\nimport { getOrganizationCurrencyString } from '@/utils/money';\nimport { useQuery } from '@tanstack/vue-query';\nimport { getCurrentOrganizationId } from '@/utils/useUser';\nimport { api, type Organization } from '@/packages/api/src';\n\nuse([\n    CanvasRenderer,\n    BarChart,\n    TitleComponent,\n    GridComponent,\n    TooltipComponent,\n    LegendComponent,\n]);\n\nprovide(THEME_KEY, 'dark');\n\nconst weekdays = computed(() => {\n    const daysOrder = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n    const dayMapping: Record<string, string> = {\n        monday: 'Mon',\n        tuesday: 'Tue',\n        wednesday: 'Wed',\n        thursday: 'Thu',\n        friday: 'Fri',\n        saturday: 'Sat',\n        sunday: 'Sun',\n    };\n    if (dayMapping[getWeekStart()]) {\n        const customOrder = [];\n        const startIndex = daysOrder.indexOf(dayMapping[getWeekStart()]);\n\n        for (let i = startIndex; i < 7 + startIndex; i++) {\n            customOrder.push(daysOrder[i % daysOrder.length]);\n        }\n\n        return customOrder;\n    } else {\n        return daysOrder;\n    }\n});\n\nconst accentColor = useCssVar('--theme-color-chart', null, { observe: true });\n\n// Get the organization ID using the utility function\nconst organizationId = computed(() => getCurrentOrganizationId());\n\nconst organization = inject<ComputedRef<Organization>>('organization');\n\n// Set up the queries\nconst { data: weeklyProjectOverview } = useQuery({\n    queryKey: ['weeklyProjectOverview', organizationId],\n    queryFn: () => {\n        return api.weeklyProjectOverview({\n            params: {\n                organization: organizationId.value!,\n            },\n        });\n    },\n    enabled: computed(() => !!organizationId.value),\n});\n\nconst { data: totalWeeklyTime } = useQuery({\n    queryKey: ['totalWeeklyTime', organizationId],\n    queryFn: () => {\n        return api.totalWeeklyTime({\n            params: {\n                organization: organizationId.value!,\n            },\n        });\n    },\n    enabled: computed(() => !!organizationId.value),\n});\n\nconst { data: totalWeeklyBillableTime } = useQuery({\n    queryKey: ['totalWeeklyBillableTime', organizationId],\n    queryFn: () => {\n        return api.totalWeeklyBillableTime({\n            params: {\n                organization: organizationId.value!,\n            },\n        });\n    },\n    enabled: computed(() => !!organizationId.value),\n});\n\nconst { data: totalWeeklyBillableAmount } = useQuery({\n    queryKey: ['totalWeeklyBillableAmount', organizationId],\n    queryFn: () => {\n        return api.totalWeeklyBillableAmount({\n            params: {\n                organization: organizationId.value!,\n            },\n        });\n    },\n    enabled: computed(() => !!organizationId.value),\n});\n\nconst { data: weeklyHistory } = useQuery({\n    queryKey: ['weeklyHistory', organizationId],\n    queryFn: () => {\n        return api.weeklyHistory({\n            params: {\n                organization: organizationId.value!,\n            },\n        });\n    },\n    enabled: computed(() => !!organizationId.value),\n});\n\nconst seriesData = computed(() => {\n    if (!weeklyHistory.value) {\n        return [];\n    }\n    return weeklyHistory.value?.map((el) => {\n        return {\n            value: el.duration,\n            ...{\n                itemStyle: {\n                    borderColor: new LinearGradient(0, 0, 0, 1, [\n                        {\n                            offset: 0,\n                            color: 'rgba(' + accentColor.value + ',0.7)',\n                        },\n                        {\n                            offset: 1,\n                            color: 'rgba(' + accentColor.value + ',0.5)',\n                        },\n                    ]),\n                    emphasis: {\n                        color: new LinearGradient(0, 0, 0, 1, [\n                            {\n                                offset: 0,\n                                color: 'rgba(' + accentColor.value + ',0.9)',\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(' + accentColor.value + ',0.7)',\n                            },\n                        ]),\n                    },\n                    borderRadius: [12, 12, 0, 0],\n                    color: new LinearGradient(0, 0, 0, 1, [\n                        {\n                            offset: 0,\n                            color: 'rgba(' + accentColor.value + ',0.7)',\n                        },\n                        {\n                            offset: 1,\n                            color: 'rgba(' + accentColor.value + ',0.5)',\n                        },\n                    ]),\n                },\n            },\n        };\n    });\n});\n\nconst markLineColor = useCssVar('--color-border-secondary', null, {\n    observe: true,\n});\nconst labelColor = useCssVar('--color-text-secondary', null, { observe: true });\nconst option = computed(() => {\n    return {\n        tooltip: {\n            trigger: 'item',\n        },\n        grid: {\n            top: 0,\n            right: 0,\n            bottom: 50,\n            left: 0,\n        },\n        backgroundColor: 'transparent',\n        xAxis: {\n            type: 'category',\n            data: weekdays.value,\n            axisLine: {\n                lineStyle: {\n                    color: 'transparent', // Set desired color here\n                },\n            },\n            axisLabel: {\n                fontSize: 16,\n                fontWeight: 600,\n                margin: 24,\n                fontFamily: 'Outfit, sans-serif',\n                color: labelColor.value,\n            },\n            axisTick: {\n                lineStyle: {\n                    color: 'transparent', // Set desired color here\n                },\n            },\n        },\n        yAxis: {\n            type: 'value',\n            splitLine: {\n                lineStyle: {\n                    color: markLineColor.value,\n                },\n            },\n        },\n        series: [\n            {\n                data: seriesData.value,\n                type: 'bar',\n                tooltip: {\n                    valueFormatter: (value: number) => {\n                        return formatHumanReadableDuration(\n                            value,\n                            organization?.value?.interval_format,\n                            organization?.value?.number_format\n                        );\n                    },\n                },\n            },\n        ],\n    };\n});\n</script>\n\n<template>\n    <div\n        class=\"grid space-y-5 sm:space-y-0 sm:gap-x-6 xl:gap-x-6 grid-cols-1 lg:grid-cols-3 xl:grid-cols-4\">\n        <div class=\"col-span-2 xl:col-span-3\">\n            <CardTitle\n                title=\"This Week\"\n                class=\"pb-8\"\n                :icon=\"ClockIcon\"></CardTitle>\n            <v-chart\n                v-if=\"weeklyHistory\"\n                :autoresize=\"true\"\n                class=\"chart\"\n                :option=\"option\" />\n        </div>\n        <div class=\"space-y-6\">\n            <StatCard\n                title=\"Spent Time\"\n                :value=\"\n                    totalWeeklyTime\n                        ? formatHumanReadableDuration(\n                              totalWeeklyTime,\n                              organization?.interval_format,\n                              organization?.number_format\n                          )\n                        : '--'\n                \" />\n            <StatCard\n                title=\"Billable Time\"\n                :value=\"\n                    totalWeeklyBillableTime\n                        ? formatHumanReadableDuration(\n                              totalWeeklyBillableTime,\n                              organization?.interval_format,\n                              organization?.number_format\n                          )\n                        : '--'\n                \" />\n            <StatCard\n                title=\"Billable Amount\"\n                :value=\"\n                    totalWeeklyBillableAmount\n                        ? formatCents(\n                              totalWeeklyBillableAmount.value,\n                              getOrganizationCurrencyString(),\n                              organization?.currency_format,\n                              organization?.currency_symbol,\n                              organization?.number_format\n                          )\n                        : '--'\n                \" />\n            <ProjectsChartCard\n                v-if=\"weeklyProjectOverview\"\n                :weekly-project-overview=\"\n                    weeklyProjectOverview\n                \"></ProjectsChartCard>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n.chart {\n    height: 280px;\n    background: transparent;\n}\n</style>\n","<script lang=\"ts\" setup>\nimport VChart, { THEME_KEY } from 'vue-echarts';\nimport { provide, computed, inject, type ComputedRef } from 'vue';\nimport { use } from 'echarts/core';\nimport DashboardCard from '@/Components/Dashboard/DashboardCard.vue';\nimport { BoltIcon } from '@heroicons/vue/20/solid';\nimport { HeatmapChart } from 'echarts/charts';\nimport {\n    CalendarComponent,\n    TitleComponent,\n    TooltipComponent,\n    VisualMapComponent,\n} from 'echarts/components';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport dayjs from 'dayjs';\nimport {\n    firstDayIndex,\n    formatDate,\n    formatHumanReadableDuration,\n    getDayJsInstance,\n} from '@/packages/ui/src/utils/time';\nimport { useCssVar } from '@vueuse/core';\nimport { useQuery } from '@tanstack/vue-query';\nimport { getCurrentOrganizationId } from '@/utils/useUser';\nimport { api, type Organization } from '@/packages/api/src';\nimport { LoadingSpinner } from '@/packages/ui/src';\n\nconst organization = inject<ComputedRef<Organization>>('organization');\n\n// Get the organization ID using the utility function\nconst organizationId = computed(() => getCurrentOrganizationId());\n\nconst { data: dailyHoursTracked, isLoading } = useQuery({\n    queryKey: ['dailyTrackedHours', organizationId],\n    queryFn: () => {\n        return api.dailyTrackedHours({\n            params: {\n                organization: organizationId.value!,\n            },\n        });\n    },\n    enabled: computed(() => !!organizationId.value),\n});\n\nuse([\n    TitleComponent,\n    TooltipComponent,\n    VisualMapComponent,\n    CalendarComponent,\n    HeatmapChart,\n    CanvasRenderer,\n]);\n\nprovide(THEME_KEY, 'dark');\n\nconst max = computed(() => {\n    if (!isLoading.value && dailyHoursTracked.value) {\n        return Math.max(\n            Math.max(...dailyHoursTracked.value.map((el) => el.duration)),\n            1\n        );\n    } else {\n        return 1;\n    }\n});\n\nconst backgroundColor = useCssVar('--color-card-background', null, {\n    observe: true,\n});\nconst itemBackgroundColor = useCssVar('--color-bg-tertiary', null, {\n    observe: true,\n});\n\nconst option = computed(() => {\n    return {\n        tooltip: {},\n        visualMap: {\n            min: 0,\n            max: max.value,\n            type: 'piecewise',\n            orient: 'horizontal',\n            left: 'center',\n            top: 'center',\n            inRange: {\n                color: [itemBackgroundColor.value, '#2DBE45'],\n            },\n            show: false,\n        },\n        calendar: {\n            top: 40,\n            bottom: 20,\n            left: 40,\n            right: 10,\n            cellSize: [40, 40],\n            dayLabel: {\n                firstDay: firstDayIndex.value,\n            },\n            splitLine: {\n                show: false,\n            },\n            range: [\n                dayjs().format('YYYY-MM-DD'),\n                getDayJsInstance()()\n                    .subtract(50, 'day')\n                    .startOf('week')\n                    .format('YYYY-MM-DD'),\n            ],\n            itemStyle: {\n                color: 'transparent',\n                borderWidth: 8,\n                borderColor: backgroundColor.value,\n            },\n            yearLabel: { show: false },\n        },\n        series: {\n            type: 'heatmap',\n            coordinateSystem: 'calendar',\n            data:\n                dailyHoursTracked?.value?.map((el) => [el.date, el.duration]) ??\n                [],\n            itemStyle: {\n                borderRadius: 5,\n                borderColor: 'rgba(255,255,255,0.05)',\n                borderWidth: 1,\n            },\n            tooltip: {\n                valueFormatter: (value: number, dataIndex: number) => {\n                    if (dailyHoursTracked?.value) {\n                        return (\n                            formatDate(\n                                dailyHoursTracked?.value[dataIndex].date,\n                                organization?.value?.date_format\n                            ) +\n                            ': ' +\n                            formatHumanReadableDuration(\n                                value,\n                                organization?.value?.interval_format,\n                                organization?.value?.number_format\n                            )\n                        );\n                    } else {\n                        return '';\n                    }\n                },\n            },\n        },\n        backgroundColor: 'transparent',\n    };\n});\n</script>\n\n<template>\n    <DashboardCard title=\"Activity Graph\" :icon=\"BoltIcon\">\n        <div class=\"px-2\">\n            <div v-if=\"isLoading\" class=\"flex justify-center items-center h-40\">\n                <LoadingSpinner />\n            </div>\n            <div v-else-if=\"dailyHoursTracked\">\n                <v-chart\n                    class=\"chart\"\n                    :autoresize=\"true\"\n                    :option=\"option\"\n                    style=\"height: 260px; background-color: transparent\" />\n            </div>\n            <div v-else class=\"text-center text-gray-500 py-8\">\n                No activity data available\n            </div>\n        </div>\n    </DashboardCard>\n</template>\n\n<style></style>\n","<script setup lang=\"ts\">\nimport AppLayout from \"@/Layouts/AppLayout.vue\";\nimport TimeTracker from \"@/Components/TimeTracker.vue\";\nimport RecentlyTrackedTasksCard from \"@/Components/Dashboard/RecentlyTrackedTasksCard.vue\";\nimport LastSevenDaysCard from \"@/Components/Dashboard/LastSevenDaysCard.vue\";\nimport TeamActivityCard from \"@/Components/Dashboard/TeamActivityCard.vue\";\nimport ThisWeekOverview from \"@/Components/Dashboard/ThisWeekOverview.vue\";\nimport ActivityGraphCard from \"@/Components/Dashboard/ActivityGraphCard.vue\";\nimport MainContainer from \"@/packages/ui/src/MainContainer.vue\";\nimport { canViewMembers } from \"@/utils/permissions\";\nimport { useQueryClient } from \"@tanstack/vue-query\";\n\nconst queryClient = useQueryClient();\n\nconst refreshDashboardData = () => {\n    // Invalidate all dashboard queries to trigger refetching\n    queryClient.invalidateQueries({ queryKey: [\"latestTasks\"] });\n    queryClient.invalidateQueries({ queryKey: [\"lastSevenDays\"] });\n    queryClient.invalidateQueries({ queryKey: [\"dailyTrackedHours\"] });\n    queryClient.invalidateQueries({ queryKey: [\"latestTeamActivity\"] });\n    queryClient.invalidateQueries({ queryKey: [\"weeklyProjectOverview\"] });\n    queryClient.invalidateQueries({ queryKey: [\"totalWeeklyTime\"] });\n    queryClient.invalidateQueries({ queryKey: [\"totalWeeklyBillableTime\"] });\n    queryClient.invalidateQueries({ queryKey: [\"totalWeeklyBillableAmount\"] });\n    queryClient.invalidateQueries({ queryKey: [\"weeklyHistory\"] });\n    queryClient.invalidateQueries({ queryKey: [\"timeEntries\"] });\n};\n\n</script>\n\n<template>\n    <AppLayout title=\"Dashboard\" data-testid=\"dashboard_view\">\n            <MainContainer\n                class=\"pt-5 sm:pt-8 pb-4 sm:pb-6 border-b border-default-background-separator\">\n                <TimeTracker @change=\"refreshDashboardData\"></TimeTracker>\n            </MainContainer>\n\n            <MainContainer\n                class=\"grid gap-5 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 pt-3 sm:pt-5 pb-4 sm:pb-6 border-b border-default-background-separator items-stretch\">\n                <RecentlyTrackedTasksCard></RecentlyTrackedTasksCard>\n                <LastSevenDaysCard></LastSevenDaysCard>\n                <ActivityGraphCard></ActivityGraphCard>\n                <TeamActivityCard\n                    v-if=\"canViewMembers()\"\n                    class=\"flex lg:hidden xl:flex\">\n                </TeamActivityCard>\n            </MainContainer>\n            <MainContainer class=\"py-5\">\n                <ThisWeekOverview></ThisWeekOverview>\n            </MainContainer>\n    </AppLayout>\n</template>\n"],"names":["render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","props","__props","projects","storeToRefs","useProjectsStore","project","computed","tasks","useTasksStore","task","currentTimeEntry","useCurrentTimeEntryStore","setActiveState","startTaskTimer","getDayJsInstance","_hoisted_1","_hoisted_2","_hoisted_3","timeEntry","_hoisted_4","_toDisplayString","_hoisted_5","_createVNode","ProjectBadge","_a","_hoisted_6","_hoisted_7","_createBlock","_unref","ChevronRightIcon","_hoisted_8","_hoisted_9","TimeTrackerStartStop","CardTitle","title","icon","_renderSlot","organizationId","getCurrentOrganizationId","timeEntriesResponse","isLoading","refetch","useQuery","api","getCurrentMembershipId","latestTasks","filteredLatestTasks","item","index","self","t","tag","DashboardCard","CheckCircleIcon","LoadingSpinner","_Fragment","_renderList","lastTask","RecentlyTrackedTasksCardEntry","_normalizeClass","PlusCircleIcon","SecondaryButton","$event","router","route","accentColor","useCssVar","seriesData","el","option","ref","VChart","organization","inject","formatHumanReadableDate","date","DayOverviewCardChart","history","formatHumanReadableDuration","duration","last7Days","_","i","CalendarIcon","day","DayOverviewCardEntry","name","working","description","latestTeamActivity","UserGroupIcon","activity","TeamActivityCardEntry","each","zrUtil.each","isObject","zrUtil.isObject","CATEGORY_DEFAULT_VISUAL_INDEX","VisualMapping","mappingMethod","visualType","thisOption","zrUtil.clone","normalizers","visualHandler","normalizeVisualRange","preprocessForPiecewise","preprocessForSpecifiedCategory","zrUtil.assert","value","normalized","zrUtil.bind","zrUtil.keys","visual","callback","context","isPrimary","newVisual","zrUtil.isArray","v","key","newVal","obj","ret","hasVisual","h","visualTypes","types_1","type","type1","type2","visualType1","visualType2","pieceList","findClosestWhenOutside","possibleI","abs","len","pieceValue","zrUtil.isString","updatePossible","piece","interval","close_1","littleThan","val","newAbs","makeApplyVisual","isNormalized","doMapCategory","out","returnRGBArray","zrColor.fastLerp","zrColor.stringify","result","getSpecifiedVisual","doMapFixed","makePartialColorVisualHandler","color","zrColor.modifyHSL","zrColor.modifyAlpha","createNormalizedToNumericVisual","getter","setter","symbolCfg","doMapToArray","categories","categoryMap","cate","visualArr_1","setVisualToOption","isCategory","visualArr","doNotNeedPair","applyValue","colorChannel","linearMap","sourceExtent","pieceIndex","zrUtil.map","zrColor.parse","zrUtil.noop","close","a","b","sliderMove","delta","handleEnds","extent","handleIndex","minSpan","maxSpan","extentSpan","restrict","handleSpan","originalDistSign","getSpanSign","extentMinSpan","realExtent","currDistSign","dist","extend","GRADIENT_LEVELS","HeatmapLayer","canvas","platformApi","data","width","height","normalize","colorFunc","isInRange","brush","gradientInRange","gradientOutOfRange","r","ctx","p","x","y","alpha","imageData","pixels","offset","pixelLen","minOpacity","maxOpacity","diffOpacity","gradientOffset","gradient","brushCanvas","d","state","gradientPixels","pixelsSingleState","off","getIsInPiecewiseRange","dataExtent","selected","dataSpan","lastIndex","getIsInContinuousRange","range","isGeoCoordSys","coordSys","dimensions","HeatmapView","_super","__extends","_this","seriesModel","ecModel","visualMapOfThisSeries","visualMap","targetSeries","params","cb","graphic.traverseElements","start","end","incremental","isCartesian2d","isCoordinateSystemType","xAxisExtent","yAxisExtent","xAxis","yAxis","group","emphasisStyle","blurStyle","selectStyle","borderRadius","labelStatesModels","getLabelStatesModels","emphasisModel","focus","blurScope","emphasisDisabled","dataDims","idx","rect","style","dataDimX","dataDimY","point","graphic.Rect","itemModel","emphasisModel_1","rawValue","defaultText","setLabelStyle","toggleHoverEmphasis","geo","visualMapModel","inRangeVisuals","outOfRangeVisuals","hmLayer","roamTransform","x2","y2","dims","points","lng","lat","pt","img","graphic.Image","ChartView","HeatmapSeriesModel","createSeriesData","coordSysCreator","CoordinateSystem","SeriesModel","install","registers","CalendarModel","parentModel","inputPositionParams","getLayoutParams","mergeAndNormalizeLayoutParams","ComponentModel","target","raw","cellSize","cellSizeArr","ignoreSize","hvIdx","sizeCalculable","mergeLayoutParam","CalendarView","calendarModel","rangeData","orient","localeModel","itemRectStyleModel","sw","sh","lineStyleModel","show","lineWidth","firstDay","addPoints","rs","lineStyle","poyline","graphic.Polyline","parsedDate","tmpD","formatter","isString","formatTplSimple","isFunction","textEl","position","margin","aligns","rotate","yearLabel","pos","xc","yc","posPoints","content","yearText","graphic.Text","createTextStyle","isCenter","align","vAlign","monthLabel","nameMap","termPoints","getLocaleModel","axis","labelSilent","tmp","firstDayPoints","name_1","monthText","isStart","dayLabel","firstDayOfWeek","dayOfWeekShort","map","parsePercent","weekText","ComponentView","PROXIMATE_ONE_DAY","Calendar","numberUtil.parseDate","m","mStr","dStr","n","weeks","whNames","layoutParams","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","layout.getLayoutRect","clamp","dayInfo","week","nthWeek","nthX","nthY","finder","getCoordSys","pixel","normalizedRange","rangeStr","parsedRange","reversed","allDay","startDateNum","endDateNum","dateNum","sign","rangeInfo","nthDay","calendarList","calendar","calendarSeries","hasKeys","createVisualMappings","stateList","supplementVisualOption","visualMappings","mappings","createMappings","visualData","mappingOption","Creater","replaceVisualOption","newOption","keys","has","incrementalApplyVisual","getValueState","dim","visualTypesMap","dimIndex","getVisual","getItemVisualFromData","dataIndex","setVisual","setItemVisualFromData","store","rawDataItem","valueState","visualDefault","defaultOption","mapVisual","eachVisual","isArray","asc","numberUtil.asc","numberUtil.linearMap","VisualMapModel","isInit","visualSolution.replaceVisualOption","visualSolution.createVisualMappings","optionSeriesIndex","seriesIndices","modelUtil.normalizeToArray","seriesIndex","is","model","edgeSymbols","precision","dataBound","isMinMax","textValue","toFixed","zrUtil.isFunction","optDim","dimNames","dimName","dimInfo","base","controller","zrUtil.merge","completeSingle","completeInactive","completeController","stateExist","stateAbsent","optExist","optAbsent","defa","symbolExists","symbolSizeExists","inactiveColor","itemSymbol","defaultSymbol","itemSize","visuals","symbol","symbolSize","max_1","getColorVisual","DEFAULT_BAR_BOUND","ContinuousModel","dataInterval","dataIndices","oVals","getColorStopValues","iVals","stops","setStop","iIdx","oIdx","iLen","oLen","first","stopsLen","inheritDefaultOption","count","step","stopValues","VisualMapView","payload","padding","formatUtil.normalizeCssArray","Rect","targetValue","visualCluster","opts","forceState","visualObj","defaultColor","visualMapping","layout.positionElement","paramsSet","getItemAlign","modelOption","itemAlign","ecSize","realIndex","reals","fakeValue","layoutInput","rParam","getLayoutRect","makeHighDownBatch","batch","batchItem","mathMin","mathMax","HOVER_LINK_SIZE","HOVER_LINK_OUT","ContinuousView","thisGroup","dataRangeText","endsIndex","text","textGap","barGroup","textStyleModel","targetGroup","shapes","useHandle","helper.getItemAlign","mainGroup","gradientBarGroup","graphic.Group","createPolygon","getCursor","textRect","textSize","onDrift","onDragEnd","handleSize","handleThumb","createSymbol","cursor","e","eventTool.stop","setAsHighDownDispatcher","handleLabel","handleLabelPoint","scale","indicator","indicatorStyle","ZRImage","pathStyle","zrUtil.extend","indicatorLabel","indicatorLabelPoint","isEnd","dx","dy","vertex","useHoverLinkOnHandle","sizeExtent","forSketch","outOfRangeHandleEnds","inRangeHandleEnds","visualInRange","visualOutOfRange","colorStops","symbolSizes","barPoints","LinearGradient","sampleNumber","currValue","inverse","handleThumbs","handleLabels","textPoint","graphic.applyTransform","graphic.getTransform","minimumOffset","cursorValue","rangeSymbol","halfHoverLinkSize","oldIndicatorPos","isHorizontal","indicatorNewProps","labelNewProps","animationCfg","zr","cursorPos","hoverOnBar","getHalfHoverLinkSize","hoverRange","valueRange","oldBatch","newBatch","resultBatches","modelUtil.compressBatches","helper.makeHighDownBatch","ecData","findEventDispatcher","currECData","getECData","dataModel","indices","element","global","transform","graphic.transformDirection","graphic.Polygon","hoverLinkDataSize","hoverLinkOnHandle","visualMapActionInfo","visualMapActionHander","visualMapEncodingHandlers","resetDefines","pipelineContext","visualSolution.incrementalApplyVisual","visualMetaList","visualMeta","dimIdx","resultVisual","getVisualFromData","mapping","visualMapPreprocessor","opt","pieces","installed","installCommon","handler","preprocessor","PiecewiseModel","mode","resetMethods","visualTypesInPieces","exists","hasSel_1","pIdx","representValue","pieceInterval","outerColors","edge","curr","outPieceList","splitNumber","splitStep","max","reformIntervals","normalizeReverse","pieceListItem","closeList","infinityList","useMinMax","lg","names","PiecewiseVisualMapView","textFont","textFill","viewData","endsText","showLabel","zrUtil.retrieve","silent","itemGroup","visualState","layout.box","onHoverLink","method","viewPieceList","shapeParam","selectedMode","newKey","o","PiecewiseView","use","installVisualMapContinuous","installVisualMapPiecewise","CanvasRenderer","PieChart","TitleComponent","GridComponent","TooltipComponent","LegendComponent","provide","THEME_KEY","labelColor","_b","BarChart","weekdays","daysOrder","dayMapping","getWeekStart","customOrder","startIndex","weeklyProjectOverview","totalWeeklyTime","totalWeeklyBillableTime","totalWeeklyBillableAmount","weeklyHistory","markLineColor","ClockIcon","StatCard","formatCents","getOrganizationCurrencyString","ProjectsChartCard","dailyHoursTracked","VisualMapComponent","CalendarComponent","HeatmapChart","backgroundColor","itemBackgroundColor","firstDayIndex","dayjs","formatDate","_c","BoltIcon","queryClient","useQueryClient","refreshDashboardData","AppLayout","MainContainer","TimeTracker","RecentlyTrackedTasksCard","LastSevenDaysCard","ActivityGraphCard","canViewMembers","TeamActivityCard","ThisWeekOverview"],"mappings":"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","x_google_ignoreList":[0,1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]}