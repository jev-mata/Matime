{"version":3,"file":"DatePicker-DsbVNWEA.js","sources":["../../../resources/js/packages/ui/src/Input/DatePicker.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, watch } from 'vue';\nimport {\n    getDayJsInstance,\n    getLocalizedDayJs,\n} from '@/packages/ui/src/utils/time';\nimport { twMerge } from 'tailwind-merge';\n\nconst props = defineProps<{\n    class?: string;\n    tabindex?: string;\n}>();\n\n// This has to be a localized timestamp, not UTC\nconst model = defineModel<string | null>({\n    default: null,\n});\n\nconst tempDate = ref(getLocalizedDayJs(model.value).format('YYYY-MM-DD'));\n\nwatch(model, (value) => {\n    tempDate.value = getLocalizedDayJs(value).format('YYYY-MM-DD');\n});\n\nfunction updateDate(event: Event) {\n    const target = event.target as HTMLInputElement;\n    const newValue = target.value;\n    const newDate = getDayJsInstance()(newValue);\n    if (newDate.isValid()) {\n        model.value = getLocalizedDayJs(model.value)\n            .set('year', newDate.year())\n            .set('month', newDate.month())\n            .set('date', newDate.date())\n            .format();\n        emit('changed', model.value);\n    }\n}\n\nconst datePicker = ref<HTMLInputElement | null>(null);\n\nfunction updateTempValue(event: Event) {\n    const target = event.target as HTMLInputElement;\n    tempDate.value = target.value;\n}\n\nconst emit = defineEmits(['changed']);\n</script>\n\n<template>\n    <div class=\"flex items-center text-text-secondary\">\n        <input\n            id=\"start\"\n            ref=\"datePicker\"\n            :tabindex=\"tabindex\"\n            :class=\"\n                twMerge(\n                    'bg-input-background border text-text-primary border-input-border focus-visible:outline-0 focus-visible:border-input-border-active focus-visible:ring-0 rounded-md',\n                    props.class\n                )\n            \"\n            type=\"date\"\n            name=\"trip-start\"\n            :value=\"tempDate\"\n            @change=\"updateTempValue\"\n            @blur=\"updateDate\"\n            @keydown.enter=\"updateDate\" />\n    </div>\n</template>\n\n<style scoped>\ninput::-webkit-calendar-picker-indicator {\n    filter: invert(1);\n\n    opacity: 0.2;\n}\n</style>\n"],"names":["props","__props","model","_useModel","tempDate","ref","getLocalizedDayJs","watch","value","updateDate","event","newValue","newDate","getDayJsInstance","emit","datePicker","updateTempValue","target","__emit","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","tabindex","_normalizeClass","_unref","twMerge"],"mappings":"6gBAQA,MAAMA,EAAQC,EAMRC,EAAQC,gBAEb,EAEKC,EAAWC,EAAIC,EAAkBJ,EAAM,KAAK,EAAE,OAAO,YAAY,CAAC,EAExEK,EAAML,EAAQM,GAAU,CACpBJ,EAAS,MAAQE,EAAkBE,CAAK,EAAE,OAAO,YAAY,CAAA,CAChE,EAED,SAASC,EAAWC,EAAc,CAE9B,MAAMC,EADSD,EAAM,OACG,MAClBE,EAAUC,EAAA,EAAmBF,CAAQ,EACvCC,EAAQ,YACRV,EAAM,MAAQI,EAAkBJ,EAAM,KAAK,EACtC,IAAI,OAAQU,EAAQ,MAAM,EAC1B,IAAI,QAASA,EAAQ,MAAA,CAAO,EAC5B,IAAI,OAAQA,EAAQ,MAAM,EAC1B,OAAA,EACLE,EAAK,UAAWZ,EAAM,KAAK,EAC/B,CAGJ,MAAMa,EAAaV,EAA6B,IAAI,EAEpD,SAASW,EAAgBN,EAAc,CACnC,MAAMO,EAASP,EAAM,OACrBN,EAAS,MAAQa,EAAO,KAAA,CAG5B,MAAMH,EAAOI,gBAITC,EAAA,EAAAC,EAiBM,MAjBNC,EAiBM,CAhBFC,EAekC,QAAA,CAd9B,GAAG,gBACC,aAAJ,IAAIP,EACH,SAAUQ,EAAAA,SACV,MAAKC,EAAmBC,EAAAC,CAAA,sKAAsN1B,EAAM,KAAA,GAMrP,KAAK,OACL,KAAK,aACJ,MAAOI,EAAA,MACP,SAAQY,EACR,OAAMP,EACN,YAAeA,EAAU,CAAA,OAAA,CAAA,CAAA"}