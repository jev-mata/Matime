import{M as Z}from"./MainContainer-DAB7AmGD.js";import{_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-7v21bPMn.js";import{_ as y}from"./SecondaryButton.vue_vue_type_script_setup_true_lang-iS1Fl1UI.js";import{u as b,a as H}from"./useMembers-B2Kv7mzm.js";import"./notification-BrLDF-00.js";import{e as k,o as m,a as e,d as C,c as v,u as r,w as i,b as n,f as w,i as P,t as h,m as R,p as V,r as _,g as x,n as D,q as B,s as U,l as T,F,h as L,v as O}from"./app-CZLkYVhz.js";import{c as M,a as G,b as N}from"./permissions-hl9spDHx.js";import{_ as J,a as Q,b as g,r as W,c as X}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BgJhjCYQ.js";import{r as Y}from"./PencilSquareIcon-krbQY_ys.js";import{r as ee}from"./ArchiveBoxIcon-DcNh_sj8.js";import{_ as te,T as le}from"./TableHeading-5GheUSuW.js";import{_ as j}from"./TextInput.vue_vue_type_script_setup_true_lang-DUXudii_.js";import{_ as E}from"./DialogModal.vue_vue_type_script_setup_true_lang-Dn6gUihL.js";import{_ as S}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-DGqi3YE0.js";import{u as I}from"./index-CHolqtoz.js";import{r as se}from"./CheckCircleIcon-ByT7Dbrk.js";import{_ as ne}from"./InputLabel.vue_vue_type_script_setup_true_lang-DP24QN7l.js";import{r as q}from"./PlusIcon-gin79_-P.js";import{_ as ie}from"./PageTitle.vue_vue_type_script_setup_true_lang-DVaC2uzI.js";import{_ as ae,a as A}from"./TabBar.vue_vue_type_script_setup_true_lang-D5JkrlW4.js";import{r as oe}from"./UserCircleIcon-B_03lMym.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-2TV_nqEm.js";import"./utils-DLNr0s0q.js";import"./bundle-mjs-D696Ktp4.js";import"./useFocusGuards-DKIr8CEw.js";import"./billing-F8TVwX2K.js";import"./time-DR3Bm2fi.js";import"./utc-YQln_hJX.js";import"./useOrganization-Dnx8kCk3.js";import"./init-DIMnQ95t.js";import"./useUser-Dc3_Hjqo.js";import"./useCurrentTimeEntry-CruyZJNI.js";/* empty css                                                                             */import"./money-BufCQq2I.js";import"./theme-DlEllDdR.js";import"./useQuery-QapR65Yu.js";import"./LoadingSpinner.vue_vue_type_script_setup_true_lang-CAmSBxXF.js";import"./ClockIcon-DtFwBiYn.js";import"./UserGroupIcon-DEClCgLE.js";import"./TagIcon-D32GhY_O.js";import"./Collection-Ddu0RjBR.js";import"./usePrimitiveElement-DVmz0I4p.js";import"./useTypeahead-DuqX-vkx.js";import"./RovingFocusGroup-j8ihdqB0.js";import"./Modal.vue_vue_type_script_setup_true_lang-DiIZ2Ob1.js";function re(f,u){return m(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z","clip-rule":"evenodd"})])}const de=["aria-label"],pe=C({__name:"ClientMoreOptionsDropdown",props:{client:{}},emits:["delete","edit","archive"],setup(f,{emit:u}){const t=u,a=f;return(d,l)=>(m(),v(r(J),null,{default:i(()=>[n(r(Q),{"as-child":""},{default:i(()=>[e("button",{class:"focus-visible:outline-none focus-visible:bg-card-background rounded-full focus-visible:ring-2 focus-visible:ring-ring focus-visible:opacity-100 hover:bg-card-background group-hover:opacity-100 opacity-20 transition-opacity text-text-secondary","aria-label":"Actions for Client "+a.client.name},l[3]||(l[3]=[e("svg",{class:"h-8 w-8 p-1 rounded-full",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 5.92A.96.96 0 1 0 12 4a.96.96 0 0 0 0 1.92m0 7.04a.96.96 0 1 0 0-1.92a.96.96 0 0 0 0 1.92M12 20a.96.96 0 1 0 0-1.92a.96.96 0 0 0 0 1.92"})],-1)]),8,de)]),_:1}),n(r(X),{class:"min-w-[150px] dark:bg-[#0F1426] dark:border-[#303F61]",align:"end"},{default:i(()=>[r(M)()?(m(),v(r(g),{key:0,"aria-label":"Edit Client "+a.client.name,"data-testid":"client_edit",class:"flex items-center space-x-3 cursor-pointer dark:border-[#303F61] dark:bg-[#0F1426] dark:text-[#7D88A1] hover:dark:text-[#BFC7D6]",onClick:l[0]||(l[0]=s=>t("edit"))},{default:i(()=>[n(r(Y),{class:"w-5 text-icon-active"}),l[4]||(l[4]=e("span",null,"Edit",-1))]),_:1,__:[4]},8,["aria-label"])):w("",!0),r(M)()?(m(),v(r(g),{key:1,"aria-label":"Archive Client "+a.client.name,class:"flex items-center space-x-3 cursor-pointer dark:border-[#303F61] dark:bg-[#0F1426] dark:text-[#7D88A1] hover:dark:text-[#BFC7D6]",onClick:l[1]||(l[1]=P(s=>t("archive"),["prevent"]))},{default:i(()=>[n(r(ee),{class:"w-5 text-icon-active"}),e("span",null,h(d.client.is_archived?"Unarchive":"Archive"),1)]),_:1},8,["aria-label"])):w("",!0),r(G)()?(m(),v(r(g),{key:2,"aria-label":"Delete Client "+a.client.name,"data-testid":"client_delete",class:"flex items-center space-x-3 cursor-pointer text-destructive focus:text-destructive dark:border-[#303F61] dark:bg-[#0F1426] dark:text-[#7D88A1] hover:dark:text-[#BFC7D6]",onClick:l[2]||(l[2]=s=>t("delete"))},{default:i(()=>[n(r(W),{class:"w-5"}),l[5]||(l[5]=e("span",null,"Delete",-1))]),_:1,__:[5]},8,["aria-label"])):w("",!0)]),_:1})]),_:1}))}}),ue={class:"flex items-center space-x-4"},me={class:"col-span-6 sm:col-span-4 flex-1"},ce=C({__name:"ClientEditModal",props:R({client:{}},{show:{default:!1},showModifiers:{}}),emits:["update:show"],setup(f){const{updateClient:u}=b(),t=V(f,"show"),a=_(!1),d=f,l=_({name:d.client.name});async function s(){await u(d.client.id,l.value),t.value=!1}const c=_(null);return I(c,{initialValue:!0}),(o,p)=>(m(),v(E,{closeable:"",show:t.value,onClose:p[2]||(p[2]=$=>t.value=!1)},{title:i(()=>p[3]||(p[3]=[e("div",{class:"flex space-x-2"},[e("span",null," Update Client ")],-1)])),content:i(()=>[e("div",ue,[e("div",me,[n(j,{id:"clientName",ref_key:"clientNameInput",ref:c,modelValue:l.value.name,"onUpdate:modelValue":p[0]||(p[0]=$=>l.value.name=$),type:"text",placeholder:"Client Name",class:"mt-1 block w-full",required:"",autocomplete:"clientName",onKeydown:B(s,["enter"])},null,8,["modelValue"])])])]),footer:i(()=>[n(y,{onClick:p[1]||(p[1]=$=>t.value=!1)},{default:i(()=>p[4]||(p[4]=[x(" Cancel ")])),_:1,__:[4]}),n(S,{class:D(["ms-3",{"opacity-25":a.value}]),disabled:a.value,onClick:s},{default:i(()=>p[5]||(p[5]=[x(" Update Client ")])),_:1,__:[5]},8,["class","disabled"])]),_:1},8,["show"]))}}),fe={class:"whitespace-nowrap flex items-center space-x-5 3xl:pl-12 py-4 pr-3 text-sm font-medium text-text-primary pl-4 sm:pl-6 lg:pl-8 3xl:pl-12"},ve={class:"whitespace-nowrap flex items-center space-x-5 3xl:pl-12 py-4 pr-3 text-sm font-medium text-text-primary pl-4 sm:pl-6 lg:pl-8 3xl:pl-12"},_e={class:"text-text-secondary"},xe={class:"whitespace-nowrap px-3 py-4 text-sm text-text-secondary flex space-x-1 items-center font-medium"},we={class:"relative whitespace-nowrap flex items-center pl-3 text-right text-sm font-medium sm:pr-0 pr-4 sm:pr-6 lg:pr-8 3xl:pr-12"},Ce=C({__name:"ClientTableRow",props:{client:{}},setup(f){const{projects:u}=U(H()),t=f;function a(){b().deleteClient(t.client.id)}const d=T(()=>u.value.filter(c=>c.client_id===t.client.id).length);function l(){b().updateClient(t.client.id,{...t.client,is_archived:!t.client.is_archived})}const s=_(!1);return(c,o)=>(m(),v(te,null,{default:i(()=>[n(ce,{show:s.value,"onUpdate:show":o[0]||(o[0]=p=>s.value=p),client:c.client},null,8,["show","client"]),e("div",fe,[e("span",null,h(c.client.name),1)]),e("div",ve,[e("span",_e,h(d.value)+" Projects ",1)]),e("div",xe,[n(r(se),{class:"w-5"}),o[2]||(o[2]=e("span",null,"Active",-1))]),e("div",we,[n(pe,{client:c.client,onEdit:o[1]||(o[1]=p=>s.value=!0),onArchive:l,onDelete:a},null,8,["client"])])]),_:1}))}}),be={class:"flex items-center space-x-4"},ke={class:"col-span-6 sm:col-span-4 flex-1"},K=C({__name:"ClientCreateModal",props:{show:{default:!1},showModifiers:{}},emits:["update:show"],setup(f){const{createClient:u}=b(),t=V(f,"show"),a=_(!1),d=_({name:""});async function l(){await u(d.value),d.value.name="",t.value=!1}const s=_(null);return I(s,{initialValue:!0}),(c,o)=>(m(),v(E,{closeable:"",show:t.value,onClose:o[2]||(o[2]=p=>t.value=!1)},{title:i(()=>o[3]||(o[3]=[e("div",{class:"flex space-x-2"},[e("span",null," Create Client ")],-1)])),content:i(()=>[e("div",be,[e("div",ke,[n(ne,{for:"clientName",value:"Client Name"}),n(j,{id:"clientName",ref_key:"clientNameInput",ref:s,modelValue:d.value.name,"onUpdate:modelValue":o[0]||(o[0]=p=>d.value.name=p),type:"text",placeholder:"Client Name",class:"mt-1 block w-full",required:"",autocomplete:"clientName",onKeydown:B(l,["enter"])},null,8,["modelValue"])])])]),footer:i(()=>[n(y,{onClick:o[1]||(o[1]=p=>t.value=!1)},{default:i(()=>o[4]||(o[4]=[x(" Cancel ")])),_:1,__:[4]}),n(S,{class:D(["ms-3",{"opacity-25":a.value}]),disabled:a.value,onClick:l},{default:i(()=>o[5]||(o[5]=[x(" Create Client ")])),_:1,__:[5]},8,["class","disabled"])]),_:1},8,["show"]))}}),ye=C({__name:"ClientTableHeading",setup(f){return(u,t)=>(m(),v(le,null,{default:i(()=>t[0]||(t[0]=[e("div",{class:"py-1.5 pr-3 text-left font-semibold text-text-primary pl-4 sm:pl-6 lg:pl-8 3xl:pl-12"}," Name ",-1),e("div",{class:"px-3 py-1.5 text-left font-semibold text-text-primary"},null,-1),e("div",{class:"px-3 py-1.5 text-left font-semibold text-text-primary"},"Status",-1),e("div",{class:"relative py-1.5 pl-3 pr-4 sm:pr-6 lg:pr-8 3xl:pr-12"},[e("span",{class:"sr-only"},"Edit")],-1)])),_:1,__:[0]}))}}),$e={class:"flow-root max-w-[100vw] overflow-x-auto"},ge={class:"inline-block min-w-full align-middle"},he={"data-testid":"client_table",class:"grid min-w-full",style:{"grid-template-columns":"1fr 150px 200px 80px"}},Ne={key:0,class:"col-span-3 py-24 text-center"},Fe={key:0,class:"pb-5"},Me=C({__name:"ClientTable",props:{clients:{}},setup(f){const u=_(!1);return(t,a)=>(m(),k(F,null,[n(K,{show:u.value,"onUpdate:show":a[0]||(a[0]=d=>u.value=d)},null,8,["show"]),e("div",$e,[e("div",ge,[e("div",he,[n(ye),t.clients.length===0?(m(),k("div",Ne,[n(r(re),{class:"w-8 text-icon-default inline pb-2"}),a[3]||(a[3]=e("h3",{class:"text-text-primary font-semibold"}," No clients found ",-1)),r(N)()?(m(),k("p",Fe," Create your first client now! ")):w("",!0),r(N)()?(m(),v(y,{key:1,icon:r(q),onClick:a[1]||(a[1]=d=>u.value=!0)},{default:i(()=>a[2]||(a[2]=[x("Create your First Client ")])),_:1,__:[2]},8,["icon"])):w("",!0)])):w("",!0),(m(!0),k(F,null,L(t.clients,d=>(m(),v(Ce,{key:d.id,client:d},null,8,["client"]))),128))])])])],64))}}),Ae={class:"flex items-center space-x-3 sm:space-x-6"},Ve={class:""},$t=C({__name:"Clients",setup(f){O(()=>{b().fetchClients()});const u=_("active"),t=_(!1),{clients:a}=U(b()),d=T(()=>a.value.filter(l=>u.value==="active"?!l.is_archived:l.is_archived));return(l,s)=>(m(),v(z,{title:"Clients","data-testid":"clients_view"},{default:i(()=>[n(Z,{class:"py-5 border-b sticky top-0 z-10 dark:border-[#303F61] flex justify-between items-center dark:bg-[#0F1426]"},{default:i(()=>[e("div",Ae,[n(ie,{icon:r(oe),title:"Clients"},null,8,["icon"]),n(ae,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=c=>u.value=c)},{default:i(()=>[n(A,{value:"active"},{default:i(()=>s[3]||(s[3]=[x("Active")])),_:1,__:[3]}),n(A,{value:"archived"},{default:i(()=>s[4]||(s[4]=[x(" Archived ")])),_:1,__:[4]})]),_:1},8,["modelValue"])]),r(N)()?(m(),v(y,{key:0,icon:r(q),onClick:s[1]||(s[1]=c=>t.value=!0)},{default:i(()=>s[5]||(s[5]=[x("Create Client ")])),_:1,__:[5]},8,["icon"])):w("",!0),n(K,{show:t.value,"onUpdate:show":s[2]||(s[2]=c=>t.value=c)},null,8,["show"])]),_:1}),e("div",Ve,[n(Me,{clients:d.value},null,8,["clients"])])]),_:1}))}});export{$t as default};
//# sourceMappingURL=Clients-DECTIQsf.js.map
