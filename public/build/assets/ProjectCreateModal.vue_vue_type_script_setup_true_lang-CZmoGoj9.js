import{d as x,x as g,y as j,r as m,c as v,b,o as _,w as i,e as s,l as y,n as $,f as a,z as N,u as k,t as P,j as U}from"./app-Dzd5B06R.js";import{_ as B}from"./TextInput.vue_vue_type_script_setup_true_lang-Cw992cSP.js";import{_ as M}from"./SecondaryButton.vue_vue_type_script_setup_true_lang-DBBC7wMi.js";import{_ as T}from"./DialogModal.vue_vue_type_script_setup_true_lang-Cdp4pUKI.js";import{g as C}from"./BillableIcon-C1VJddF3.js";import{_ as z}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-CWUYAS8h.js";import{u as F}from"./index-NRw1C4BU.js";import{a as E,b as I,c as K,_ as R}from"./ProjectEditBillableSection.vue_vue_type_script_setup_true_lang-DqRZf2t1.js";import{a as S}from"./SelectDropdown.vue_vue_type_script_setup_true_lang-CaZ4i_G-.js";import{_ as d}from"./InputLabel.vue_vue_type_script_setup_true_lang-BJprejo3.js";import{r as q}from"./MainContainer-WpbdfkDp.js";const D={class:"sm:flex items-center space-y-2 sm:space-y-0 sm:space-x-4"},A={class:"flex-1 flex items-center"},G={class:"text-center pr-5"},H={class:"w-full"},J={class:"flex items-center space-x-2"},ae=x({__name:"ProjectCreateModal",props:g({clients:{},createProject:{type:Function},createClient:{type:Function},currency:{},enableEstimatedTime:{type:Boolean}},{show:{default:!1},showModifiers:{}}),emits:["update:show"],setup(c){const n=j(c,"show"),f=m(!1),r=c,V=v(()=>r.clients.filter(o=>!o.is_archived)),l=m({name:"",color:C(),client_id:null,billable_rate:null,is_billable:!1,estimated_time:null});async function u(){await r.createProject(l.value),n.value=!1,l.value={name:"",color:C(),client_id:null,billable_rate:null,is_billable:!1,estimated_time:null}}const p=m(null);F(p,{initialValue:!0});const w=v(()=>{var o;return l.value.client_id?(o=r.clients.find(e=>e.id===l.value.client_id))==null?void 0:o.name:"No Client"});return(o,e)=>(_(),b(T,{closeable:"",show:n.value,onClose:e[9]||(e[9]=t=>n.value=!1)},{title:i(()=>e[10]||(e[10]=[a("div",{class:"flex space-x-2"},[a("span",null," Create Project ")],-1)])),content:i(()=>[a("div",D,[a("div",A,[a("div",G,[s(d,{for:"color",value:"Color"}),s(E,{modelValue:l.value.color,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.color=t),class:"mt-2.5"},null,8,["modelValue"])]),a("div",H,[s(d,{for:"projectName",value:"Project name"}),s(B,{id:"projectName",ref_key:"projectNameInput",ref:p,modelValue:l.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.name=t),name:"projectName",type:"text",placeholder:"The next big thing",class:"mt-2 block w-full",required:"",autocomplete:"projectName",onKeydown:e[2]||(e[2]=N(t=>u(),["enter"]))},null,8,["modelValue"])])]),a("div",null,[s(d,{for:"client",value:"Client"}),s(I,{modelValue:l.value.client_id,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.client_id=t),"create-client":o.createClient,clients:V.value,class:"mt-2"},{trigger:i(()=>[s(S,{tag:"button",class:"bg-input-background cursor-pointer hover:bg-tertiary",size:"xlarge"},{default:i(()=>[a("div",J,[s(k(q),{class:"w-5 text-icon-default"}),a("span",null,P(w.value),1)])]),_:1})]),_:1},8,["modelValue","create-client","clients"])])]),a("div",null,[a("div",null,[s(K,{"is-billable":l.value.is_billable,"onUpdate:isBillable":e[4]||(e[4]=t=>l.value.is_billable=t),"billable-rate":l.value.billable_rate,"onUpdate:billableRate":e[5]||(e[5]=t=>l.value.billable_rate=t),currency:o.currency},null,8,["is-billable","billable-rate","currency"])]),a("div",null,[o.enableEstimatedTime?(_(),b(R,{key:0,modelValue:l.value.estimated_time,"onUpdate:modelValue":e[6]||(e[6]=t=>l.value.estimated_time=t),onSubmit:e[7]||(e[7]=t=>u())},null,8,["modelValue"])):U("",!0)])])]),footer:i(()=>[s(M,{onClick:e[8]||(e[8]=t=>n.value=!1)},{default:i(()=>e[11]||(e[11]=[y(" Cancel")])),_:1,__:[11]}),s(z,{class:$(["ms-3",{"opacity-25":f.value}]),disabled:f.value,onClick:u},{default:i(()=>e[12]||(e[12]=[y(" Create Project ")])),_:1,__:[12]},8,["class","disabled"])]),_:1},8,["show"]))}});export{ae as _};
