import{t as I}from"./bundle-mjs-D696Ktp4.js";import{d as b,c as g,b as $,o as d,k as N,n as F,u as w,w as x,p as B,h as y,f as h,t as q,x as V,y as C,r as p,D as v,q as z,v as L,F as T,i as U,e as A}from"./app-Dzd5B06R.js";import{b as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-BfXcHqGL.js";import{o as f}from"./index-NRw1C4BU.js";const W=b({__name:"Badge",props:{size:{default:"base"},tag:{default:"div"},class:{},color:{default:"var(--theme-color-icon-default)"},border:{type:Boolean,default:!0}},setup(c){const u=c,r={base:"py-1 px-2 space-x-1.5 text-xs",large:"py-1 sm:py-1.5 px-2 sm:px-3 space-x-1.5 sm:space-x-2 text-xs sm:text-sm text-text-secondary",xlarge:"py-2 sm:py-2.5 px-3 sm:px-3.5 space-x-2 sm:space-x-3 text-sm sm:text-sm text-text-secondary"},n=g(()=>u.border?"border-input-border border":""),t=g(()=>u.tag==="button"?"hover:bg-tertiary":"");return(i,K)=>(d(),$(N(i.tag),{class:F(w(I)(t.value,r[i.size],n.value,"rounded transition inline-flex items-center font-semibold text-text-primary disabled:text-text-quaternary outline-0  focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",u.class))},{default:x(()=>[B(i.$slots,"default")]),_:3},8,["class"]))}}),j={class:"px-1"},E=b({__name:"SelectDropdownItem",props:{name:{},selected:{type:Boolean},highlighted:{type:Boolean}},setup(c){const u=c;return(r,n)=>(d(),y("div",j,[h("div",{class:F(w(I)("flex items-center space-x-3 w-full px-1.5 py-1.5 rounded text-start text-sm font-medium leading-5 text-text-primary focus:outline-none focus:bg-card-background-active transition duration-150 ease-in-out cursor-pointer ",u.highlighted&&"bg-card-background-active",u.selected?"bg-accent-300/20":"hover:bg-card-background-active"))},[h("span",null,q(r.name),1)],2)]))}}),G=["data-select-id","value","data-item-id"],X=b({__name:"SelectDropdown",props:V({items:{},getKeyFromItem:{},getNameForItem:{},align:{default:"start"},class:{}},{modelValue:{default:null},modelModifiers:{},open:{default:!1},openModifiers:{}}),emits:V(["update:modelValue","changed"],["update:modelValue","update:open"]),setup(c,{emit:u}){const r=C(c,"modelValue"),n=C(c,"open"),t=c,i=p(null),K=p(""),l=g(()=>t.items.filter(e=>{var s,a;return t.getNameForItem(e).toLowerCase().includes(((a=(s=K.value)==null?void 0:s.toLowerCase())==null?void 0:a.trim())||"")})),o=p(r.value);v(r,()=>{r.value&&(o.value=r.value)}),z(()=>{o.value||_()}),v(l,()=>{_()});function _(){l.value.length>0&&l.value.find(e=>t.getKeyFromItem(e)===o.value)===void 0&&(o.value=t.getKeyFromItem(l.value[0]))}v(o,()=>{var e;if(o.value){const s=(e=i.value)==null?void 0:e.querySelector(`[data-select-id="${o.value}"]`);s==null||s.scrollIntoView({block:"nearest",inline:"nearest"})}});const D=u;function k(e){r.value=e,D("changed"),n.value=!1}function M(){if(m.value){const e=l.value.indexOf(m.value);e===0?o.value=t.getKeyFromItem(l.value[l.value.length-1]):o.value=t.getKeyFromItem(l.value[e-1])}}function S(){if(m.value){const e=l.value.indexOf(m.value);e===l.value.length-1?o.value=t.getKeyFromItem(l.value[0]):o.value=t.getKeyFromItem(l.value[e+1])}}const m=g(()=>t.items.find(e=>t.getKeyFromItem(e)===o.value));return f("ArrowDown",e=>{n.value===!0&&(S(),e.preventDefault())}),f("ArrowUp",e=>{n.value===!0&&(M(),e.preventDefault())}),f("Enter",e=>{n.value===!0&&(k(o.value),e.preventDefault())}),v(n,()=>{n.value===!0&&L(()=>{var s,a;const e=(s=i.value)==null?void 0:s.querySelector(`[data-select-id="${r.value}"]`);(a=i.value)==null||a.scrollTo({top:(e==null?void 0:e.offsetTop)??0,behavior:"instant"})})}),(e,s)=>(d(),$(O,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a),align:e.align,"close-on-content-click":!1},{trigger:x(()=>[B(e.$slots,"trigger")]),content:x(()=>[h("div",{ref_key:"dropdownViewport",ref:i,class:F(w(I)("w-60 py-1.5 max-h-60 overflow-y-scroll",t.class))},[(d(!0),y(T,null,U(l.value,a=>(d(),y("div",{key:t.getKeyFromItem(a)??"none",role:"option","data-select-id":t.getKeyFromItem(a),value:t.getKeyFromItem(a),"data-item-id":t.getKeyFromItem(a)},[A(E,{highlighted:t.getKeyFromItem(a)===o.value,selected:t.getKeyFromItem(a)===r.value,name:t.getNameForItem(a),onMouseenter:H=>o.value=t.getKeyFromItem(a),onClick:H=>k(t.getKeyFromItem(a))},null,8,["highlighted","selected","name","onMouseenter","onClick"])],8,G))),128))],2)]),_:3},8,["modelValue","align"]))}});export{X as _,W as a};
