import{d as w,m as x,p as $,r as m,l as v,c as b,o as _,w as i,b as s,g as C,n as j,a as t,q as N,u as k,t as F,f as B}from"./app-CZLkYVhz.js";import{_ as P}from"./TextInput.vue_vue_type_script_setup_true_lang-DUXudii_.js";import{_ as U}from"./SecondaryButton.vue_vue_type_script_setup_true_lang-iS1Fl1UI.js";import{_ as D}from"./DialogModal.vue_vue_type_script_setup_true_lang-Dn6gUihL.js";import{g as y}from"./color-NTCrcshl.js";import{_ as E}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-DGqi3YE0.js";import{u as M}from"./index-CHolqtoz.js";import{a as T,b as q,c as z,_ as I}from"./ProjectEditBillableSection.vue_vue_type_script_setup_true_lang-BtqEk6mW.js";import{_ as K}from"./Badge.vue_vue_type_script_setup_true_lang-Bn80q8dA.js";import{_ as d}from"./InputLabel.vue_vue_type_script_setup_true_lang-DP24QN7l.js";import{r as R}from"./UserCircleIcon-B_03lMym.js";const S={class:"sm:flex items-center space-y-2 sm:space-y-0 sm:space-x-4"},A={class:"flex-1 flex items-center"},G={class:"text-center pr-5"},H={class:"w-full"},J={class:"flex items-center space-x-2"},te=w({__name:"ProjectCreateModal",props:x({clients:{},createProject:{type:Function},createClient:{type:Function},currency:{},enableEstimatedTime:{type:Boolean}},{show:{default:!1},showModifiers:{}}),emits:["update:show"],setup(c){const n=$(c,"show"),f=m(!1),r=c,V=v(()=>r.clients.filter(o=>!o.is_archived)),l=m({name:"",color:y(),client_id:null,billable_rate:null,is_billable:!1,estimated_time:null});async function u(){await r.createProject(l.value),n.value=!1,l.value={name:"",color:y(),client_id:null,billable_rate:null,is_billable:!1,estimated_time:null}}const p=m(null);M(p,{initialValue:!0});const g=v(()=>{var o;return l.value.client_id?(o=r.clients.find(e=>e.id===l.value.client_id))==null?void 0:o.name:"No Client"});return(o,e)=>(_(),b(D,{closeable:"",show:n.value,onClose:e[9]||(e[9]=a=>n.value=!1)},{title:i(()=>e[10]||(e[10]=[t("div",{class:"flex space-x-2"},[t("span",null," Create Project ")],-1)])),content:i(()=>[t("div",S,[t("div",A,[t("div",G,[s(d,{for:"color",value:"Color"}),s(T,{modelValue:l.value.color,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.color=a),class:"mt-2.5"},null,8,["modelValue"])]),t("div",H,[s(d,{for:"projectName",value:"Project name"}),s(P,{id:"projectName",ref_key:"projectNameInput",ref:p,modelValue:l.value.name,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.name=a),name:"projectName",type:"text",placeholder:"The next big thing",class:"mt-2 block w-full",required:"",autocomplete:"projectName",onKeydown:e[2]||(e[2]=N(a=>u(),["enter"]))},null,8,["modelValue"])])]),t("div",null,[s(d,{for:"client",value:"Client"}),s(q,{modelValue:l.value.client_id,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.client_id=a),"create-client":o.createClient,clients:V.value,class:"mt-2"},{trigger:i(()=>[s(K,{tag:"button",class:"dark:bg-[#0F1426] dark:border-[#303F61] hover:dark:bg-[#3F4961] border-[#DFDFDF] bg-[#E0E3E5] hover:bg-[#BFC7D6] cursor-pointer",size:"xlarge"},{default:i(()=>[t("div",J,[s(k(R),{class:"w-5 text-icon-default"}),t("span",null,F(g.value),1)])]),_:1})]),_:1},8,["modelValue","create-client","clients"])])]),t("div",null,[t("div",null,[s(z,{"is-billable":l.value.is_billable,"onUpdate:isBillable":e[4]||(e[4]=a=>l.value.is_billable=a),"billable-rate":l.value.billable_rate,"onUpdate:billableRate":e[5]||(e[5]=a=>l.value.billable_rate=a),currency:o.currency},null,8,["is-billable","billable-rate","currency"])]),t("div",null,[o.enableEstimatedTime?(_(),b(I,{key:0,modelValue:l.value.estimated_time,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.estimated_time=a),onSubmit:e[7]||(e[7]=a=>u())},null,8,["modelValue"])):B("",!0)])])]),footer:i(()=>[s(U,{onClick:e[8]||(e[8]=a=>n.value=!1)},{default:i(()=>e[11]||(e[11]=[C(" Cancel")])),_:1,__:[11]}),s(E,{class:j(["ms-3",{"opacity-25":f.value}]),disabled:f.value,onClick:u},{default:i(()=>e[12]||(e[12]=[C(" Create Project ")])),_:1,__:[12]},8,["class","disabled"])]),_:1},8,["show"]))}});export{te as _};
//# sourceMappingURL=ProjectCreateModal.vue_vue_type_script_setup_true_lang-BfIlDPot.js.map
