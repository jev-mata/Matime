{"version":3,"file":"theme-DlEllDdR.js","sources":["../../../resources/js/utils/theme.ts"],"sourcesContent":["import { usePreferredColorScheme, useStorage } from \"@vueuse/core\";\nimport { computed, watch } from \"vue\";\n\ntype themeOption = \"system\" | \"light\" | \"dark\";\nconst themeSetting = useStorage<themeOption>(\"theme\", \"system\");\n// reload page when themeSettingChanges\nwatch(\n    themeSetting,\n    () => {\n        location.reload();\n    }\n)\nconst preferredColor = usePreferredColorScheme();\nconst theme = computed(() => {\n    if(themeSetting.value === \"system\"){\n        console.log(preferredColor.value);\n        if (preferredColor.value === 'no-preference') {\n            return 'dark';\n        }\n        return preferredColor.value;\n    }\n    return themeSetting.value\n});\n\nfunction useTheme() {\n    document.documentElement.classList.add(theme.value);\n    watch(theme, (newTheme, oldTheme) => {\n        document.documentElement.classList.remove(oldTheme);\n        document.documentElement.classList.add(newTheme);\n    });\n}\n\nexport { type themeOption, themeSetting, theme, useTheme };\n"],"names":["themeSetting","useStorage","watch","preferredColor","usePreferredColorScheme","theme","computed","useTheme","newTheme","oldTheme"],"mappings":"4FAIA,MAAMA,EAAeC,EAAwB,QAAS,QAAQ,EAE9DC,EACIF,EACA,IAAM,CACF,SAAS,OAAA,CAAO,CAExB,EACA,MAAMG,EAAiBC,EAAA,EACjBC,EAAQC,EAAS,IAChBN,EAAa,QAAU,UACtB,QAAQ,IAAIG,EAAe,KAAK,EAC5BA,EAAe,QAAU,gBAClB,OAEJA,EAAe,OAEnBH,EAAa,KACvB,EAED,SAASO,GAAW,CAChB,SAAS,gBAAgB,UAAU,IAAIF,EAAM,KAAK,EAClDH,EAAMG,EAAO,CAACG,EAAUC,IAAa,CACjC,SAAS,gBAAgB,UAAU,OAAOA,CAAQ,EAClD,SAAS,gBAAgB,UAAU,IAAID,CAAQ,CAAA,CAClD,CACL"}